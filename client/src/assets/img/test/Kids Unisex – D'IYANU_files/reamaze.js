function ouibounce(e,t){"use strict";function n(e,t){return void 0===e?t:e}function r(){f.addEventListener("mouseleave",i),f.addEventListener("mouseenter",o)}function i(e){e.clientY>c||(h=setTimeout(a,u))}function o(){h&&(clearTimeout(h),h=null)}function a(){s(),d()}function s(){f.removeEventListener("mouseleave",i),f.removeEventListener("mouseenter",o)}var p=t||{},c=n(p.sensitivity,20),l=n(p.timer,1e3),u=n(p.delay,0),d=p.callback||function(){},h=null,f=document.documentElement;return setTimeout(r,l),{fire:a,disable:s,enable:r}}function is_touch_device(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)}function webpushNotEnabled(){var e="safari"in window&&"pushNotification"in window.safari,t="serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,n=e&&"granted"===safari.pushNotification.permission("web.com.reamaze.push").permission,r=t&&"granted"===Notification.permission,i=e&&!n,o=t&&!r&&"denied"!==Notification.permission;return!window.cordova&&(i||o)}function stripdown(e,t){var n,r,i=new marked.Renderer;t?(n={elements:["span"],attributes:{span:["class"]}},r=!1):(n={elements:[]},r=!0);var o=new Sanitize(n),a=document.createElement("div");a.innerHTML=marked(e,{sanitize:r,gfm:!0,renderer:i,silent:!0});var s=o.clean_node(a),p=document.createElement("div");return p.appendChild(s),p.innerHTML}function encodeToHtmlEntities(e){var t="[\\u{000A0}-\\u{FFFFF}]";return t=new RegExp(t,"gu"),e.replace(t,function(e){return"&#"+e.codePointAt(0)+";"})}function getContrastYIQ(e){return"#"===e.slice(0,1)&&(e=e.slice(1)),3===e.length&&(e=e.split("").map(function(e){return e+e}).join("")),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var JSON;window._original_export=window["export"],window._original_exports=window.exports,window._original_require=window.require,window._original_requirejs=window.requirejs,window._original_module=window.module,window._original_define=window.define,window["export"]=window.exports=window.require=window.requirejs=window.module=window.define=undefined,JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof rep&&(p=rep.call(t,e,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(p)){for(o=p.length,n=0;n<o;n+=1)a[n]=str(n,p)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],p))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(i=str(r,p))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&((r=walk(i,n))!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(he.isFunction(t))return he.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return he.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ee.test(t))return he.filter(t,e,n);t=he.filter(t,e)}return he.grep(e,function(e){return he.inArray(e,t)>-1!==n})}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t={};return he.each(e.match(Oe)||[],function(e,n){t[n]=!0}),t}function a(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(re.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(a(),he.ready())}function p(e,t,n){if(n===undefined&&1===e.nodeType){var r="data-"+t.replace(De,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ie.test(n)?he.parseJSON(n):n)}catch(i){}he.data(e,t,n)}else n=undefined}return n}function c(e){var t;for(t in e)if(("data"!==t||!he.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,n,r){if(Ae(e)){var i,o,a=he.expando,s=e.nodeType,p=s?he.cache:e,c=s?e[a]:e[a]&&a;if(c&&p[c]&&(r||p[c].data)||n!==undefined||"string"!=typeof t)return c||(c=s?e[a]=ne.pop()||he.guid++:a),p[c]||(p[c]=s?{}:{toJSON:he.noop}),"object"!=typeof t&&"function"!=typeof t||(r?p[c]=he.extend(p[c],t):p[c].data=he.extend(p[c].data,t)),o=p[c],r||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[he.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[he.camelCase(t)]):i=o,i}}function u(e,t,n){if(Ae(e)){var r,i,o=e.nodeType,a=o?he.cache:e,s=o?e[he.expando]:he.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=he.isArray(t)?t.concat(he.map(t,he.camelCase)):t in r?[t]:(t=he.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!c(r):!he.isEmptyObject(r))return}(n||(delete a[s].data,c(a[s])))&&(o?he.cleanData([e],!0):ue.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function d(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},p=s(),c=n&&n[3]||(he.cssNumber[t]?"":"px"),l=(he.cssNumber[t]||"px"!==c&&+p)&&Ue.exec(he.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+p||1;do{l/=o=o||".5",he.style(e,t,l+c)}while(o!==(o=s()/p)&&1!==o&&--a)}return n&&(l=+l||+p||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function h(e){var t=Ke.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){var n,r,i=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||he.nodeName(r,t)?o.push(r):he.merge(o,f(r,t));return t===undefined||t&&he.nodeName(e,t)?he.merge([e],o):o}function m(e,t){for(var n,r=0;null!=(n=e[r]);r++)he._data(n,"globalEval",!t||he._data(t[r],"globalEval"))}function g(e){Ve.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t,n,r,i){for(var o,a,s,p,c,l,u,d=e.length,y=h(t),b=[],v=0;v<d;v++)if((a=e[v])||0===a)if("object"===he.type(a))he.merge(b,a.nodeType?[a]:a);else if(Ge.test(a)){for(p=p||y.appendChild(t.createElement("div")),c=(He.exec(a)||["",""])[1].toLowerCase(),u=Ye[c]||Ye._default,p.innerHTML=u[1]+he.htmlPrefilter(a)+u[2],o=u[0];o--;)p=p.lastChild;if(!ue.leadingWhitespace&&$e.test(a)&&b.push(t.createTextNode($e.exec(a)[0])),!ue.tbody)for(o=(a="table"!==c||Xe.test(a)?"<table>"!==u[1]||Xe.test(a)?0:p:p.firstChild)&&a.childNodes.length;o--;)he.nodeName(l=a.childNodes[o],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(he.merge(b,p.childNodes),p.textContent="";p.firstChild;)p.removeChild(p.firstChild);p=y.lastChild}else b.push(t.createTextNode(a));for(p&&y.removeChild(p),ue.appendChecked||he.grep(f(b,"input"),g),v=0;a=b[v++];)if(r&&he.inArray(a,r)>-1)i&&i.push(a);else if(s=he.contains(a.ownerDocument,a),p=f(y.appendChild(a),"script"),s&&m(p),n)for(o=0;a=p[o++];)We.test(a.type||"")&&n.push(a);return p=null,y}function b(){return!0}function v(){return!1}function x(){try{return re.activeElement}catch(e){}}function C(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=undefined),t)C(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=undefined):null==i&&("string"==typeof n?(i=r,r=undefined):(i=r,r=n,n=undefined)),!1===i)i=v;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return he().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,i,r,n)})}function w(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function E(e){return e.type=(null!==he.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){if(1===t.nodeType&&he.hasData(e)){var n,r,i,o=he._data(e),a=he._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)he.event.add(t,n,s[n][r]);a.data&&(a.data=he.extend({},a.data))}}function S(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.noCloneEvent&&t[he.expando]){for(r in(i=he._data(t)).events)he.removeEvent(t,r,i.handle);t.removeAttribute(he.expando)}"script"===n&&t.text!==e.text?(E(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.html5Clone&&e.innerHTML&&!he.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ve.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(e,t,n,r){t=oe.apply([],t);var i,o,a,s,p,c,l=0,u=e.length,d=u-1,h=t[0],m=he.isFunction(h);if(m||u>1&&"string"==typeof h&&!ue.checkClone&&at.test(h))return e.each(function(i){var o=e.eq(i);m&&(t[0]=h.call(this,i,o.html())),N(o,t,n,r)});if(u&&(i=(c=y(t,e[0].ownerDocument,!1,e,r)).firstChild,1===c.childNodes.length&&(c=i),i||r)){for(a=(s=he.map(f(c,"script"),E)).length;l<u;l++)o=c,l!==d&&(o=he.clone(o,!0,!0),a&&he.merge(s,f(o,"script"))),n.call(e[l],o,l);if(a)for(p=s[s.length-1].ownerDocument,he.map(s,_),l=0;l<a;l++)o=s[l],We.test(o.type||"")&&!he._data(o,"globalEval")&&he.contains(p,o)&&(o.src?he._evalUrl&&he._evalUrl(o.src):he.globalEval((o.text||o.textContent||o.innerHTML||"").replace(pt,"")));c=i=null}return e}function R(e,t,n){for(var r,i=t?he.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||he.cleanData(f(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&m(f(r,"script")),r.parentNode.removeChild(r));return e}function k(e,t){var n=he(t.createElement(e)).appendTo(t.body),r=he.css(n[0],"display");return n.detach(),r}function O(e){var t=re,n=ut[e];return n||("none"!==(n=k(e,t))&&n||((t=((lt=(lt||he("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||lt[0].contentDocument).document).write(),t.close(),n=k(e,t),lt.detach()),ut[e]=n),n}function z(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function A(e){if(e in St)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Tt.length;n--;)if((e=Tt[n]+t)in St)return e}function I(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=he._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Be(r)&&(o[a]=he._data(r,"olddisplay",O(r.nodeName)))):(i=Be(r),(n&&"none"!==n||!i)&&he._data(r,"olddisplay",i?n:he.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=wt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function P(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=he.css(e,n+Fe[o],!0,i)),r?("content"===n&&(a-=he.css(e,"padding"+Fe[o],!0,i)),"margin"!==n&&(a-=he.css(e,"border"+Fe[o]+"Width",!0,i))):(a+=he.css(e,"padding"+Fe[o],!0,i),"padding"!==n&&(a+=he.css(e,"border"+Fe[o]+"Width",!0,i)));return a}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=gt(e),a=ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=yt(e,t,o))<0||null==i)&&(i=e.style[t]),ht.test(i))return i;r=a&&(ue.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+P(e,t,n||(a?"border":"content"),r,o)+"px"}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function L(){return e.setTimeout(function(){Nt=undefined}),Nt=he.now()}function U(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var r,i=(V.tweeners[t]||[]).concat(V.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function B(e,t,n){var r,i,o,a,s,p,c,l=this,u={},d=e.style,h=e.nodeType&&Be(e),f=he._data(e,"fxshow");for(r in n.queue||(null==(s=he._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,p=s.empty.fire,s.empty.fire=function(){s.unqueued||p()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,he.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=he.css(e,"display"))?he._data(e,"olddisplay")||O(e.nodeName):c)&&"none"===he.css(e,"float")&&(ue.inlineBlockNeedsLayout&&"inline"!==O(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ue.shrinkWrapBlocks()||l.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(i=t[r],Dt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!f||f[r]===undefined)continue;h=!0}u[r]=f&&f[r]||he.style(e,r)}else c=undefined;if(he.isEmptyObject(u))"inline"===("none"===c?O(e.nodeName):c)&&(d.display=c);else for(r in f?"hidden"in f&&(h=f.hidden):f=he._data(e,"fxshow",{}),o&&(f.hidden=!h),h?he(e).show():l.done(function(){he(e).hide()}),l.done(function(){var t;for(t in he._removeData(e,"fxshow"),u)he.style(e,t,u[t])}),u)a=F(h?f[r]:0,r,l),r in f||(f[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function q(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=he.camelCase(n)],o=e[n],he.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=he.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function V(e,t,n){var r,i,o=0,a=V.prefilters.length,s=he.Deferred().always(function(){delete p.elem}),p=function(){if(i)return!1;for(var t=Nt||L(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:Nt||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(q(l,c.opts.specialEasing);o<a;o++)if(r=V.prefilters[o].call(c,e,l,c.opts))return he.isFunction(r.stop)&&(he._queueHooks(c.elem,c.opts.queue).stop=he.proxy(r.stop,r)),r;return he.map(l,F,c),he.isFunction(c.opts.start)&&c.opts.start.call(e,c),he.fx.timer(he.extend(p,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return he.attr(e,"class")||""}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Oe)||[];if(he.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function $(e,t,n,r){function i(s){var p;return o[s]=!0,he.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(p=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),p}var o={},a=e===an;return i(t.dataTypes[0])||!o["*"]&&i("*")}function K(e,t){var n,r,i=he.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&he.extend(!0,e,n),e}function Y(e,t,n){for(var r,i,o,a,s=e.contents,p=e.dataTypes;"*"===p[0];)p.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){p.unshift(a);break}if(p[0]in n)o=p[0];else{for(a in n){if(!p[0]||e.converters[a+" "+p[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==p[0]&&p.unshift(o),n[o]}function G(e,t,n,r){var i,o,a,s,p,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!p&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=o,o=l.shift())if("*"===o)o=p;else if("*"!==p&&p!==o){if(!(a=c[p+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[p+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+p+" to "+o}}}return{state:"success",data:t}}function X(e){return e.style&&e.style.display||he.css(e,"display")}function Q(e){if(!he.contains(e.ownerDocument||re,e))return!0;for(;e&&1===e.nodeType;){if("none"===X(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(e,t,n,r){var i;if(he.isArray(t))he.each(t,function(t,i){n||un.test(e)?r(e,i):J(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==he.type(t))r(e,t);else for(i in t)J(e+"["+i+"]",t[i],n,r)}function Z(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return he.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],re=e.document,ie=ne.slice,oe=ne.concat,ae=ne.push,se=ne.indexOf,pe={},ce=pe.toString,le=pe.hasOwnProperty,ue={},de="1.12.4",he=function(e,t){return new he.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ye=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,selector:"",length:0,toArray:function(){return ie.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ie.call(this)},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},he.extend=he.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,p=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||he.isFunction(a)||(a={}),s===p&&(a=this,s--);s<p;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(c&&n&&(he.isPlainObject(n)||(t=he.isArray(n)))?(t?(t=!1,o=e&&he.isArray(e)?e:[]):o=e&&he.isPlainObject(e)?e:{},a[r]=he.extend(c,o,n)):n!==undefined&&(a[r]=n));return a},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray||function(e){return"array"===he.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!he.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==he.type(e)||e.nodeType||he.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ue.ownFirst)for(t in e)return le.call(e,t);for(t in e);return t===undefined||le.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[ce.call(e)]||"object":typeof e},globalEval:function(t){t&&he.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?he.merge(r,"string"==typeof e?[e]:e):ae.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;t[r]!==undefined;)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,r))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,r))&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),he.isFunction(e)?(n=ie.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(ie.call(arguments)))}).guid=e.guid=e.guid||he.guid++,r):undefined},now:function(){return+new Date},support:ue}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ne[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,n,r){var i,o,a,s,p,c,u,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:F)!==A&&z(t),t=t||A,D)){if(11!==m&&(c=ye.exec(e)))if(i=c[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&L(t,a)&&a.id===i)return n.push(a),n}else{if(c[2])return J.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&C.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(i)),n}if(C.qsa&&!W[e+" "]&&(!P||!P.test(e))){if(1!==m)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=U),o=(u=T(e)).length,p=de.test(s)?"#"+s:"[id='"+s+"']";o--;)u[o]=p+" "+d(u[o]);h=u.join(","),f=be.test(e)&&l(t.parentNode)||t}if(h)try{return J.apply(n,f.querySelectorAll(h)),n}catch(g){}finally{s===U&&t.removeAttribute("id")}}}return N(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[U]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function p(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=q++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,p,c,l=[B,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(p=(c=t[U]||(t[U]={}))[t.uniqueID]||(c[t.uniqueID]={}))[r])&&s[0]===B&&s[1]===o)return l[2]=s[2];if(p[r]=l,l[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,p=e.length,c=null!=t;s<p;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function y(e,t,n,i,o,a){return i&&!i[U]&&(i=y(i)),o&&!o[U]&&(o=y(o,a)),r(function(r,a,s,p){var c,l,u,d=[],h=[],f=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?y:g(y,d,e,s,p),v=n?o||(r?e:f||i)?[]:a:b;if(n&&n(b,v,s,p),i)for(c=g(v,h),i(c,[],s,p),l=c.length;l--;)(u=c[l])&&(v[h[l]]=!(b[h[l]]=u));if(r){if(o||e){if(o){for(c=[],l=v.length;l--;)(u=v[l])&&c.push(b[l]=u);o(null,v=[],c,p)}for(l=v.length;l--;)(u=v[l])&&(c=o?ee(r,u):d[l])>-1&&(r[c]=!(a[c]=u))}}else v=g(v===a?v.splice(f,v.length):v),o?o(null,a,v,p):J.apply(a,v)})}function b(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,p=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!==R)||((t=n).nodeType?p(e,n,r):c(e,n,r));return t=null,i}];s<i;s++)if(n=w.relative[e[s].type])l=[h(f(l),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[U]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return y(s>1&&f(l),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&b(e.slice(s,r)),r<i&&b(e=e.slice(r)),r<i&&d(e))}l.push(n)}return f(l)}function v(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,p,c){var l,u,d,h=0,f="0",m=r&&[],y=[],b=R,v=r||o&&w.find.TAG("*",c),x=B+=null==b?1:Math.random()||.1,C=v.length;for(c&&(R=a===A||a||c);f!==C&&null!=(l=v[f]);f++){if(o&&l){for(u=0,a||l.ownerDocument===A||(z(l),s=!D);d=e[u++];)if(d(l,a||A,s)){p.push(l);break}c&&(B=x)}i&&((l=!d&&l)&&h--,r&&m.push(l))}if(h+=f,i&&f!==h){for(u=0;d=n[u++];)d(m,y,a,s);if(r){if(h>0)for(;f--;)m[f]||y[f]||(y[f]=X.call(p));y=g(y)}J.apply(p,y),c&&!r&&y.length>0&&h+n.length>1&&t.uniqueSort(p)}return c&&(B=x,R=b),m};return i?r(a):a}var x,C,w,E,_,T,S,N,R,k,O,z,A,I,D,P,M,j,L,U="sizzle"+1*new Date,F=e.document,B=0,q=0,V=n(),H=n(),W=n(),$=function(e,t){return e===t&&(O=!0),0},K=1<<31,Y={}.hasOwnProperty,G=[],X=G.pop,Q=G.push,J=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),pe=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ue=new RegExp(oe),de=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ve=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){z()};try{J.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(Ee){J={apply:G.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(x in C=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},z=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==A&&9===r.nodeType&&r.documentElement?(I=(A=r).documentElement,D=!_(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=ge.test(A.getElementsByClassName),C.getById=i(function(e){return I.appendChild(e).id=U,!A.getElementsByName||!A.getElementsByName(U).length}),C.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=C.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},M=[],P=[],(C.qsa=ge.test(A.querySelectorAll))&&(i(function(e){I.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),
(C.matchesSelector=ge.test(j=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(e){C.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),M.push("!=",oe)}),P=P.length&&new RegExp(P.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(I.compareDocumentPosition),L=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===F&&L(F,e)?-1:t===A||t.ownerDocument===F&&L(F,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],p=[t];if(!i||!o)return e===A?-1:t===A?1:i?-1:o?1:k?ee(k,e)-ee(k,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)p.unshift(n);for(;s[r]===p[r];)r++;return r?a(s[r],p[r]):s[r]===F?-1:p[r]===F?1:0},A):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&z(e),n=n.replace(le,"='$1']"),C.matchesSelector&&D&&!W[n+" "]&&(!M||!M.test(n))&&(!P||!P.test(n)))try{var r=j.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Ee){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&z(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&z(e);var n=w.attrHandle[t.toLowerCase()],r=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!D):undefined;return r!==undefined?r:C.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!C.detectDuplicates,k=!C.sortStable&&e.slice(0),e.sort($),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return k=null,e},E=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},(w=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,p){var c,l,u,d,h,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),b=!p&&!s,v=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(v=(h=(c=(l=(u=(d=g)[U]||(d[U]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===B&&c[1])&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(v=h=0)||f.pop();)if(1===d.nodeType&&++v&&d===t){l[e]=[B,h,v];break}}else if(b&&(v=h=(c=(l=(u=(d=t)[U]||(d[U]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===B&&c[1]),!1===v)for(;(d=++h&&d&&d[m]||(v=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++v||(b&&((l=(u=d[U]||(d[U]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]=[B,v]),d!==t)););return(v-=i)===r||v%r==0&&v/r>=0}}},PSEUDO:function(e,n){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[U]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=ee(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(se,"$1"));return i[U]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,Ce),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,Ce).toLowerCase(),function(t){var n;do{if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=p(x);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,T=t.tokenize=function(e,n){var r,i,o,a,s,p,c,l=H[e+" "];if(l)return n?0:l.slice(0);for(s=e,p=[],c=w.preFilter;s;){for(a in r&&!(i=pe.exec(s))||(i&&(s=s.slice(i[0].length)||s),p.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length)),w.filter)!(i=he[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):H(e,p).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)(o=b(t[n]))[U]?r.push(o):i.push(o);(o=W(e,v(i,r))).selector=e}return o},N=t.select=function(e,t,n,r){var i,o,a,s,p,c="function"==typeof e&&e,u=!r&&T(e=c.selector||e);if(n=n||[],1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&D&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(xe,Ce),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((p=w.find[s])&&(r=p(a.matches[0].replace(xe,Ce),be.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&d(o)))return J.apply(n,r),n;break}}return(c||S(e,u))(r,t,!D,n,!t||be.test(e)&&l(t.parentNode)||t),n},C.sortStable=U.split("").sort($).join("")===U,C.detectDuplicates=!!O,z(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);he.find=be,he.expr=be.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=be.uniqueSort,he.text=be.getText,he.isXMLDoc=be.isXML,he.contains=be.contains;var ve=function(e,t,n){for(var r=[],i=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&he(e).is(n))break;r.push(e)}return r},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ce=he.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ee=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<i;t++)if(he.contains(r[t],this))return!0}));for(t=0;t<i;t++)he.find(e,r[t],n);return(n=this.pushStack(i>1?he.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&Ce.test(e)?he(e):e||[],!1).length}});var _e,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(he.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||_e,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Te.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),we.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=re.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return _e.find(e);this.length=1,this[0]=i}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):he.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(he):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),he.makeArray(e,this))}).prototype=he.fn,_e=he(re);var Se=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t,n=he(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(he.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Ce.test(e)||"string"!=typeof e?he(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?he.inArray(this[0],he(e)):he.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return he.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,r){var i=he.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=he.filter(r,i)),this.length>1&&(Ne[e]||(i=he.uniqueSort(i)),Se.test(e)&&(i=i.reverse())),this.pushStack(i)}});var Re,ke,Oe=/\S+/g;for(ke in he.Callbacks=function(e){e="string"==typeof e?o(e):he.extend({},e);var t,n,r,i,a=[],s=[],p=-1,c=function(){for(i=e.once,r=t=!0;s.length;p=-1)for(n=s.shift();++p<a.length;)!1===a[p].apply(n[0],n[1])&&e.stopOnFalse&&(p=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},l={add:function(){return a&&(n&&!t&&(p=a.length-1,s.push(n)),function r(t){he.each(t,function(t,n){he.isFunction(n)?e.unique&&l.has(n)||a.push(n):n&&n.length&&"string"!==he.type(n)&&r(n)})}(arguments),n&&!t&&c()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,a,n))>-1;)a.splice(n,1),n<=p&&p--}),this},has:function(e){return e?he.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=!0,n||l.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},he.extend({Deferred:function(e){var t=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return he.Deferred(function(n){he.each(t,function(t,o){var a=he.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?he.extend(e,r):r}},i={};return r.pipe=r.then,he.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ie.call(arguments),a=o.length,s=1!==a||e&&he.isFunction(e.promise)?a:0,p=1===s?e:he.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ie.call(arguments):i,r===t?p.notifyWith(n,r):--s||p.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&he.isFunction(o[i].promise)?o[i].promise().progress(c(i,n,t)).done(c(i,r,o)).fail(p.reject):--s;return s||p.resolveWith(r,o),p.promise()}}),he.fn.ready=function(e){return he.ready.promise().done(e),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0,!0!==e&&--he.readyWait>0||(Re.resolveWith(re,[he]),he.fn.triggerHandler&&(he(re).triggerHandler("ready"),he(re).off("ready"))))}}),he.ready.promise=function(t){if(!Re)if(Re=he.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(he.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{re.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&re.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!he.isReady){try{n.doScroll("left")}catch(r){return e.setTimeout(i,50)}a(),he.ready()}}()}return Re.promise(t)},he.ready.promise(),he(ue))break;ue.ownFirst="0"===ke,ue.inlineBlockNeedsLayout=!1,he(function(){var e,t,n,r;(n=re.getElementsByTagName("body")[0])&&n.style&&(t=re.createElement("div"),(r=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ue.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");ue.deleteExpando=!0;try{delete e.test}catch(t){ue.deleteExpando=!1}e=null}();var ze,Ae=function(e){var t=he.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/([A-Z])/g;he.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?he.cache[e[he.expando]]:e[he.expando])&&!c(e)},data:function(e,t,n){return l(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return l(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),he.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(e===undefined){if(this.length&&(i=he.data(o),1===o.nodeType&&!he._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&p(o,r=he.camelCase(r.slice(5)),i[r]);he._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){he.data(this,e)}):arguments.length>1?this.each(function(){he.data(this,e,t)}):o?p(o,e,he.data(o,e)):undefined},removeData:function(e){return this.each(function(){he.removeData(this,e)})}}),he.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=he._data(e,t),n&&(!r||he.isArray(n)?r=he._data(e,t,he.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,i=n.shift(),o=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return he._data(e,n)||he._data(e,n,{empty:he.Callbacks("once memory").add(function(){he._removeData(e,t+"queue"),he._removeData(e,n)})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):t===undefined?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=he.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=he._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),ue.shrinkWrapBlocks=function(){return null!=ze?ze:(ze=!1,(t=re.getElementsByTagName("body")[0])&&t.style?(e=re.createElement("div"),(n=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(re.createElement("div")).style.width="5px",ze=3!==e.offsetWidth),t.removeChild(n),ze):void 0);var e,t,n};var Pe,Me,je,Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===he.css(e,"display")||!he.contains(e.ownerDocument,e)},qe=function(e,t,n,r,i,o,a){var s=0,p=e.length,c=null==n;if("object"===he.type(n))for(s in i=!0,n)qe(e,t,s,n[s],!0,o,a);else if(r!==undefined&&(i=!0,he.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(he(e),n)})),t))for(;s<p;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):p?t(e[0],n):o},Ve=/^(?:checkbox|radio)$/i,He=/<([\w:-]+)/,We=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,Ke="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Pe=re.createElement("div"),Me=re.createDocumentFragment(),je=re.createElement("input"),Pe.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ue.leadingWhitespace=3===Pe.firstChild.nodeType,ue.tbody=!Pe.getElementsByTagName("tbody").length,ue.htmlSerialize=!!Pe.getElementsByTagName("link").length,ue.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,je.type="checkbox",je.checked=!0,Me.appendChild(je),ue.appendChecked=je.checked,Pe.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!Pe.cloneNode(!0).lastChild.defaultValue,Me.appendChild(Pe),(je=re.createElement("input")).setAttribute("type","radio"),je.setAttribute("checked","checked"),je.setAttribute("name","t"),Pe.appendChild(je),ue.checkClone=Pe.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.noCloneEvent=!!Pe.addEventListener,Pe[he.expando]=1,ue.attributes=!Pe.getAttribute(he.expando);var Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td;var Ge=/<|&#?\w+;/,Xe=/<tbody/i;!function(){var t,n,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ue[t]=n in e)||(r.setAttribute(n,"t"),ue[t]=!1===r.attributes[n].expando);r=null}();var Qe=/^(?:input|select|textarea)$/i,Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,i){var o,a,s,p,c,l,u,d,h,f,m,g=he._data(e);if(g){for(n.handler&&(n=(p=n).handler,i=p.selector),n.guid||(n.guid=he.guid++),(a=g.events)||(a=g.events={}),(l=g.handle)||((l=g.handle=function(e){return void 0===he||e&&he.event.triggered===e.type?undefined:he.event.dispatch.apply(l.elem,arguments)}).elem=e),s=(t=(t||"").match(Oe)||[""]).length;s--;)h=m=(o=tt.exec(t[s])||[])[1],f=(o[2]||"").split(".").sort(),h&&(c=he.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,c=he.event.special[h]||{},u=he.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&he.expr.match.needsContext.test(i),namespace:f.join(".")},p),(d=a[h])||((d=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,f,l)||(e.addEventListener?e.addEventListener(h,l,!1):e.attachEvent&&e.attachEvent("on"+h,l))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),he.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,p,c,l,u,d,h,f,m,g=he.hasData(e)&&he._data(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Oe)||[""]).length;c--;)if(h=m=(s=tt.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=he.event.special[h]||{},d=l[h=(r?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),p=o=d.length;o--;)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,u.remove&&u.remove.call(e,a));p&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||he.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)he.event.remove(e,h+t[c],n,r,!0);he.isEmptyObject(l)&&(delete g.handle,he._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,p,c,l,u,d=[r||re],h=le.call(t,"type")?t.type:t,f=le.call(t,"namespace")?t.namespace.split("."):[];if(s=l=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!et.test(h+he.event.triggered)&&(h.indexOf(".")>-1&&(h=(f=h.split(".")).shift(),f.sort()),a=h.indexOf(":")<0&&"on"+h,(t=t[he.expando]?t:new he.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:he.makeArray(n,[t]),c=he.event.special[h]||{},i||!c.trigger||!1!==c.trigger.apply(r,n))){if(!i&&!c.noBubble&&!he.isWindow(r)){for(p=c.delegateType||h,et.test(p+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),l=s;l===(r.ownerDocument||re)&&d.push(l.defaultView||l.parentWindow||e)}for(u=0;(s=d[u++])&&!t.isPropagationStopped();)t.type=u>1?p:c.bindType||h,(o=(he._data(s,"events")||{})[t.type]&&he._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&Ae(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),n))&&Ae(r)&&a&&r[h]&&!he.isWindow(r)){(l=r[a])&&(r[a]=null),he.event.triggered=h;try{r[h]()}catch(m){}he.event.triggered=undefined,l&&(r[a]=l)}return t.result}},dispatch:function(e){e=he.event.fix(e);var t,n,r,i,o,a=[],s=ie.call(arguments),p=(he._data(this,"events")||{})[e.type]||[],c=he.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=he.event.handlers.call(this,e,p),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,(r=((he.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))!==undefined&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,p=e.target;if(s&&p.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)r[i=(o=t[n]).selector+" "]===undefined&&(r[i]=o.needsContext?he(i,this).index(p)>-1:he.find(i,this,null,[p]).length),r[i]&&r.push(o);r.length&&a.push({elem:p,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[he.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ze.test(i)?this.mouseHooks:Je.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new he.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||re).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(he.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},he.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},he.Event=function(e,t){if(!(this instanceof he.Event))return new he.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?b:v):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),this[he.expando]=!0},he.Event.prototype={constructor:he.Event,isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||he.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ue.submit||(he.event.special.submit={setup:function(){if(he.nodeName(this,"form"))return!1;he.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=he.nodeName(t,"input")||he.nodeName(t,"button")?he.prop(t,"form"):undefined;n&&!he._data(n,"submit")&&(he.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),he._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&he.event.simulate("submit",this.parentNode,e))},teardown:function(){if(he.nodeName(this,"form"))return!1;he.event.remove(this,"._submit")}}),ue.change||(he.event.special.change={setup:function(){if(Qe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(he.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),he.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),he.event.simulate("change",this,e)})),!1;he.event.add(this,"beforeactivate._change",function(e){var t=e.target;Qe.test(t.nodeName)&&!he._data(t,"change")&&(he.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||he.event.simulate("change",this.parentNode,e)}),he._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return he.event.remove(this,"._change"),!Qe.test(this.nodeName)}}),ue.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=he._data(r,t);i||r.addEventListener(e,n,!0),he._data(r,t,(i||0)+1)},teardown:function(){
var r=this.ownerDocument||this,i=he._data(r,t)-1;i?he._data(r,t,i):(r.removeEventListener(e,n,!0),he._removeData(r,t))}}}),he.fn.extend({on:function(e,t,n,r){return C(this,e,t,n,r)},one:function(e,t,n,r){return C(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=v),this.each(function(){he.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}});var nt=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+Ke+")[\\s/>]","i"),it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct=h(re).appendChild(re.createElement("div"));he.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,p=he.contains(e.ownerDocument,e);if(ue.html5Clone||he.isXMLDoc(e)||!rt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ct.innerHTML=e.outerHTML,ct.removeChild(o=ct.firstChild)),!(ue.noCloneEvent&&ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(r=f(o),s=f(e),a=0;null!=(i=s[a]);++a)r[a]&&S(i,r[a]);if(t)if(n)for(s=s||f(e),r=r||f(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return(r=f(o,"script")).length>0&&m(r,!p&&f(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,s=he.expando,p=he.cache,c=ue.attributes,l=he.event.special;null!=(n=e[a]);a++)if((t||Ae(n))&&(o=(i=n[s])&&p[i])){if(o.events)for(r in o.events)l[r]?he.event.remove(n,r):he.removeEvent(n,r,o.handle);p[i]&&(delete p[i],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),ne.push(i))}}}),he.fn.extend({domManip:N,detach:function(e){return R(this,e,!0)},remove:function(e){return R(this,e)},text:function(e){return qe(this,function(e){return e===undefined?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,e).appendChild(e)})},prepend:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&he.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&he.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return qe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(nt,""):undefined;if("string"==typeof e&&!ot.test(e)&&(ue.htmlSerialize||!rt.test(e))&&(ue.leadingWhitespace||!$e.test(e))&&!Ye[(He.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return N(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(f(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,r=0,i=[],o=he(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),he(o[r])[t](n),ae.apply(i,n.get());return this.pushStack(i)}});var lt,ut={HTML:"block",BODY:"block"},dt=/^margin/,ht=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),ft=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},mt=re.documentElement;!function(){function t(){var t,l,u=re.documentElement;u.appendChild(p),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,r=a=!0,e.getComputedStyle&&(l=e.getComputedStyle(c),n="1%"!==(l||{}).top,s="2px"===(l||{}).marginLeft,i="4px"===(l||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(l||{marginRight:"4px"}).marginRight,(t=c.appendChild(re.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),u.removeChild(p)}var n,r,i,o,a,s,p=re.createElement("div"),c=re.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ue.opacity="0.5"===c.style.opacity,ue.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===c.style.backgroundClip,(p=re.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",p.appendChild(c),ue.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,he.extend(ue,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),i},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var gt,yt,bt=/^(top|right|bottom|left)$/;e.getComputedStyle?(gt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},yt=function(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||gt(e))?n.getPropertyValue(t)||n[t]:undefined)&&a!==undefined||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),n&&!ue.pixelMarginRight()&&ht.test(a)&&dt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),a===undefined?a:a+""}):mt.currentStyle&&(gt=function(e){return e.currentStyle},yt=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||gt(e))?n[t]:undefined)&&s&&s[t]&&(a=s[t]),ht.test(a)&&!bt.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),a===undefined?a:a+""||"auto"});var vt=/alpha\([^)]*\)/i,xt=/opacity\s*=\s*([^)]*)/i,Ct=/^(none|table(?!-c[ea]).+)/,wt=new RegExp("^("+Le+")(.*)$","i"),Et={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},Tt=["Webkit","O","Moz","ms"],St=re.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=yt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=he.camelCase(t),p=e.style;if(t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),a=he.cssHooks[t]||he.cssHooks[s],n===undefined)return a&&"get"in a&&(i=a.get(e,!1,r))!==undefined?i:p[t];if("string"===(o=typeof n)&&(i=Ue.exec(n))&&i[1]&&(n=d(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(he.cssNumber[s]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(p[t]="inherit"),!(a&&"set"in a&&(n=a.set(e,n,r))===undefined)))try{p[t]=n}catch(c){}}},css:function(e,t,n,r){var i,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),(a=he.cssHooks[t]||he.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),o===undefined&&(o=yt(e,t,r)),"normal"===o&&t in _t&&(o=_t[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,r){if(n)return Ct.test(he.css(e,"display"))&&0===e.offsetWidth?ft(e,Et,function(){return M(e,t,r)}):M(e,t,r)},set:function(e,n,r){var i=r&&gt(e);return D(e,n,r?P(e,t,r,ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,i),i):0)}}}),ue.opacity||(he.cssHooks.opacity={get:function(e,t){return xt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=he.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===he.trim(o.replace(vt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=vt.test(o)?o.replace(vt,i):o+" "+i)}}),he.cssHooks.marginRight=z(ue.reliableMarginRight,function(e,t){if(t)return ft(e,{display:"inline-block"},yt,[e,"marginRight"])}),he.cssHooks.marginLeft=z(ue.reliableMarginLeft,function(e,t){if(t)return(parseFloat(yt(e,"marginLeft"))||(he.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ft(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Fe[r]+t]=o[r]||o[r-2]||o[0];return i}},dt.test(e)||(he.cssHooks[e+t].set=D)}),he.fn.extend({css:function(e,t){return qe(this,function(e,t,n){var r,i,o={},a=0;if(he.isArray(t)){for(r=gt(e),i=t.length;a<i;a++)o[t[a]]=he.css(e,t[a],!1,r);return o}return n!==undefined?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?he(this).show():he(this).hide()})}}),he.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=j.prototype.init,he.fx.step={};var Nt,Rt,kt,Ot,zt,At,It,Dt=/^(?:toggle|show|hide)$/,Pt=/queueHooks$/;he.Animation=he.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Oe);for(var n,r=0,i=e.length;r<i;r++)n=e[r],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return r.duration=he.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=he.isEmptyObject(e),o=he.speed(t,n,r),a=function(){var t=V(this,he.extend({},e),o);(i||he._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=he.timers,a=he._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Pt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||he.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=he._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=he.timers,a=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(U(t,!0),e,r,i)}}),he.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),he.timers=[],he.fx.tick=function(){var e,t=he.timers,n=0;for(Nt=he.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||he.fx.stop(),Nt=undefined},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){Rt||(Rt=e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.clearInterval(Rt),Rt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx&&he.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},Ot=re.createElement("input"),zt=re.createElement("div"),At=re.createElement("select"),It=At.appendChild(re.createElement("option")),(zt=re.createElement("div")).setAttribute("className","t"),zt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",kt=zt.getElementsByTagName("a")[0],Ot.setAttribute("type","checkbox"),zt.appendChild(Ot),(kt=zt.getElementsByTagName("a")[0]).style.cssText="top:1px",ue.getSetAttribute="t"!==zt.className,ue.style=/top/.test(kt.getAttribute("style")),ue.hrefNormalized="/a"===kt.getAttribute("href"),ue.checkOn=!!Ot.value,ue.optSelected=It.selected,ue.enctype=!!re.createElement("form").enctype,At.disabled=!0,ue.optDisabled=!It.disabled,(Ot=re.createElement("input")).setAttribute("value",""),ue.input=""===Ot.getAttribute("value"),Ot.value="t",Ot.setAttribute("type","radio"),ue.radioValue="t"===Ot.value;var Mt=/\r/g,jt=/[\x20\t\r\n\f]+/g;he.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=he.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,he(this).val()):e)?i="":"number"==typeof i?i+="":he.isArray(i)&&(i=he.map(i,function(e){return null==e?"":e+""})),(t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))})):i?(t=he.valHooks[i.type]||he.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:"string"==typeof(n=i.value)?n.replace(Mt,""):null==n?"":n:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:he.trim(he.text(e)).replace(jt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,p=i<0?s:o?i:0;p<s;p++)if(((n=r[p]).selected||p===i)&&(ue.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=he.makeArray(t),a=i.length;a--;)if(r=i[a],he.inArray(he.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=he.inArray(he(e).val(),t)>-1}},ue.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt,Ut,Ft=he.expr.attrHandle,Bt=/^(?:checked|selected)$/i,qt=ue.getSetAttribute,Vt=ue.input;he.fn.extend({attr:function(e,t){return qe(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(t=t.toLowerCase(),i=he.attrHooks[t]||(he.expr.match.bool.test(t)?Ut:Lt)),n!==undefined?null===n?void he.removeAttr(e,t):i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=he.find.attr(e,t))?undefined:r)},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(Oe);if(o&&1===e.nodeType)for(;n=o[i++];)r=he.propFix[n]||n,he.expr.match.bool.test(n)?Vt&&qt||!Bt.test(n)?e[r]=!1:e[he.camelCase("default-"+n)]=e[r]=!1:he.attr(e,n,""),e.removeAttribute(qt?n:r)}}),Ut={set:function(e,t,n){return!1===t?he.removeAttr(e,n):Vt&&qt||!Bt.test(n)?e.setAttribute(!qt&&he.propFix[n]||n,n):e[he.camelCase("default-"+n)]=e[n]=!0,n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ft[t]||he.find.attr;Vt&&qt||!Bt.test(t)?Ft[t]=function(e,t,r){var i,o;return r||(o=Ft[t],Ft[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ft[t]=o),i}:Ft[t]=function(e,t,n){if(!n)return e[he.camelCase("default-"+t)]?t.toLowerCase():null}}),Vt&&qt||(he.attrHooks.value={set:function(e,t,n){if(!he.nodeName(e,"input"))return Lt&&Lt.set(e,t,n);e.defaultValue=t}}),qt||(Lt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Ft.id=Ft.name=Ft.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},he.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Lt.set},he.attrHooks.contenteditable={set:function(e,t,n){Lt.set(e,""!==t&&t,n)}},he.each(["width","height"],function(e,t){he.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ue.style||(he.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Ht=/^(?:input|select|textarea|button|object)$/i,Wt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return qe(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return e=he.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),he.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,i=he.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):Ht.test(e.nodeName)||Wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ue.hrefNormalized||he.each(["href","src"],function(e,t){he.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),ue.enctype||(he.propFix.enctype="encoding");var $t=/[\t\r\n\f]/g;he.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,p=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(Oe)||[];n=this[p++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace($t," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,p=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Oe)||[];n=this[p++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace($t," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,H(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=he(this),o=e.match(Oe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else e!==undefined&&"boolean"!==n||((t=H(this))&&he._data(this,"__className__",t),he.attr(this,"class",t||!1===e?"":he._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+H(n)+" ").replace($t," ").indexOf(t)>-1)return!0;return!1}}),he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Kt=e.location,Yt=he.now(),Gt=/\?/,Xt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;he.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=he.trim(t+"");return i&&!he.trim(i.replace(Xt,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():he.error("Invalid JSON: "+t)},he.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new e.DOMParser,n=r.parseFromString(t,"text/xml")):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(i){n=undefined}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+t),n};var Qt=/#.*$/,Jt=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,en=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tn=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),pn=Kt.href,cn=rn.exec(pn.toLowerCase())||[];he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pn,type:"GET",isLocal:en.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,he.ajaxSettings),t):K(he.ajaxSettings,e)},ajaxPrefilter:W(on),ajaxTransport:W(an),ajax:function(t,n){function r(t,n,r,i){var o,u,b,v,C,E=n;2!==x&&(x=2,p&&e.clearTimeout(p),l=undefined,s=i||"",w.readyState=t>0?4:0,o=t>=200&&t<300||304===t,r&&(v=Y(d,w,r)),v=G(d,v,w,o),o?(d.ifModified&&((C=w.getResponseHeader("Last-Modified"))&&(he.lastModified[a]=C),(C=w.getResponseHeader("etag"))&&(he.etag[a]=C)),204===t||"HEAD"===d.type?E="nocontent":304===t?E="notmodified":(E=v.state,u=v.data,o=!(b=v.error))):(b=E,!t&&E||(E="error",t<0&&(t=0))),w.status=t,w.statusText=(n||E)+"",o?m.resolveWith(h,[u,E,w]):m.rejectWith(h,[w,E,b]),w.statusCode(y),y=undefined,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?u:b]),g.fireWith(h,[w,E]),c&&(f.trigger("ajaxComplete",[w,d]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=undefined),n=n||{};var i,o,a,s,p,c,l,u,d=he.ajaxSetup({},n),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?he(h):he.event,m=he.Deferred(),g=he.Callbacks("once memory"),y=d.statusCode||{},b={},v={},x=0,C="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!u)for(u={};t=Zt.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,b[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||C;return l&&l.abort(t),r(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||pn)+"").replace(Qt,"").replace(nn,cn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=he.trim(d.dataType||"*").toLowerCase().match(Oe)||[""],null==d.crossDomain&&(i=rn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===cn[1]&&i[2]===cn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=he.param(d.data,d.traditional)),$(on,d,n,w),2===x)return w;for(o in(c=he.event&&d.global)&&0==he.active++&&he.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!tn.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Gt.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Jt.test(a)?a.replace(Jt,"$1_="+Yt++):a+(Gt.test(a)?"&":"?")+"_="+Yt++)),d.ifModified&&(he.lastModified[a]&&w.setRequestHeader("If-Modified-Since",he.lastModified[a]),he.etag[a]&&w.setRequestHeader("If-None-Match",he.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+sn+"; q=0.01":""):d.accepts["*"]),d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(h,w,d)||2===x))return w.abort();for(o in C="abort",{success:1,error:1,complete:1})w[o](d[o]);if(l=$(an,d,n,w)){if(w.readyState=1,c&&f.trigger("ajaxSend",[w,d]),2===x)return w;d.async&&d.timeout>0&&(p=e.setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,l.send(b,r)}catch(E){if(!(x<2))throw E;r(-1,E)}}else r(-1,"No Transport");return w},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,undefined,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,r,i){return he.isFunction(n)&&(i=i||r,r=n,n=undefined),he.ajax(he.extend({url:e,type:t,dataType:i,data:n,success:r},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},he.fn.extend({wrapAll:function(e){if(he.isFunction(e))return this.each(function(t){he(this).wrapAll(e.call(this,t))});if(this[0]){var t=he(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}}),he.expr.filters.hidden=function(e){return ue.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},he.expr.filters.visible=function(e){return!he.expr.filters.hidden(e)};var ln=/%20/g,un=/\[\]$/,dn=/\r?\n/g,hn=/^(?:submit|button|image|reset|file)$/i,fn=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],i=function(e,t){t=he.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){i(this.name,this.value)});else for(n in e)J(n,e[n],t,i);return r.join("&").replace(ln,"+")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&fn.test(this.nodeName)&&!hn.test(e)&&(this.checked||!Ve.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(dn,"\r\n")}}):{name:t.name,value:n.replace(dn,"\r\n")}}).get()}}),he.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return this.isLocal?ee():re.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var mn=0,gn={},yn=he.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in gn)gn[e](undefined,!0)}),ue.cors=!!yn&&"withCredentials"in yn,(yn=ue.ajax=!!yn)&&he.ajaxTransport(function(t){var n;if(!t.crossDomain||ue.cors)return{send:function(r,i){var o,a=t.xhr(),s=++mn;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)r[o]!==undefined&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,p,c;if(n&&(r||4===a.readyState))if(delete gn[s],n=undefined,a.onreadystatechange=he.noop,r)4!==a.readyState&&a.abort();else{c={},o=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{p=a.statusText}catch(l){p=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&i(o,p,c,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=gn[s]=n:n()},abort:function(){n&&n(undefined,!0)}}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=re.head||he("head")[0]||re.documentElement;return{send:function(r,i){(t=re.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var bn=[],vn=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({
jsonp:"callback",jsonpCallback:function(){var e=bn.pop()||he.expando+"_"+Yt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(vn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&vn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(vn,"$1"+i):!1!==t.jsonp&&(t.url+=(Gt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||he.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){o===undefined?he(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,bn.push(i)),a&&he.isFunction(o)&&o(a[0]),a=o=undefined}),"script"}),he.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=we.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=y([e],t,i),i&&i.length&&he(i).remove(),he.merge([],r.childNodes))};var xn=he.fn.load;he.fn.load=function(e,t,n){if("string"!=typeof e&&xn)return xn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=he.trim(e.slice(s,e.length)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),a.length>0&&he.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.filters.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var r,i,o,a,s,p,c=he.css(e,"position"),l=he(e),u={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=he.css(e,"top"),p=he.css(e,"left"),("absolute"===c||"fixed"===c)&&he.inArray("auto",[o,p])>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(p)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+i),"using"in t?t.using.call(e,u):l.css(u)}},he.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,he.contains(t,i)?("undefined"!=typeof i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=te(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===he.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(n=e.offset()),n.top+=he.css(e[0],"borderTopWidth",!0),n.left+=he.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-he.css(r,"marginTop",!0),left:t.left-n.left-he.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!he.nodeName(e,"html")&&"static"===he.css(e,"position");)e=e.offsetParent;return e||mt})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);he.fn[e]=function(r){return qe(this,function(e,r,i){var o=te(e);if(i===undefined)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?he(o).scrollLeft():i,n?i:he(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=z(ue.pixelPosition,function(e,n){if(n)return n=yt(e,t),ht.test(n)?he(e).position()[t]+"px":n})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){he.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return qe(this,function(t,n,r){var i;return he.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?he.css(t,n,a):he.style(t,n,r,a)},t,o?r:undefined,o,null)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Cn=e.jQuery,wn=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=wn),t&&e.jQuery===he&&(e.jQuery=Cn),he},t||(e.jQuery=e.$=he),he}),function(e){"$:nomunge";var t,n,r,i,o=1,a=this,s=!1,p="postMessage",c="addEventListener",l=a[p]&&!navigator.userAgent.match(/Opera|OPR\//);e[p]=function(t,n,r){n&&(t="string"==typeof t?t:e.param(t),r=r||parent,l?r[p](t,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):n&&(r.location=n.replace(/#.*$/,"")+"#"+ +new Date+o+++"&"+t))},e.receiveMessage=i=function(o,p,u){l?(o&&(r&&i(),r=function(t){if("string"==typeof p&&t.origin!==p||e.isFunction(p)&&p(t.origin)===s)return s;o(t)}),a[c]?a[o?c:"removeEventListener"]("message",r,s):a[o?"attachEvent":"detachEvent"]("onmessage",r)):(t&&clearInterval(t),t=null,o&&(u="number"==typeof p?p:"number"==typeof u?u:100,t=setInterval(function(){var e=document.location.hash,t=/^#?\d+&/;e!==n&&t.test(e)&&(n=e,o({data:e.replace(t,"")}))},u)))}}(jQuery),function(e,t){"$:nomunge";var n,r=e.jQuery||e.Cowboy||(e.Cowboy={});r.throttle=n=function(e,n,i,o){function a(){function r(){p=+new Date,i.apply(c,u)}function a(){s=t}var c=this,l=+new Date-p,u=arguments;o&&!s&&r(),s&&clearTimeout(s),o===t&&l>e?r():!0!==n&&(s=setTimeout(o?a:r,o===t?e-l:e))}var s,p=0;return"boolean"!=typeof n&&(o=i,i=n,n=t),r.guid&&(a.guid=i.guid=i.guid||r.guid++),a},r.debounce=function(e,r,i){return i===t?n(e,r,!1):n(e,i,!1!==r)}}(this),function(e){if(!e.support.cors&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,r=new RegExp("^"+location.protocol,"i"),i=/\/xml/i;e.ajaxTransport("text html xml json",function(e,o){if(e.crossDomain&&e.async&&n.test(e.type)&&t.test(e.url)&&r.test(e.url)){var a=null,s=(o.dataType||"").toLowerCase();return{send:function(t,n){a=new XDomainRequest,/^\d+$/.test(o.timeout)&&(a.timeout=o.timeout),a.ontimeout=function(){n(500,"timeout")},a.onload=function(){var e="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,t={code:200,message:"success"},r={text:a.responseText};try{if("json"===s)try{r.json=JSON.parse(a.responseText)}catch(p){t.code=500,t.message="parseerror"}else if("xml"===s||"text"!==s&&i.test(a.contentType)){var o=new ActiveXObject("Microsoft.XMLDOM");o.async=!1;try{o.loadXML(a.responseText)}catch(p){o=undefined}if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+a.responseText;r.xml=o}}catch(c){throw c}finally{n(t.code,t.message,r,e)}},a.onerror=function(){n(500,"error",{text:a.responseText})},a.open(e.type,e.url),a.send(o.data)},abort:function(){a&&a.abort()}}}})}}(jQuery),function(e){e.deparam=function(t,n){var r={},i={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,o){var a,s=o.split("="),p=decodeURIComponent(s[0]),c=r,l=0,u=p.split("]["),d=u.length-1;if(/\[/.test(u[0])&&/\]$/.test(u[d])?(u[d]=u[d].replace(/\]$/,""),d=(u=u.shift().split("[").concat(u)).length-1):d=0,2===s.length)if(a=decodeURIComponent(s[1]),n&&(a=a&&!isNaN(a)?+a:"undefined"===a?undefined:i[a]!==undefined?i[a]:a),d)for(;l<=d;l++)c=c[p=""===u[l]?c.length:u[l]]=l<d?c[p]||(u[l+1]&&isNaN(u[l+1])?{}:[]):a;else e.isArray(r[p])?r[p].push(a):r[p]!==undefined?r[p]=[r[p],a]:r[p]=a;else p&&(r[p]=n?undefined:"")}),r}}(jQuery),jQuery.namespace=function(e){for(var t=window,n=e.split("."),r=0;r<n.length;r++)"undefined"==typeof t[n[r]]&&(t[n[r]]=new Object),t=t[n[r]];return t},function(){var e;window.supports_localstorage=function(){if(void 0!==e)return e;try{localStorage.setItem("RMZ","RMZ"),localStorage.removeItem("RMZ"),e=!0}catch(t){e=!1}return e}}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"!=typeof require?e(require("jquery")):e(jQuery)}(function(e){var t,n=0,r=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(n)}),e.widget=function(t,n,r){var i,o,a,s,p={},c=t.split(".")[0];return t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,function(t,r){var i,o;e.isFunction(r)?p[t]=(i=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):p[t]=r}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},p,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,i,o=r.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])i=o[a][n],o[a].hasOwnProperty(n)&&i!==undefined&&(e.isPlainObject(i)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):t[n]=i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=r.call(arguments,1),p=this;return a?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(p=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s))!==r&&n!==undefined?(p=n&&n.jquery?p.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new n(o,this))})),p}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(r=t.split(".")).shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=n}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var p=r.match(/^([\w:-]*)\s*(.*)$/),c=p[1]+o.eventNamespace,l=p[2];l?i.delegate(l,c,s):n.bind(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}});e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:r}))&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r,i=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&i-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=i,r=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=r-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=r,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(i,r,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,r=this,i=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,function(r,i){n.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||a,value:i})})):(r._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(a,t.blob,i.name):e.each(t.files,function(i,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&n.append("array"===e.type(t.paramName)&&t.paramName[i]||a,o,o.uploadName||o.name)})),t.data=n):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),o=i.promise();return n=n||this.options.context||o,!0===t?i.resolveWith(n,r):!1===t&&i.rejectWith(n,r),o.abort=i.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).then(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).then(t,o)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r,i,o=this,a=t.files[0],s=a.size,p=t.uploadedBytes,c=t.maxChunkSize||s,l=this._blobSlice,u=e.Deferred(),d=u.promise();return!(!(this._isXHRUpload(t)&&l&&(p||c<s))||t.data)&&(!!n||(p>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(i=function(){var n=e.extend({},t),d=n._progress.loaded;n.blob=l.call(a,p,p+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+p+"-"+(p+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),r=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(r,a,c){p=o._getUploadedBytes(c)||p+n.chunkSize,d+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:p-n.uploadedBytes,total:p-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=p,n.result=r,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),p<s?i():u.resolveWith(n.context,[r,a,c])}).fail(function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),u.rejectWith(n.context,[e,t,r])})},this._enhancePromise(d),d.abort=function(){return r.abort()},i(),d)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var o=i._progress.total,a=i._response;i._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),i),a.result=i.result=t,a.textStatus=i.textStatus=n,a.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r,i,o,a,s=this,p=s._getAJAXSettings(n),c=function(){return s._sending+=1,p._bitrateTimer=new s._BitrateTimer,r=r||((i||!1===s._trigger("send",e.Event("send",{delegatedEvent:t}),p))&&s._getXHRPromise(!1,p.context,i)||s._chunkedUpload(p)||e.ajax(p)).done(function(e,t,n){s._onDone(e,t,n,p)}).fail(function(e,t,n){s._onFail(e,t,n,p)}).always(function(e,t,n){if(s._onAlways(e,t,n,p),s._sending-=1,s._active-=1,p.limitConcurrentUploads&&p.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,p),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.then(c)):(this._sequence=this._sequence.then(c,c),a=this._sequence),a.abort=function(){return i=[undefined,"abort","abort"],r?r.abort():(o&&o.rejectWith(p.context,i),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var r,i,o,a,s=this,p=!0,c=e.extend({},this.options,n),l=n.files,u=l.length,d=c.limitMultiFileUploads,h=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),y=0;if(!u)return!1;if(h&&l[0].size===undefined&&(h=undefined),(c.singleFileUploads||d||h)&&this._isXHRUpload(c))if(c.singleFileUploads||h||!d)if(!c.singleFileUploads&&h)for(o=[],r=[],a=0;a<u;a+=1)m+=l[a].size+f,(a+1===u||m+l[a+1].size+f>h||d&&a+1-y>=d)&&(o.push(l.slice(y,a+1)),(i=g.slice(y,a+1)).length||(i=g),r.push(i),y=a+1,m=0);else r=g;else for(o=[],r=[],a=0;a<u;a+=d)o.push(l.slice(a,a+d)),(i=g.slice(a,a+d)).length||(i=g),r.push(i);else o=[l],r=[g];return n.originalFiles=l,e.each(o||l,function(i,a){var c=e.extend({},n);return c.files=o?a:[a],c.paramName=r[i],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),p=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),p},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0),i=n.is(document.activeElement);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),i&&r.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r,i=this,o=e.Deferred(),a=[],s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},p=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},c=function(){r.readEntries(function(e){e.length?(a=a.concat(e),c()):p(a)},s)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},s):t.isDirectory?(r=t.createReader(),c()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){var n=(t=t||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var n,r,i=(t=e(t)).prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((n=e.makeArray(t.prop("files"))).length)n[0].name===undefined&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(r=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),r)&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,n){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=this.element.data();e.each(this.element[0].attributes,function(e,i){var o,a=i.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=r[a],t._isRegExpOption(a,o)&&(o=t._getRegExp(o)),n[a]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return r=!0,
n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){r||(e.length?(t.files=e,(n=i._onSend(null,t)).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})):o.reject())}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(e){"use strict";var t=0,n=e,r="parseJSON";"JSON"in window&&"parse"in JSON&&(n=JSON,r="parse"),e.ajaxTransport("iframe",function(n){if(n.async){var r,i,o,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,p){(r=e('<form style="display:none;"></form>')).attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),i=e('<iframe src="'+a+'" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{if(!(t=i.contents()).length||!t[0].firstChild)throw new Error}catch(n){t=undefined}p(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src",a),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&n[r](e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Socked=t():e.Socked=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2).extend,a=n(3),s=n(49),p=n(50);e.exports=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r(this,e),this.appId=t,this.options=this.setOptions(n||{}),this._channels={},this._socket=a(this.options.url?this.options.url:"ws"+(this.options.ssl?"s":"")+"://"+this.options.host+"/"+this.appId,this.options),this.subscribeEvents(),this._emitter=new p,this.connected=!1,this.connecting=!1}return i(e,[{key:"setOptions",value:function(e){return o({host:"www.socked.io",path:"/app",ssl:!0,authUrl:"/authenticate",transports:["websocket"]},e)}},{key:"subscribeEvents",value:function(){var e=this;this._socket.on("msg",function(t){t.channel&&e.channel(t.channel)&&e.channel(t.channel).handleEvent(t),e._emitter.emit(t.event,t)}).on("connecting",function(){e.connecting=!0,e._emitter.emit("connecting")}).on("internal:connect_success",function(){e.connecting=!1,e.connected=!0,e.subscribeAllChannels(),e._emitter.emit("connected")}).on("internal:connect_error",function(t){e.connecting=!1,e.connected=!1,e._emitter.emit("connect_error",t)}).on("disconnect",function(){e.unsubscribeAllChannels(),e.connecting=!1,e.connected=!1,e._emitter.emit("disconnected")}).on("error",function(t){e._emitter.emit("error",t)})}},{key:"unsubscribeAllChannels",value:function(){var e=this;Object.keys(this._channels).forEach(function(t){e._channels[t].unsubscribe()})}},{key:"subscribeAllChannels",value:function(){var e=this;Object.keys(this._channels).forEach(function(t){e._channels[t].subscribe()})}},{key:"unsubscribeEvents",value:function(){this._socket.off("msg")}},{key:"connect",value:function(){this.connecting||this._socket.connect()}},{key:"disconnect",value:function(){this._socket.disconnect()}},{key:"channels",value:function(){return this._channels}},{key:"channel",value:function(e){return this._channels[e]}},{key:"subscribe",value:function(e){var t=this.channel(e);return t||(this._channels[e]=t=this._createChannel(e)),t.subscriptionPending||t.subscribe(),t}},{key:"unsubscribe",value:function(e){var t=this.channel(e);t&&(t.unsubscribe(),delete this._channels[e])}},{key:"trigger",value:function(e,t,n,r,i){var o={event:e};t&&(o.data=t),r&&(o.sig=r),n&&(o.channel=n),i&&(o.toUserId=i),this._socket.emit("msg",o)}},{key:"on",value:function(e,t){this._emitter.on(e,t)}},{key:"off",value:function(e,t){this._emitter.off(e,t)}},{key:"once",value:function(e,t){this._emitter.once(e,t)}},{key:"_createChannel",value:function(e){return new s(e,this)}}]),e}()},function(e,t){"use strict";e.exports=t={},t.extend=function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}},function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r=i(e),o=r.source,p=r.id,c=r.path,l=s[p]&&c in s[p].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?n=a(o,t):(s[p]||(s[p]=a(o,t)),n=s[p]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var i=n(4),o=n(7),a=n(18);n(6)("socket.io-client");e.exports=t=r;var s=t.managers={};t.protocol=o.protocol,t.connect=r,t.Manager=n(18),t.Socket=n(43)},function(e,t,n){(function(t){function r(e,n){var r=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}var i=n(5);n(6)("socket.io-client:url");e.exports=r}).call(t,function(){return this}())},function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=t.exec(e||""),s={},p=14;p--;)s[n[p]]=a[p]||"";return-1!=i&&-1!=o&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e){"use strict";e.exports=function(){return function(){}}},function(e,t,n){function r(){}function i(e){var n=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data)),n}function o(e,t){function n(e){var n=h.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}h.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return l("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1))for(r.nsp="";++n;){if(","===(a=e.charAt(n)))break;if(r.nsp+=a,n===e.length)break}else r.nsp="/";var o=e.charAt(n+1);if(""!==o&&Number(o)==o){for(r.id="";++n;){var a;if(null==(a=e.charAt(n))||Number(a)!=a){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var s=p(e.substr(n));if(!(!1!==s&&(r.type===t.ERROR||f(s))))return l("invalid payload");r.data=s}return r}function p(e){try{return JSON.parse(e)}catch(t){return!1}}function c(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error: "+e}}n(6)("socket.io-parser");var u=n(8),d=n(9),h=n(15),f=n(16),m=n(17);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a,r.prototype.encode=function(e,n){(e.type!==t.EVENT&&e.type!==t.ACK||!d(e.data)||(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?o(e,n):n([i(e)])},u(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new c(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(t){function r(e){if(!e||"object"!=typeof e)return!1;if(i(e)){for(var n=0,o=e.length;n<o;n++)if(r(e[n]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return r(e.toJSON(),!0);for(var p in e)if(Object.prototype.hasOwnProperty.call(e,p)&&r(e[p]))return!0;return!1}var i=n(14),o=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.exports=r}).call(t,n(10).Buffer)},function(e,t,n){(function(e){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?u(e,t,n):f(e,t)}function p(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return p(t),t<=0?o(e,t):n!==undefined?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function l(e,t){if(p(t),e=o(e,t<0?0:0|m(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|y(t,n),i=(e=o(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function d(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=n===undefined&&r===undefined?new Uint8Array(t):r===undefined?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=d(e,t),e}function f(e,t){if(a.isBuffer(t)){var n=0|m(t.length);return 0===(e=o(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&Z(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),a.alloc(+e)}function y(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if((t===undefined||t<0)&&(t=0),t>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return z(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function x(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,p=e.length,c=t.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,p/=2,c/=2,n/=2}if(i){var l=-1;for(a=n;a<p;a++)if(o(e,a)===o(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(n+c>p&&(n=p-c),a=n;a>=0;a--){for(var u=!0,d=0;d<c;d++)if(o(e,a+d)!==o(t,d)){u=!1;break}if(u)return a}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function _(e,t,n,r){return G($(t),e,n,r)}function T(e,t,n,r){return _(e,t,n,r)}function S(e,t,n,r){return G(Y(t),e,n,r)}function N(e,t,n,r){return G(K(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,p,c=e[i],l=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u<=n)switch(u){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(p=(31&c)<<6|63&o)>127&&(l=p);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(p=(15&c)<<12|(63&o)<<6|63&a)>2047&&(p<55296||p>57343)&&(l=p);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(p=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&p<1114112&&(l=p)}null===l?(l=65533,u=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=u}return O(r)}function O(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function z(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=H(e[o]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function q(e){if((e=V(e).replace(te,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||Infinity;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function Y(e){return Q.toByteArray(q(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e){return e!=e}var Q=n(11),J=n(12),Z=n(13);t.Buffer=a,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:r(),t.kMaxLength=i(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return s(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return c(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(t===undefined)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):b.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(t===undefined&&(t=0),n===undefined&&(n=e?e.length:0),r===undefined&&(r=0),i===undefined&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),p=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),u=0;u<p;++u)if(c[u]!==l[u]){o=c[u],s=l[u];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return x(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return x(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(t===undefined)r="utf8",n=this.length,t=0;else if(n===undefined&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var i=this.length-t;if((n===undefined||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;a.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===undefined?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var i=t-e;n=new a(i,undefined);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=n===undefined?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:W(new a(e,r).toString()),p=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%p]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4")
;return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,r,i,o,a,s=e.length;o=n(e),a=new l(3*s/4-o),r=o>0?s-4:s;var p=0;for(t=0;t<r;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[p++]=i>>16&255,a[p++]=i>>8&255,a[p++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[p++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[p++]=i>>8&255,a[p++]=255&i),a}function o(e){return p[e>>18&63]+p[e>>12&63]+p[e>>6&63]+p[63&e]}function a(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(o(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",o=[],s=16383,c=0,l=n-r;c<l;c+=s)o.push(a(e,c,c+s>l?l:c+s));return 1===r?(t=e[n-1],i+=p[t>>2],i+=p[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=p[t>>10],i+=p[t>>4&63],i+=p[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=s;for(var p=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=u.length;d<h;++d)p[d]=u[d],c[u.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,p=(1<<s)-1,c=p>>1,l=-7,u=n?i-1:0,d=n?-1:1,h=e[t+u];for(u+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+u],u+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+u],u+=d,l-=8);if(0===o)o=1-c;else{if(o===p)return a?NaN:(h?-1:1)*Infinity;a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,p,c=8*o-i-1,l=(1<<c)-1,u=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-a))<1&&(a--,p*=2),(t+=a+u>=1?d/p:d*Math.pow(2,1-u))*p>=2&&(a++,p/=2),a+u>=l?(s=0,a=l):a+u>=1?(s=(t*p-1)*Math.pow(2,i),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*m}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,t,n){(function(e){function r(e,t){if(!e)return e;if(a(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(o(e)){for(var i=new Array(e.length),s=0;s<e.length;s++)i[s]=r(e[s],t);return i}if("object"==typeof e&&!(e instanceof Date)){i={};for(var p in e)i[p]=r(e[p],t);return i}return e}function i(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(o(e))for(var n=0;n<e.length;n++)e[n]=i(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=i(e[r],t);return e}var o=n(16),a=n(17),s=Object.prototype.toString,p="function"==typeof e.Blob||"[object BlobConstructor]"===s.call(e.Blob),c="function"==typeof e.File||"[object FileConstructor]"===s.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=r(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=i(e.data,t),e.attachments=undefined,e},t.removeBlobs=function(e,t){function n(e,s,l){if(!e)return e;if(p&&e instanceof Blob||c&&e instanceof File){r++;var u=new FileReader;u.onload=function(){l?l[s]=this.result:i=this.result,--r||t(i)},u.readAsArrayBuffer(e)}else if(o(e))for(var d=0;d<e.length;d++)n(e[d],d,e);else if("object"==typeof e&&!a(e))for(var h in e)n(e[h],h,e)}var r=0,i=e;n(i),r||t(i)}}).call(t,function(){return this}())},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,t){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))}e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"==typeof e&&(t=e,e=undefined),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var i=n(19),o=n(43),a=n(44),s=n(7),p=n(46),c=n(47),l=(n(6)("socket.io-client:manager"),n(42)),u=n(48),d=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(~this.readyState.indexOf("open"))return this;this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=p(t,"open",function(){n.onopen(),e&&e()}),o=p(t,"error",function(t){if(n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout,s=setTimeout(function(){r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(p(e,"data",c(this,"ondata"))),this.subs.push(p(e,"ping",c(this,"onping"))),this.subs.push(p(e,"pong",c(this,"onpong"))),this.subs.push(p(e,"error",c(this,"onerror"))),this.subs.push(p(e,"close",c(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",c(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~l(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new o(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.generateId(e)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):e.onreconnect()}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(20),e.exports.parser=n(27)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=n.rejectUnauthorized===undefined||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var i="object"==typeof t&&t;i.global===i&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(21),a=n(35),s=(n(6)("engine.io-client:socket"),n(42)),p=n(27),c=n(5),l=n(36);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=p.protocol,r.Socket=r,r.Transport=n(26),r.transports=n(21),r.parser=n(27),r.prototype.createTransport=function(e){var t=i(this.query);t.EIO=p.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new o[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(u.onlyBinaryUpgrades){var e=!this.supportsBinary&&u.transport.supportsBinary;l=l||e}l||(c.send([{type:"ping",data:"probe"}]),c.once("packet",function(e){if(!l)if("pong"===e.type&&"probe"===e.data){if(u.upgrading=!0,u.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"===c.name,u.transport.pause(function(){l||"closed"!==u.readyState&&(p(),u.setTransport(c),c.send([{type:"upgrade"}]),u.emit("upgrade",c),c=null,u.upgrading=!1,u.flush())})}else{var t=new Error("probe error");t.transport=c.name,u.emit("upgradeError",t)}}))}function n(){l||(l=!0,p(),c.close(),c=null)}function i(e){var t=new Error("probe error: "+e);t.transport=c.name,n(),u.emit("upgradeError",t)}function o(){i("transport closed")}function a(){i("socket closed")}function s(e){c&&e.name!==c.name&&n()}function p(){c.removeListener("open",t),c.removeListener("error",i),c.removeListener("close",o),u.removeListener("close",a),u.removeListener("upgrading",s)}var c=this.createTransport(e,{probe:1}),l=!1,u=this;r.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",i),c.once("close",o),this.once("close",a),this.once("upgrading",s),c.open()},r.prototype.onOpen=function(){if(this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=undefined),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function r(t){var n=!1,r=!1,s=!1!==t.jsonp;if(e.location){var p="https:"===location.protocol,c=location.port;c||(c=p?443:80),n=t.hostname!==location.hostname||c!==t.port,r=t.secure!==p}if(t.xdomain=n,t.xscheme=r,"open"in new i(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new a(t)}var i=n(22),o=n(24),a=n(39),s=n(40);t.polling=r,t.websocket=s}).call(t,function(){return this}())},function(e,t,n){(function(t){var r=n(23);e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(a){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}}).call(t,function(){return this}())},function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function r(){}function i(e){if(p.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=undefined!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(22),p=n(25),c=n(35),l=n(37);n(6)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,l(i,p),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&e!==undefined,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},i.prototype.doPoll=function(){var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),r=this;try{n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}catch(a){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{n.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var e=n.getResponseHeader("Content-Type");r.supportsBinary&&"application/octet-stream"===e&&(n.responseType="arraybuffer")}catch(a){}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},n.send(this.data)}catch(a){return void setTimeout(function(){r.onError(a)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(n){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(26),o=n(36),a=n(27),s=n(37),p=n(38);n(6)("engine.io-client:polling");e.exports=r;var c=null!=new(n(22))({xdomain:!1}).responseType;s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()},r.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this,n=function(e){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},r.prototype.doClose=function(){function e(){t.write([{type:"close"}])}var t=this;"open"===this.readyState?e():this.once("open",e)},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=p()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var i=n(27),o=n(35);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=b[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(y)return o(e,n,r);var i=new Uint8Array(1);return i[0]=b[e.type],r(new C([i.buffer,e.data]))}function s(e){try{e=f.decode(e,{strict:!1})}catch(t){return!1}return e}function p(e,t,n){for(var r=new Array(e.length),i=h(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}var c,l=n(28),u=n(9),d=n(29),h=n(30),f=n(31);e&&e.ArrayBuffer&&(c=n(33));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),y=m||g;t.protocol=3;var b=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=l(b),x={type:"error",data:"parser error"},C=n(34);t.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var p=t.data===undefined?undefined:t.data.buffer||t.data;if(e.ArrayBuffer&&p instanceof ArrayBuffer)return i(t,n,s);if(C&&p instanceof e.Blob)return a(t,n,s);if(p&&p.base64)return r(t,s);var c=b[t.type];return undefined!==t.data&&(c+=o?f.encode(String(t.data),{strict:!1}):String(t.data)),s(""+c)},t.encodeBase64Packet=function(n,r){var i,o="b"+t.packets[n.type];if(C&&n.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];r(o+e)},a.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(l){for(var s=new Uint8Array(n.data),p=new Array(s.length),c=0;c<s.length;c++)p[c]=s[c];i=String.fromCharCode.apply(null,p)}return o+=e.btoa(i),r(o)},t.decodePacket=function(e,n,r){if(e===undefined)return x;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=s(e)))return x;var i=e.charAt(0);return Number(i)==i&&v[i]?e.length>1?{type:v[i],data:e.substring(1)}:{type:v[i]}:x}i=new Uint8Array(e)[0];var o=d(e,1);return C&&"blob"===n&&(o=new C([o])),{type:v[i],data:o}},t.decodeBase64Packet=function(e,t){var n=v[e.charAt(0)];if(!c)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=c.decode(e.substr(1));return"blob"===t&&C&&(r=new C([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function i(e){return e.length+":"+e}function o(e,r){t.encodePacket(e,!!a&&n,!1,function(e){r(null,i(e))})}"function"==typeof n&&(r=n,n=null);var a=u(e);return n&&a?C&&!y?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void p(e,o,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===e)return r(x,0,1);for(var o,a,s="",p=0,c=e.length;p<c;p++){var l=e.charAt(p);if(":"===l){if(""===s||s!=(o=Number(s)))return r(x,0,1);if(s!=(a=e.substr(p+1,o)).length)return r(x,0,1);if(a.length){if(i=t.decodePacket(a,n,!1),x.type===i.type&&x.data===i.data)return r(x,0,1);if(!1===r(i,p+o,c))return}p+=o,s=""}else s+=l}return""!==s?r(x,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}if(!e.length)return n(new ArrayBuffer(0));p(e,r,function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,C){var s=new C([t.buffer,a.buffer,e]);n(null,s)}})}p(e,r,function(e,t){return n(new C(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),s=0===a[0],p="",c=1;255!==a[c];c++){if(p.length>310)return r(x,0,1);p+=a[c]}i=d(i,2+p.length),p=parseInt(p);var l=d(i,0,p);if(s)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(f){var u=new Uint8Array(l);l="";for(c=0;c<u.length;c++)l+=String.fromCharCode(u[c])}o.push(l),i=d(i,p)}var h=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,h)})}}).call(t,function(){return this}())},function(e){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e){function t(e,t,r){function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}var o=!1
;return r=r||n,i.count=e,0===e?t():i}function n(){}e.exports=t},function(e,t,n){var r;(function(e,i){!function(){function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function a(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=v((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=v(t);return i}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function p(e,t){return v(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return v(e);var n="";return 0==(4294965248&e)?n=v(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=v(e>>12&15|224),n+=p(e,6)):0==(4292870144&e)&&(n=v(e>>18&7|240),n+=p(e,12),n+=p(e,6)),n+=v(63&e|128)}function l(e,t){for(var n=!1!==(t=t||{}).strict,r=o(e),i=r.length,a=-1,s="";++a<i;)s+=c(r[a],n);return s}function u(){if(b>=y)throw Error("Invalid byte index");var e=255&g[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,n;if(b>y)throw Error("Invalid byte index");if(b==y)return!1;if(t=255&g[b],b++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|u())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|u()<<6|u())>=2048)return s(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function h(e,t){var n=!1!==(t=t||{}).strict;g=o(e),y=g.length,b=0;for(var r,i=[];!1!==(r=d(n));)i.push(r);return a(i)}var f="object"==typeof t&&t,m=("object"==typeof e&&e&&e.exports,"object"==typeof i&&i);m.global!==m&&m.window;var g,y,b,v=String.fromCharCode,x={version:"2.1.2",encode:l,decode:h};(r=function(){return x}.call(t,n,t,e))===undefined||(e.exports=r)}()}).call(t,n(32)(e),function(){return this}())},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,p=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),u=new Uint8Array(l);for(t=0;t<p;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],u[c++]=r<<2|i>>4,u[c++]=(15&i)<<4|o>>2,u[c++]=(3&o)<<6|63&a;return l}}()},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),p=o&&o.prototype.append&&o.prototype.getBlob;e.exports=a?s?t.Blob:i:p?r:undefined}).call(t,function(){return this}())},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){"use strict";function t(e){var t="";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function n(e){var t=0;for(c=0;c<e.length;c++)t=t*a+s[e.charAt(c)];return t}function r(){var e=t(+new Date);return e!==i?(p=0,i=e):e+"."+t(p++)}for(var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,s={},p=0,c=0;c<a;c++)s[o[c]]=c;r.encode=t,r.decode=n,e.exports=r},function(e,t,n){(function(t){function r(){}function i(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var o=n(25),a=n(37);e.exports=i;var s,p=/\n/g,c=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(t){(o=document.createElement("iframe")).name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(c,"\\\n"),this.area.value=e.replace(p,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=l&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=i),o.call(this,e)}var i,o=n(26),a=n(27),s=n(36),p=n(37),c=n(38),l=(n(6)("engine.io-client:websocket"),t.WebSocket||t.MozWebSocket);if("undefined"==typeof window)try{i=n(41)}catch(d){}var u=l;u||"undefined"!=typeof window||(u=i),e.exports=r,p(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new u(e,t):new u(e):new u(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType===undefined&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=e.length,o=0,s=i;o<s;o++)!function(e){a.encodePacket(e,r.supportsBinary,function(o){if(!r.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),r.perMessageDeflate)("string"==typeof o?t.Buffer.byteLength(o):o.length)<r.perMessageDeflate.threshold&&(a.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(o):r.ws.send(o,a)}catch(d){}--i||n()})}(e[o])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(){},function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1}},function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i=n(7),o=n(44),a=n(45),s=n(46),p=n(47),c=(n(6)("socket.io-client:socket"),n(36));e.exports=r;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",p(this,"onopen")),s(e,"packet",p(this,"onpacket")),s(e,"close",p(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(l.hasOwnProperty(e))return u.apply(this,arguments),this;var t=a(arguments),n={type:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);t.packet({type:i.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&this.packet({type:i.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){function t(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=t},function(e){function t(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=t},function(e){var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=t.call(arguments,2);return function(){return n.apply(e,r.concat(t.call(arguments)))}}},function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(50),a=n(51),s=function(){function e(t,n){r(this,e),this.name=t,this.socked=n,this.subscribed=!1,this.subscriptionPending=!1,this.user={},this.users=new a(this)}return i(e,[{key:"isPresence",value:function(){return 0===this.name.indexOf("presence-")}},{key:"authorize",value:function(e){var t=new XMLHttpRequest,n=this.socked.options.authUrl+"?app="+encodeURIComponent(this.socked.appId)+"&channel="+encodeURIComponent(this.name)+"&socket_id="+encodeURIComponent(this.socked._socket.id);if(this.socked.options.auth&&this.socked.options.auth.params)for(var r in this.socked.options.auth.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent("function"==typeof this.socked.options.auth.params[r]?this.socked.options.auth.params[r]():this.socked.options.auth.params[r]);t.open("GET",n,!0),t.onload=function(){if(t.status>=200&&t.status<400){var n=JSON.parse(t.responseText);n&&!n.error?e(null,n.sig,n.user):e({code:401,error:"Authentication error."})}else e({code:t.status,error:"Authentication error."})},t.send()}},{key:"subscribe",value:function(){var e=this;if(!this.subscribed&&!this.subscriptionPending){if(!this.socked.connected)throw"Socked is not connected.";this.subscriptionPending=!0,this.authorize(function(t,n,r){t?e.subscriptionPending=!1:(e.socked.trigger("subscribe",{user:r},e.name,n),e.socked.options&&e.socked.options.auth&&e.socked.options.auth.callback&&e.socked.options.auth.callback(r))})}}},{key:"unsubscribe",value:function(){this.subscriptionPending=!1,this.subscribed&&(this.subscribed=!1,this.users.clear(),this.socked.trigger("unsubscribe",null,this.name))}},{key:"handleEvent",value:function(e){0===e.event.indexOf("internal:")?"internal:subscription_success"===e.event?(this.subscriptionPending=!1,this.subscribed=!0,this.user=e.user,e.users&&(this.users.clear(),this.users.addUsers(e.users))):"internal:subscription_error"===e.event&&(this.subscriptionPending=!1,this.subscribed=!1):"subscribed_channel"==e.event?this.users.addUser(e.user):"unsubscribed_channel"==e.event&&this.users.removeUser(e.user),this.emit(e.event,e)}},{key:"trigger",value:function(e,t,n){if(!this.subscribed)throw new Error("Unable to send message. Channel '"+this.name+"' is not subscribed.");if(0!==e.indexOf("client-")&&0!==e.indexOf("private-"))throw new Error("Unable to send message. Event name must begin with 'client-' or 'private-'.");this.socked.trigger(e,t,this.name,null,n)}},{key:"event",value:function(e,t){if(!this.subscribed)throw new Error("Unable to send event. Channel '"+this.name+"' is not subscribed.");var n=JSON.parse(JSON.stringify(t));n.event=e,this.socked.trigger("event",n,this.name)}}]),e}();o(s.prototype),e.exports=s},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(52),a=function(){function e(t){r(this,e),this.channel=t,this.users={}}return i(e,[{key:"addUsers",value:function(e){this.users=o(this.users,e||{})}},{key:"addUser",value:function(e){this.users[e.id]=e}},{key:"getUsers",value:function(){var e=this;return Object.keys(this.users).map(function(t){return e.users[t]})}},{key:"removeUser",value:function(e){delete this.users[e.id]}},{key:"count",value:function(){return Object.keys(this.users).length}},{key:"clear",value:function(){this.users={}}}]),e}();e.exports=a},function(e){"use strict";function t(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e){for(var n,a,s=t(e),p=1;p<arguments.length;p++){for(var c in n=Object(arguments[p]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}}])});var GLOBAL="undefined"==typeof window?global:window,setter=function(e,t,n){return function(r,i){var o=e(function(){t.call(this,o),r.apply(this,arguments)}.bind(this),i);return this[n]?this[n].push(o):this[n]=[o],o}},clearer=function(e,t){return function(n){if(this[t]){var r=this[t].indexOf(n);-1!==r&&this[t].splice(r,1)}e(n)}},_timeouts="TimerMixin_timeouts",_clearTimeout=clearer(GLOBAL.clearTimeout,_timeouts),_setTimeout=setter(GLOBAL.setTimeout,_clearTimeout,_timeouts),_intervals="TimerMixin_intervals",_clearInterval=clearer(GLOBAL.clearInterval,_intervals),_setInterval=setter(GLOBAL.setInterval,function(){},_intervals),_immediates="TimerMixin_immediates",_clearImmediate=clearer(GLOBAL.clearImmediate,_immediates),_setImmediate=setter(GLOBAL.setImmediate,_clearImmediate,_immediates),_rafs="TimerMixin_rafs",_cancelAnimationFrame=clearer(GLOBAL.cancelAnimationFrame,_rafs),_requestAnimationFrame=setter(GLOBAL.requestAnimationFrame,_cancelAnimationFrame,_rafs),TimerMixin={componentWillUnmount:function(){this[_timeouts]&&this[_timeouts].forEach(function(e){GLOBAL.clearTimeout(e)}),this[_timeouts]=null,this[_intervals]&&this[_intervals].forEach(function(e){GLOBAL.clearInterval(e)}),this[_intervals]=null,this[_immediates]&&this[_immediates].forEach(function(e){GLOBAL.clearImmediate(e)}),this[_immediates]=null,this[_rafs]&&this[_rafs].forEach(function(e){GLOBAL.cancelAnimationFrame(e)}),this[_rafs]=null},setTimeout:_setTimeout,clearTimeout:_clearTimeout,setInterval:_setInterval,clearInterval:_clearInterval,setImmediate:_setImmediate,clearImmediate:_clearImmediate,requestAnimationFrame:_requestAnimationFrame,cancelAnimationFrame:_cancelAnimationFrame};!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Flux=t():e.Flux=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports.Dispatcher=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=n(2),o="ID_",a=function(){function e(){r(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=o+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]?undefined:i(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching?undefined:i(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]?undefined:i(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]?undefined:i(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching?i(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):undefined,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a},function(e){"use strict";function t(e,t,n,r,i,o,a,s){if(t===undefined)throw new Error("invariant requires an error message argument");if(!e){var p;if(t===undefined)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(p=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}e.exports=t}])}),"function"==typeof Node&&Node.prototype&&function(){var e=Node.prototype.removeChild;Node.prototype.removeChild=function(t){return t.parentNode!==this?(console&&console.error("Cannot remove a child from a different parent",t,this),t):e.apply(this,arguments)};var t=Node.prototype.insertBefore;Node.prototype.insertBefore=function(e,n){return n&&n.parentNode!==this?(console&&console.error("Cannot insert before a reference node from a different parent",n,this),e):t.apply(this,arguments)}}(),window._ReactOriginal=window.React||null,window._ReactDOMOriginal=window.ReactDOM||null,window._createReactClassOriginal=window.createReactClass||null,window._PropTypesOriginal=window.PropTypes||null,function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(4),i=n(23),o=n(7),a=n(9);window.React=r,window.ReactDOM=i,window.createReactClass=o,window.PropTypes=a},function(e){"use strict";var t={};e.exports=t},function(e){"use strict";function t(e,t,r,i,o,a,s,p){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,i,o,a,s,p],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}var n=function(){};e.exports=t},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e){for(var n,a,s=t(e),p=1;p<arguments.length;p++){for(var c in n=Object(arguments[p]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";e.exports=n(11)},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=b.hasOwnProperty(t)?b[t]:null;E.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function c(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var a in n.hasOwnProperty(p)&&x.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&a!==p){var c=n[a],l=r.hasOwnProperty(a);if(i(l,a),x.hasOwnProperty(a))x[a](e,c);else{var u=b.hasOwnProperty(a);if("function"==typeof c&&!u&&!l&&!1!==n.autobind)o.push(a,c),r[a]=c;else if(l){var f=b[a];s(u&&("DEFINE_MANY_MERGED"===f||"DEFINE_MANY"===f),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,a),"DEFINE_MANY_MERGED"===f?r[a]=d(r[a],c):"DEFINE_MANY"===f&&(r[a]=h(r[a],c))}else r[a]=c}}}}function l(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(s(!(n in x),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var i=v.hasOwnProperty(n)?v[n]:null;return s("DEFINE_MANY_MERGED"===i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=d(e[n],r))}e[n]=r}}}function u(e,t){for(var n in s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return u(i,n),u(i,r),i}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){return t.bind(e)}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=f(e,i)}}function g(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=a,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o});for(var i in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(c.bind(null,t)),c(t,C),c(t,e),c(t,w),
t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),b)t.prototype[i]||(t.prototype[i]=null);return t}var y=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},v={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},x={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)c(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){l(e,t)},autobind:function(){}},C={componentDidMount:function(){this.__isMounted=!0}},w={componentWillUnmount:function(){this.__isMounted=!1}},E={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return o(_.prototype,e.prototype,E),g}var o=n(3),a=n(1),s=n(2),p="mixins";e.exports=i},function(e,t,n){"use strict";var r=n(4),i=n(6);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";function r(){}var i=n(10);e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){e.exports=n(8)()},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);b(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function i(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||A}function o(){}function a(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||A}function s(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)P.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var p=Array(s),c=0;c<s;c++)p[c]=arguments[c+2];i.children=p}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:e,key:o,ref:a,props:i,_owner:D.current}}function p(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function l(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function d(e,t,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case w:case E:a=!0}}if(a)return n(i,e,""===t?"."+h(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var p=t+h(o=e[s],s);a+=d(o,p,n,i)}else if(null==e?p=null:p="function"==typeof(p=z&&e[z]||e["@@iterator"])?p:null,"function"==typeof p)for(e=p.call(e),s=0;!(o=e.next()).done;)a+=d(o=o.value,p=t+h(o,s++),n,i);else"object"===o&&r("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function f(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,x.thatReturnsArgument):null!=e&&(p(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n,e={$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function g(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(j,"$&/")+"/"),t=l(t,o,r,i),null==e||d(e,"",m,t),u(t)}var y=n(3),b=n(2),v=n(1),x=n(5),C="function"==typeof Symbol&&Symbol["for"],w=C?Symbol["for"]("react.element"):60103,E=C?Symbol["for"]("react.portal"):60106,_=C?Symbol["for"]("react.fragment"):60107,T=C?Symbol["for"]("react.strict_mode"):60108,S=C?Symbol["for"]("react.profiler"):60114,N=C?Symbol["for"]("react.provider"):60109,R=C?Symbol["for"]("react.context"):60110,k=C?Symbol["for"]("react.async_mode"):60111,O=C?Symbol["for"]("react.forward_ref"):60112;C&&Symbol["for"]("react.timeout");var z="function"==typeof Symbol&&Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=i.prototype;var I=a.prototype=new o;I.constructor=a,y(I,i.prototype),I.isPureReactComponent=!0;var D={current:null},P=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},j=/\/+/g,L=[],U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(t=l(null,null,t,n),null==e||d(e,"",f,t),void u(t))},count:function(e){return null==e?0:d(e,"",x.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,x.thatReturnsArgument),t},only:function(e){return p(e)||r("143"),e}},createRef:function(){return{current:null}},Component:i,PureComponent:a,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:R,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:N,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:O,render:e}},Fragment:_,StrictMode:T,unstable_AsyncMode:k,unstable_Profiler:S,createElement:s,cloneElement:function(e,t,n){null==e&&r("267",e);var i=void 0,o=y({},e.props),a=e.key,s=e.ref,p=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,p=D.current),void 0!==t.key&&(a=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)P.call(t,i)&&!M.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){c=Array(i);for(var l=0;l<i;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:w,type:e.type,key:a,ref:s,props:o,_owner:p}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:p,version:"16.4.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:D,assign:y}},F={"default":U},B=F&&U||F;e.exports=B["default"]?B["default"]:B},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(18);e.exports=r},function(e){"use strict";function t(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=t},,,function(e){"use strict";function t(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(17);e.exports=r},,function(e){"use strict";function t(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function n(e,n){if(t(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!r.call(n,i[a])||!t(e[i[a]],n[i[a]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},,function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);Dr(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function i(e,t,n){this._hasCaughtError=!1,this._caughtError=null;var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function o(){if(Vr._hasRethrowError){var e=Vr._rethrowError;throw Vr._rethrowError=null,Vr._hasRethrowError=!1,e}}function a(){if(Hr)for(var e in Wr){var t=Wr[e],n=Hr.indexOf(e);if(-1<n||r("96",e),!$r[n])for(var i in t.extractEvents||r("97",e),$r[n]=t,n=t.eventTypes){var o=void 0,a=n[i],p=t,c=i;Kr.hasOwnProperty(c)&&r("99",c),Kr[c]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&s(l[o],p,c);o=!0}else a.registrationName?(s(a.registrationName,p,c),o=!0):o=!1;o||r("98",i,e)}}}function s(e,t,n){Yr[e]&&r("100",e),Yr[e]=t,Gr[e]=t.eventTypes[n].dependencies}function p(e){Hr&&r("101"),Hr=Array.prototype.slice.call(e),a()}function c(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Wr.hasOwnProperty(t)&&Wr[t]===i||(Wr[t]&&r("102",t),Wr[t]=i,n=!0)}n&&a()}function l(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=Zr(r),Vr.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function u(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function d(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function h(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)l(e,t,n[i],r[i]);else n&&l(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function f(e){return h(e,!0)}function m(e){return h(e,!1)}function g(e,t){var n=e.stateNode;if(!n)return null;var i=Qr(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&r("231",t,typeof n),n)}function y(e,t){null!==e&&(ei=u(ei,e)),e=ei,ei=null,e&&(d(e,t?f:m),ei&&r("95"),Vr.rethrowCaughtError())}function b(e,t,n,r){for(var i=null,o=0;o<$r.length;o++){var a=$r[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=u(i,a))}y(i,!1)}function v(e){if(e[ii])return e[ii];for(;!e[ii];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[ii]).tag||6===e.tag?e:null}function x(e){return 5===e.tag||6===e.tag?e.stateNode:void r("33")}function C(e){return e[oi]||null}function w(e){do{e=e["return"]}while(e&&5!==e.tag);return e||null}function E(e,t,n){for(var r=[];e;)r.push(e),e=w(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function _(e,t,n){(t=g(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=u(n._dispatchListeners,t),n._dispatchInstances=u(n._dispatchInstances,e))}function T(e){e&&e.dispatchConfig.phasedRegistrationNames&&E(e._targetInst,_,e)}function S(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;E(t=t?w(t):null,_,e)}}function N(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=g(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=u(n._dispatchListeners,t),n._dispatchInstances=u(n._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.registrationName&&N(e._targetInst,null,e)}function k(e){d(e,T)}function O(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=w(s))a++;s=0;for(var p=o;p;p=w(p))s++;for(;0<a-s;)i=w(i),a--;for(;0<s-a;)o=w(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=w(i),o=w(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=w(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=w(r);for(r=0;r<i.length;r++)N(i[r],"bubbled",e);for(e=n.length;0<e--;)N(n[e],"captured",t)}function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function A(e){if(ci[e])return ci[e];if(!pi[e])return e;var t,n=pi[e];for(t in n)if(n.hasOwnProperty(t)&&t in li)return ci[e]=n[t];return e}function I(){return!gi&&Mr.canUseDOM&&(gi="textContent"in document.documentElement?"textContent":"innerText"),gi}function D(){if(yi._fallbackText)return yi._fallbackText;var e,t,n=yi._startText,r=n.length,i=P(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return yi._fallbackText=i.slice(e,1<t?1-t:void 0),yi._fallbackText}function P(){return"value"in yi._root?yi._root.value:yi._root[I()]}function M(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Lr.thatReturnsTrue:Lr.thatReturnsFalse,this.isPropagationStopped=Lr.thatReturnsFalse,this}function j(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function L(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function U(e){e.eventPool=[],e.getPooled=j,e.release=L}function F(e,t){switch(e){case"keyup":return-1!==wi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function B(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function q(e,t){switch(e){case"compositionend":return B(t);case"keypress":return 32!==t.which?null:(ki=!0,Ni);case"textInput":return(e=t.data)===Ni&&ki?null:e;default:return null}}function V(e,t){if(Oi)return"compositionend"===e||!Ei&&F(e,t)?(e=D(),yi._root=null,yi._startText=null,yi._fallbackText=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t["char"]&&1<t["char"].length)return t["char"];if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Si?null:t.data;default:return null}}function H(e){if(e=Jr(e)){Ai&&"function"==typeof Ai.restoreControlledState||r("194");var t=Qr(e.stateNode);Ai.restoreControlledState(e.stateNode,e.type,t)}}function W(e){Di?Pi?Pi.push(e):Pi=[e]:Di=e}function $(){return null!==Di||null!==Pi}function K(){if(Di){var e=Di,t=Pi;if(Pi=Di=null,H(e),t)for(e=0;e<t.length;e++)H(t[e])}}function Y(e,t){return e(t)}function G(e,t,n){return e(t,n)}function X(){}function Q(e,t){if(ji)return e(t);ji=!0;try{return Y(e,t)}finally{ji=!1,$()&&(X(),K())}}function J(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Li[e.type]:"textarea"===t}function Z(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Mr.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){var t=te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function re(e){e._valueTracker||(e._valueTracker=ne(e))}function ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=te(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function oe(e){return null==e?null:"function"==typeof(e=Qi&&e[Qi]||e["@@iterator"])?e:null}function ae(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Yi:return"AsyncMode";case Ki:return"Context.Consumer";case Vi:return"ReactFragment";case qi:return"ReactPortal";case Wi:return"Profiler("+e.pendingProps.id+")";case $i:return"Context.Provider";case Hi:return"StrictMode";case Xi:return"Timeout"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case Gi:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=ae(e),o=null;n&&(o=ae(n)),i="\n    in "+(i||"Unknown")+((n=r)?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e["return"]}while(e);return t}function pe(e){return!!Zi.call(to,e)||!Zi.call(eo,e)&&(Ji.test(e)?to[e]=!0:(eo[e]=!0,!1))}function ce(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function le(e,t,n,r){if(null==t||ce(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ue(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}function de(e){return e[1].toUpperCase()}function he(e,t,n,r){var i=no.hasOwnProperty(t)?no[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(le(t,n,i,r)&&(n=null),r||null===i?pe(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function fe(e,t){var n=t.checked;return jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function me(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=xe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ge(e,t){null!=(t=t.checked)&&he(e,"checked",t,!1)}function ye(e,t){ge(e,t);var n=xe(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?ve(e,t.type,n):t.hasOwnProperty("defaultValue")&&ve(e,t.type,xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function ve(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function xe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ce(e,t,n){return(e=M.getPooled(io.change,e,t,n)).type="change",W(n),k(e),e}function we(e){y(e,!1)}function Ee(e){if(ie(x(e)))return e}function _e(e,t){if("change"===e)return t}function Te(){oo&&(oo.detachEvent("onpropertychange",Se),ao=oo=null)}function Se(e){"value"===e.propertyName&&Ee(ao)&&Q(we,e=Ce(ao,e,Z(e)))}function Ne(e,t,n){"focus"===e?(Te(),ao=n,(oo=t).attachEvent("onpropertychange",Se)):"blur"===e&&Te()}function Re(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ee(ao)}function ke(e,t){if("click"===e)return Ee(t)}function Oe(e,t){if("input"===e||"change"===e)return Ee(t)}function ze(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=lo[e])&&!!t[e]}function Ae(){return ze}function Ie(e){var t=e;if(e.alternate)for(;t["return"];)t=t["return"];else{if(0!=(2&t.effectTag))return 1;for(;t["return"];)if(0!=(2&(t=t["return"]).effectTag))return 1}return 3===t.tag?2:3}function De(e){2!==Ie(e)&&r("188")}function Pe(e){var t=e.alternate;if(!t)return 3===(t=Ie(e))&&r("188"),1===t?null:e;for(var n=e,i=t;;){var o=n["return"],a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return De(o),e;if(s===i)return De(o),t;s=s.sibling}r("188")}if(n["return"]!==i["return"])n=o,i=a;else{s=!1;for(var p=o.child;p;){if(p===n){s=!0,n=o,i=a;break}if(p===i){s=!0,i=o,n=a;break}p=p.sibling}if(!s){for(p=a.child;p;){if(p===n){s=!0,n=a,i=o;break}if(p===i){s=!0,i=a,n=o;break}p=p.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Me(e){if(!(e=Pe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child["return"]=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function je(e){if(!(e=Pe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child["return"]=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function Le(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ue(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},No[e]=t,Ro[n]=t}function Fe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n["return"];)n=n["return"];if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=v(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],b(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function Be(e){Ao=!!e}function qe(e,t){if(!t)return null;var n=(Oo(e)?He:We).bind(null,e);t.addEventListener(e,n,!1)}function Ve(e,t){if(!t)return null;var n=(Oo(e)?He:We).bind(null,e);t.addEventListener(e,n,!0)}function He(e,t){G(We,e,t)}function We(e,t){if(Ao){var n=Z(t);if(null===(n=v(n))||"number"!=typeof n.tag||2===Ie(n)||(n=null),zo.length){var r=zo.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Q(Fe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>zo.length&&zo.push(e)}}}function $e(e){return Object.prototype.hasOwnProperty.call(e,Mo)||(e[Mo]=Po++,Do[e[Mo]]={}),Do[e[Mo]]}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ye(e,t){var n,r=Ke(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ke(r)}}function Ge(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Xe(e,t){if(qo||null==Uo||Uo!==Ur())return null;var n=Uo;return"selectionStart"in n&&Ge(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Bo&&Fr(Bo,n)?null:(Bo=n,(e=M.getPooled(Lo.select,Fo,e,t)).type="select",e.target=Uo,k(e),e)}function Qe(e){var t="";return Pr.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Je(e,t){return e=jr({children:void 0},t),(t=Qe(t.children))&&(e.children=t),e}function Ze(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function et(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nt(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function rt(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function it(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function ot(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ot(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function pt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||ga.hasOwnProperty(i)&&ga[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function ct(e,t,n){t&&(ba[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",n()))}function lt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ut(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Gr[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Ve("scroll",e);break;case"focus":case"blur":Ve("focus",e),Ve("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(i,!0)&&Ve(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===mi.indexOf(i)&&qe(i,e)}n[i]=!0}}}function dt(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ha.html&&(r=ot(e)),r===ha.html?"script"===e?((e=n.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function ht(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ft(e,t,n,r){var i=lt(t,n);switch(t){case"iframe":case"object":qe("load",e);var o=n;break;case"video":case"audio":for(o=0;o<mi.length;o++)qe(mi[o],e);o=n;break;case"source":qe("error",e),o=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),o=n;break;case"form":qe("reset",e),qe("submit",e),o=n;break;case"details":qe("toggle",e),o=n;break;case"input":me(e,n),o=fe(e,n),qe("invalid",e),ut(r,"onChange");break;case"option":o=Je(e,n);break;case"select":et(e,n),o=jr({},n,{value:void 0}),qe("invalid",e),ut(r,"onChange");break;case"textarea":nt(e,n),o=tt(e,n),qe("invalid",e),ut(r,"onChange");break;default:o=n}ct(t,o,va);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var p=s[a];"style"===a?pt(e,p,va):"dangerouslySetInnerHTML"===a?null!=(p=p?p.__html:void 0)&&ma(e,p):"children"===a?"string"==typeof p?("textarea"!==t||""!==p)&&st(e,p):"number"==typeof p&&st(e,""+p):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Yr.hasOwnProperty(a)?null!=p&&ut(r,a):null!=p&&he(e,a,p,i))}switch(t){case"input":re(e),be(e,n,!1);break;case"textarea":re(e),it(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Ze(e,!!n.multiple,t,!1):null!=n.defaultValue&&Ze(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Lr)}}function mt(e,t,n,r,i){var o=null;switch(t){case"input":n=fe(e,n),r=fe(e,r),o=[];break;case"option":n=Je(e,n),r=Je(e,r),o=[];break;case"select":n=jr({},n,{value:void 0}),r=jr({},r,{value:void 0}),o=[];break;case"textarea":n=tt(e,n),r=tt(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Lr)}ct(t,r,va),t=e=void 0;var a=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(a||(a={}),a[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Yr.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var p=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&p!==s&&(null!=p||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||p&&p.hasOwnProperty(t)||(a||(a={}),a[t]="");for(t in p)p.hasOwnProperty(t)&&s[t]!==p[t]&&(a||(a={}),a[t]=p[t])}else a||(o||(o=[]),o.push(e,a)),a=p;else"dangerouslySetInnerHTML"===e?(p=p?p.__html:void 0,s=s?s.__html:void 0,null!=p&&s!==p&&(o=o||[]).push(e,""+p)):"children"===e?s===p||"string"!=typeof p&&"number"!=typeof p||(o=o||[]).push(e,""+p):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Yr.hasOwnProperty(e)?(null!=p&&ut(i,e),o||s===p||(o=[])):(o=o||[]).push(e,p))}return a&&(o=o||[]).push("style",a),o}function gt(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&ge(e,i),lt(n,r),r=lt(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?pt(e,s,va):"dangerouslySetInnerHTML"===a?ma(e,s):"children"===a?st(e,s):he(e,a,s,r)}switch(n){case"input":ye(e,i);break;case"textarea":rt(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Ze(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ze(e,!!i.multiple,i.defaultValue,!0):Ze(e,!!i.multiple,i.multiple?[]:"",!1))}}function yt(e,t,n,r,i){switch(t){case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(r=0;r<mi.length;r++)qe(mi[r],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),
qe("load",e);break;case"form":qe("reset",e),qe("submit",e);break;case"details":qe("toggle",e);break;case"input":me(e,n),qe("invalid",e),ut(i,"onChange");break;case"select":et(e,n),qe("invalid",e),ut(i,"onChange");break;case"textarea":nt(e,n),qe("invalid",e),ut(i,"onChange")}for(var o in ct(t,n,va),r=null,n)if(n.hasOwnProperty(o)){var a=n[o];"children"===o?"string"==typeof a?e.textContent!==a&&(r=["children",a]):"number"==typeof a&&e.textContent!==""+a&&(r=["children",""+a]):Yr.hasOwnProperty(o)&&null!=a&&ut(i,o)}switch(t){case"input":re(e),be(e,n,!0);break;case"textarea":re(e),it(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=Lr)}return r}function bt(e,t){return e.nodeValue!==t}function vt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xt(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}function Ct(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Et(e){return{current:e}}function _t(e){0>Na||(e.current=Sa[Na],Sa[Na]=null,Na--)}function Tt(e,t){Sa[++Na]=e.current,e.current=t}function St(e){return Rt(e)?Oa:Ra.current}function Nt(e,t){var n=e.type.contextTypes;if(!n)return qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rt(e){return 2===e.tag&&null!=e.type.childContextTypes}function kt(e){Rt(e)&&(_t(ka,e),_t(Ra,e))}function Ot(e){_t(ka,e),_t(Ra,e)}function zt(e,t,n){Ra.current!==qr&&r("168"),Tt(Ra,t,e),Tt(ka,n,e)}function At(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var o in n=n.getChildContext())o in i||r("108",ae(e)||"Unknown",o);return jr({},t,n)}function It(e){if(!Rt(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||qr,Oa=Ra.current,Tt(Ra,t,e),Tt(ka,ka.current,e),!0}function Dt(e,t){var n=e.stateNode;if(n||r("169"),t){var i=At(e,Oa);n.__reactInternalMemoizedMergedChildContext=i,_t(ka,e),_t(Ra,e),Tt(Ra,i,e)}else _t(ka,e);Tt(ka,t,e)}function Pt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this["return"]=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Mt(e,t,n){var r=e.alternate;return null===r?((r=new Pt(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jt(e,t,n){var i=e.type,o=e.key;if(e=e.props,"function"==typeof i)var a=i.prototype&&i.prototype.isReactComponent?2:0;else if("string"==typeof i)a=5;else switch(i){case Vi:return Lt(e.children,t,n,o);case Yi:a=11,t|=3;break;case Hi:a=11,t|=2;break;case Wi:return(i=new Pt(15,e,o,4|t)).type=Wi,i.expirationTime=n,i;case Xi:a=16,t|=2;break;default:e:{switch("object"==typeof i&&null!==i?i.$$typeof:null){case $i:a=13;break e;case Ki:a=12;break e;case Gi:a=14;break e;default:r("130",null==i?i:typeof i,"")}a=void 0}}return(t=new Pt(a,e,o,t)).type=i,t.expirationTime=n,t}function Lt(e,t,n,r){return(e=new Pt(10,e,r,t)).expirationTime=n,e}function Ut(e,t,n){return(e=new Pt(6,e,null,t)).expirationTime=n,e}function Ft(e,t,n){return(t=new Pt(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bt(e,t,n){return e={current:t=new Pt(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function qt(e){return function(t){try{return e(t)}catch(e){}}}function Vt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);za=qt(function(e){return t.onCommitFiberRoot(n,e)}),Aa=qt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Ht(e){"function"==typeof za&&za(e)}function Wt(e){"function"==typeof Aa&&Aa(e)}function $t(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Kt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Gt(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Xt(e,t,n){var r=e.alternate;if(null===r){var i=e.updateQueue,o=null;null===i&&(i=e.updateQueue=$t(e.memoizedState))}else i=e.updateQueue,o=r.updateQueue,null===i?null===o?(i=e.updateQueue=$t(e.memoizedState),o=r.updateQueue=$t(r.memoizedState)):i=e.updateQueue=Kt(o):null===o&&(o=r.updateQueue=Kt(i));null===o||i===o?Gt(i,t,n):null===i.lastUpdate||null===o.lastUpdate?(Gt(i,t,n),Gt(o,t,n)):(Gt(i,t,n),o.lastUpdate=t)}function Qt(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=$t(e.memoizedState):Jt(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function Jt(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Kt(t)),t}function Zt(e,t,n,r,i,o){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(o,r,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null==(i="function"==typeof(e=n.payload)?e.call(o,r,i):e))break;return jr({},r,i);case 2:Ia=!0}return r}function en(e,t,n,r,i){if(Ia=!1,!(0===t.expirationTime||t.expirationTime>i)){for(var o=(t=Jt(e,t)).baseState,a=null,s=0,p=t.firstUpdate,c=o;null!==p;){var l=p.expirationTime;l>i?(null===a&&(a=p,o=c),(0===s||s>l)&&(s=l)):(c=Zt(e,t,p,c,n,r),null!==p.callback&&(e.effectTag|=32,p.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=p:(t.lastEffect.nextEffect=p,t.lastEffect=p))),p=p.next}for(l=null,p=t.firstCapturedUpdate;null!==p;){var u=p.expirationTime;u>i?(null===l&&(l=p,null===a&&(o=c)),(0===s||s>u)&&(s=u)):(c=Zt(e,t,p,c,n,r),null!==p.callback&&(e.effectTag|=32,p.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=p:(t.lastCapturedEffect.nextEffect=p,t.lastCapturedEffect=p))),p=p.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,t.expirationTime=s,e.memoizedState=c}}function tn(e,t){"function"!=typeof e&&r("191",e),e.call(t)}function nn(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,tn(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,tn(t,n)),e=e.nextEffect}function rn(e,t){return{value:e,source:t,stack:se(t)}}function on(e){var t=e.type._context;Tt(Ma,t._changedBits,e),Tt(Pa,t._currentValue,e),Tt(Da,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function an(e){var t=Ma.current,n=Pa.current;_t(Da,e),_t(Pa,e),_t(Ma,e),(e=e.type._context)._currentValue=n,e._changedBits=t}function sn(e){return e===ja&&r("174"),e}function pn(e,t){Tt(Fa,t,e),Tt(Ua,e,e),Tt(La,ja,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:at(null,"");break;default:t=at(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}_t(La,e),Tt(La,t,e)}function cn(e){_t(La,e),_t(Ua,e),_t(Fa,e)}function ln(e){Ua.current===e&&(_t(La,e),_t(Ua,e))}function un(e,t,n){var r=e.memoizedState;r=null==(t=t(n,r))?r:jr({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}function dn(e,t,n,r,i,o){var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!(e.prototype&&e.prototype.isPureReactComponent&&Fr(t,n)&&Fr(r,i))}function hn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function fn(e,t){var n=e.type,r=e.stateNode,i=e.pendingProps,o=St(e);r.props=i,r.state=e.memoizedState,r.refs=qr,r.context=Nt(e,o),null!==(o=e.updateQueue)&&(en(e,o,i,r,t),r.state=e.memoizedState),"function"==typeof(o=e.type.getDerivedStateFromProps)&&(un(e,o,i),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Ba.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(en(e,o,i,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}function mn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;n&&(2!==n.tag&&r("110"),i=n.stateNode),i||r("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs===qr?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!=typeof e&&r("148"),n._owner||r("254",e)}return e}function gn(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Mt(e,t,n)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function p(e,t,n,r){return null===t||6!==t.tag?((t=Ut(n,e.mode,r))["return"]=e,t):((t=o(t,n,r))["return"]=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?((r=o(t,n.props,r)).ref=mn(e,t,n),r["return"]=e,r):((r=jt(n,e.mode,r)).ref=mn(e,t,n),r["return"]=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ft(n,e.mode,r))["return"]=e,t):((t=o(t,n.children||[],r))["return"]=e,t)}function u(e,t,n,r,i){return null===t||10!==t.tag?((t=Lt(n,e.mode,r,i))["return"]=e,t):((t=o(t,n,r))["return"]=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ut(""+t,e.mode,n))["return"]=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Bi:return(n=jt(t,e.mode,n)).ref=mn(e,null,t),n["return"]=e,n;case qi:return(t=Ft(t,e.mode,n))["return"]=e,t}if(qa(t)||oe(t))return(t=Lt(t,e.mode,n,null))["return"]=e,t;gn(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:p(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Bi:return n.key===i?n.type===Vi?u(e,t,n.props.children,r,i):c(e,t,n,r):null;case qi:return n.key===i?l(e,t,n,r):null}if(qa(n)||oe(n))return null!==i?null:u(e,t,n,r,null);gn(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return p(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Bi:return e=e.get(null===r.key?n:r.key)||null,r.type===Vi?u(t,e,r.props.children,i,r.key):c(t,e,r,i);case qi:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(qa(r)||oe(r))return u(t,e=e.get(n)||null,r,i,null);gn(t,r)}return null}function m(r,o,s,p){for(var c=null,l=null,u=o,m=o=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var y=h(r,u,s[m],p);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(r,u),o=a(y,o,m),null===l?c=y:l.sibling=y,l=y,u=g}if(m===s.length)return n(r,u),c;if(null===u){for(;m<s.length;m++)(u=d(r,s[m],p))&&(o=a(u,o,m),null===l?c=u:l.sibling=u,l=u);return c}for(u=i(r,u);m<s.length;m++)(g=f(u,r,m,s[m],p))&&(e&&null!==g.alternate&&u["delete"](null===g.key?m:g.key),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&u.forEach(function(e){return t(r,e)}),c}function g(o,s,p,c){var l=oe(p);"function"!=typeof l&&r("150"),null==(p=l.call(p))&&r("151");for(var u=l=null,m=s,g=s=0,y=null,b=p.next();null!==m&&!b.done;g++,b=p.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=h(o,m,b.value,c);if(null===v){m||(m=y);break}e&&m&&null===v.alternate&&t(o,m),s=a(v,s,g),null===u?l=v:u.sibling=v,u=v,m=y}if(b.done)return n(o,m),l;if(null===m){for(;!b.done;g++,b=p.next())null!==(b=d(o,b.value,c))&&(s=a(b,s,g),null===u?l=b:u.sibling=b,u=b);return l}for(m=i(o,m);!b.done;g++,b=p.next())null!==(b=f(m,o,g,b.value,c))&&(e&&null!==b.alternate&&m["delete"](null===b.key?g:b.key),s=a(b,s,g),null===u?l=b:u.sibling=b,u=b);return e&&m.forEach(function(e){return t(o,e)}),l}return function(e,i,a,p){var c="object"==typeof a&&null!==a&&a.type===Vi&&null===a.key;c&&(a=a.props.children);var l="object"==typeof a&&null!==a;if(l)switch(a.$$typeof){case Bi:e:{for(l=a.key,c=i;null!==c;){if(c.key===l){if(10===c.tag?a.type===Vi:c.type===a.type){n(e,c.sibling),(i=o(c,a.type===Vi?a.props.children:a.props,p)).ref=mn(e,c,a),i["return"]=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===Vi?((i=Lt(a.props.children,e.mode,p,a.key))["return"]=e,e=i):((p=jt(a,e.mode,p)).ref=mn(e,i,a),p["return"]=e,e=p)}return s(e);case qi:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=o(i,a.children||[],p))["return"]=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Ft(a,e.mode,p))["return"]=e,e=i}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=o(i,a,p))["return"]=e,e=i):(n(e,i),(i=Ut(a,e.mode,p))["return"]=e,e=i),s(e);if(qa(a))return m(e,i,a,p);if(oe(a))return g(e,i,a,p);if(l&&gn(e,a),void 0===a&&!c)switch(e.tag){case 2:case 1:r("152",(p=e.type).displayName||p.name||"Component")}return n(e,i)}}function bn(e,t){var n=new Pt(5,null,null,0);n.type="DELETED",n.stateNode=t,n["return"]=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function vn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function xn(e){if(Ka){var t=$a;if(t){var n=t;if(!vn(e,t)){if(!(t=Ct(n))||!vn(e,t))return e.effectTag|=2,Ka=!1,void(Wa=e);bn(Wa,n)}Wa=e,$a=wt(t)}else e.effectTag|=2,Ka=!1,Wa=e}}function Cn(e){for(e=e["return"];null!==e&&5!==e.tag&&3!==e.tag;)e=e["return"];Wa=e}function wn(e){if(e!==Wa)return!1;if(!Ka)return Cn(e),Ka=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xt(t,e.memoizedProps))for(t=$a;t;)bn(e,t),t=Ct(t);return Cn(e),$a=Wa?Ct(e.stateNode):null,!0}function En(){$a=Wa=null,Ka=!1}function _n(e,t,n){Tn(e,t,n,t.expirationTime)}function Tn(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Va(t,e.child,n,r)}function Sn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Nn(e,t,n,r,i){Sn(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return r&&Dt(t,!1),zn(e,t);n=t.stateNode,Ui.current=t;var a=o?null:n.render();return t.effectTag|=1,o&&(Tn(e,t,null,i),t.child=null),Tn(e,t,a,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&Dt(t,!0),t.child}function Rn(e){var t=e.stateNode;t.pendingContext?zt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zt(e,t.context,!1),pn(e,t.containerInfo)}function kn(e,t,n,r){var i=e.child;for(null!==i&&(i["return"]=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!=(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o["return"]}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o["return"]=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i["return"]=o["return"],o=i;break}o=o["return"]}i=o}}function On(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=!0;if(ka.current)a=!1;else if(o===i)return t.stateNode=0,on(t),zn(e,t);var s=i.value;if(t.memoizedProps=i,null===o)s=1073741823;else if(o.value===i.value){if(o.children===i.children&&a)return t.stateNode=0,on(t),zn(e,t);s=0}else{var p=o.value;if(p===s&&(0!==p||1/p==1/s)||p!=p&&s!=s){if(o.children===i.children&&a)return t.stateNode=0,on(t),zn(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(p,s):1073741823,0===(s|=0)){if(o.children===i.children&&a)return t.stateNode=0,on(t),zn(e,t)}else kn(t,r,s,n)}return t.stateNode=s,on(t),_n(e,t,i.children),t.child}function zn(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){var n=Mt(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n["return"]=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mt(e,e.pendingProps,e.expirationTime))["return"]=t;n.sibling=null}return t.child}function An(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Rn(t);break;case 2:It(t);break;case 4:pn(t,t.stateNode.containerInfo);break;case 13:on(t)}return null}switch(t.tag){case 0:null!==e&&r("155");var i=t.type,o=t.pendingProps,a=St(t);return i=i(o,a=Nt(t,a)),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(a=t.type,t.tag=2,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,"function"==typeof(a=a.getDerivedStateFromProps)&&un(t,a,o),o=It(t),i.updater=Ba,t.stateNode=i,i._reactInternalFiber=t,fn(t,n),e=Nn(e,t,!0,o,n)):(t.tag=1,_n(e,t,i),t.memoizedProps=o,e=t.child),e;case 1:return o=t.type,n=t.pendingProps,ka.current||t.memoizedProps!==n?(o=o(n,i=Nt(t,i=St(t))),t.effectTag|=1,_n(e,t,o),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 2:if(o=It(t),null===e)if(null===t.stateNode){var s=t.pendingProps,p=t.type;i=St(t);var c=2===t.tag&&null!=t.type.contextTypes;s=new p(s,a=c?Nt(t,i):qr),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Ba,t.stateNode=s,s._reactInternalFiber=t,c&&((c=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,c.__reactInternalMemoizedMaskedChildContext=a),fn(t,n),i=!0}else{p=t.type,i=t.stateNode,c=t.memoizedProps,a=t.pendingProps,i.props=c;var l=i.context;s=Nt(t,s=St(t));var u=p.getDerivedStateFromProps;(p="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(c!==a||l!==s)&&hn(t,i,a,s),Ia=!1;var d=t.memoizedState;l=i.state=d;var h=t.updateQueue;null!==h&&(en(t,h,a,i,n),l=t.memoizedState),c!==a||d!==l||ka.current||Ia?("function"==typeof u&&(un(t,u,a),l=t.memoizedState),(c=Ia||dn(t,c,a,d,l,s))?(p||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=s,i=c):("function"==typeof i.componentDidMount&&(t.effectTag|=4),i=!1)}else p=t.type,i=t.stateNode,a=t.memoizedProps,c=t.pendingProps,i.props=a,l=i.context,s=Nt(t,s=St(t)),(p="function"==typeof(u=p.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a!==c||l!==s)&&hn(t,i,c,s),Ia=!1,l=t.memoizedState,d=i.state=l,null!==(h=t.updateQueue)&&(en(t,h,c,i,n),d=t.memoizedState),a!==c||l!==d||ka.current||Ia?("function"==typeof u&&(un(t,u,c),d=t.memoizedState),(u=Ia||dn(t,a,c,l,d,s))?(p||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(c,d,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(c,d,s)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=c,t.memoizedState=d),i.props=c,i.state=d,i.context=s,i=u):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Nn(e,t,i,o,n);case 3:return Rn(t),null!==(o=t.updateQueue)?(i=null!==(i=t.memoizedState)?i.element:null,en(t,o,t.pendingProps,null,n),(o=t.memoizedState.element)===i?(En(),e=zn(e,t)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&($a=wt(t.stateNode.containerInfo),Wa=t,i=Ka=!0),i?(t.effectTag|=2,t.child=Ha(t,null,o,n)):(En(),_n(e,t,o)),e=t.child)):(En(),e=zn(e,t)),e;case 5:return sn(Fa.current),(o=sn(La.current))!==(i=at(o,t.type))&&(Tt(Ua,t,t),Tt(La,i,t)),null===e&&xn(t),o=t.type,c=t.memoizedProps,i=t.pendingProps,a=null!==e?e.memoizedProps:null,ka.current||c!==i||((c=1&t.mode&&!!i.hidden)&&(t.expirationTime=1073741823),c&&1073741823===n)?(c=i.children,xt(o,i)?c=null:a&&xt(o,a)&&(t.effectTag|=16),Sn(e,t),1073741823!==n&&1&t.mode&&i.hidden?(t.expirationTime=1073741823,t.memoizedProps=i,e=null):(_n(e,t,c),t.memoizedProps=i,e=t.child)):e=zn(e,t),e;case 6:return null===e&&xn(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return pn(t,t.stateNode.containerInfo),o=t.pendingProps,ka.current||t.memoizedProps!==o?(null===e?t.child=Va(t,null,o,n):_n(e,t,o),t.memoizedProps=o,e=t.child):e=zn(e,t),e;case 14:return o=t.type.render,n=t.pendingProps,i=t.ref,ka.current||t.memoizedProps!==n||i!==(null!==e?e.ref:null)?(_n(e,t,o=o(n,i)),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 10:return n=t.pendingProps,ka.current||t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 11:return n=t.pendingProps.children,ka.current||null!==n&&t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=zn(e,t):(_n(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return On(e,t,n);case 12:e:if(i=t.type,a=t.pendingProps,c=t.memoizedProps,o=i._currentValue,s=i._changedBits,ka.current||0!==s||c!==a){if(t.memoizedProps=a,null!=(p=a.unstable_observedBits)||(p=1073741823),t.stateNode=p,0!=(s&p))kn(t,i,s,n);else if(c===a){e=zn(e,t);break e}n=(n=a.children)(o),t.effectTag|=1,_n(e,t,n),e=t.child}else e=zn(e,t);return e;default:r("156")}}function In(e){e.effectTag|=4}function Dn(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return kt(t),null;case 3:cn(t),Ot(t);var i=t.stateNode;return i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(wn(t),t.effectTag&=-3),Ya(t),null;case 5:ln(t),i=sn(Fa.current);var o=t.type;if(null!==e&&null!=t.stateNode){var a=e.memoizedProps,s=t.stateNode,p=sn(La.current);s=mt(s,o,a,n,i),Ga(e,t,s,o,a,n,i,p),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&r("166"),null;if(e=sn(La.current),wn(t))n=t.stateNode,o=t.type,a=t.memoizedProps,n[ii]=t,n[oi]=a,i=yt(n,o,a,e,i),t.updateQueue=i,null!==i&&In(t);else{(e=dt(o,n,i,e))[ii]=t,e[oi]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child["return"]=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a["return"]||a["return"]===t)break e;a=a["return"]}a.sibling["return"]=a["return"],a=a.sibling}ft(e,o,n,i),vt(o,n)&&In(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&r("166"),null;i=sn(Fa.current),sn(La.current),wn(t)?(i=t.stateNode,n=t.memoizedProps,i[ii]=t,bt(i,n)&&In(t)):((i=ht(n,i))[ii]=t,t.stateNode=i)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return cn(t),Ya(t),null;case 13:return an(t),null;case 12:return null;case 0:r("167");default:r("156")}}function Pn(e,t){var n=t.source;null===t.stack&&null!==n&&se(n),null!==n&&ae(n),t=t.value,null!==e&&2===e.tag&&ae(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Mn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Xn(e,t)}else t.current=null}function jn(e){switch("function"==typeof Wt&&Wt(e),e.tag){case 2:Mn(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xn(e,t)}break;case 5:Mn(e);break;case 4:Fn(e)}}function Ln(e){return 5===e.tag||3===e.tag||4===e.tag}function Un(e){e:{for(var t=e["return"];null!==t;){if(Ln(t)){var n=t;break e}t=t["return"]}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(st(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n["return"]||Ln(n["return"])){n=null;break e}n=n["return"]}for(n.sibling["return"]=n["return"],n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child["return"]=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(i){var a=t,s=o.stateNode,p=n;8===a.nodeType?a.parentNode.insertBefore(s,p):a.insertBefore(s,p)}else t.insertBefore(o.stateNode,n);else i?(a=t,s=o.stateNode,8===a.nodeType?a.parentNode.insertBefore(s,a):a.appendChild(s)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child["return"]=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o["return"]||o["return"]===e)return;o=o["return"]}o.sibling["return"]=o["return"],o=o.sibling}}function Fn(e){for(var t=e,n=!1,i=void 0,o=void 0;;){if(!n){n=t["return"];e:for(;;){switch(null===n&&r("160"),n.tag){case 5:i=n.stateNode,o=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,o=!0;break e}n=n["return"]}n=!0}if(5===t.tag||6===t.tag){e:for(var a=t,s=a;;)if(jn(s),null!==s.child&&4!==s.tag)s.child["return"]=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s["return"]||s["return"]===a)break e;s=s["return"]}s.sibling["return"]=s["return"],s=s.sibling}o?(a=i,s=t.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(t.stateNode)}else if(4===t.tag?i=t.stateNode.containerInfo:jn(t),null!==t.child){t.child["return"]=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t["return"]||t["return"]===e)return;4===(t=t["return"]).tag&&(n=!1)}t.sibling["return"]=t["return"],t=t.sibling}}function Bn(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&(n[oi]=i,gt(n,a,o,e,i))}break;case 6:null===t.stateNode&&r("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:r("163")}}function qn(e,t,n){(n=Yt(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fr(r),Pn(e,t)},n}function Vn(e,t,n){(n=Yt(n)).tag=3;var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===us?us=new Set([this]):us.add(this);var n=t.value,r=t.stack;Pn(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Hn(e,t,n,r,i,o){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=rn(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Qt(e,r=qn(e,r,o),o);case 2:if(t=r,n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===us||!us.has(n)))return e.effectTag|=1024,void Qt(e,r=Vn(e,t,o),o)}e=e["return"]}while(null!==e)}function Wn(e){switch(e.tag){case 2:kt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return cn(e),Ot(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return ln(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return cn(e),null;case 13:return an(e),null;default:return null}}function $n(){if(null!==rs)for(var e=rs["return"];null!==e;){var t=e;switch(t.tag){case 2:kt(t);break;case 3:cn(t),Ot(t);break;case 5:ln(t);break;case 4:cn(t);break;case 13:an(t)}e=e["return"]}is=null,os=0,as=-1,ss=!1,rs=null,ls=!1}function Kn(e){for(;;){var t=e.alternate,n=e["return"],r=e.sibling;if(0==(512&e.effectTag)){t=Dn(t,e,os);var i=e;if(1073741823===os||1073741823!==i.expirationTime){var o=0;switch(i.tag){case 3:case 2:var a=i.updateQueue;null!==a&&(o=a.expirationTime)}for(a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ls=!0;break}e=n}else{if(null!==(e=Wn(e,ss,os)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function Yn(e){var t=An(e.alternate,e,os);return null===t&&(t=Kn(e)),Ui.current=null,t}function Gn(e,t,n){ns&&r("243"),ns=!0,t===os&&e===is&&null!==rs||($n(),os=t,as=-1,rs=Mt((is=e).current,null,os),e.pendingCommitExpirationTime=0);var i=!1;for(ss=!n||os<=Ja;;){try{if(n)for(;null!==rs&&!hr();)rs=Yn(rs);else for(;null!==rs;)rs=Yn(rs)}catch(t){if(null===rs)i=!0,fr(t);else{null===rs&&r("271");var o=(n=rs)["return"];if(null===o){i=!0,fr(t);break}Hn(e,o,n,t,ss,os,Za),rs=Kn(n)}}break}if(ns=!1,i)return null;if(null===rs){if(ls)return e.pendingCommitExpirationTime=t,e.current.alternate;ss&&r("262"),0<=as&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&ir(e,t)},as),mr(e.current.expirationTime)}return null}function Xn(e,t){var n;e:{for(ns&&!cs&&r("263"),n=e["return"];null!==n;){switch(n.tag){case 2:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof i.componentDidCatch&&(null===us||!us.has(i))){Xt(n,e=Vn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e}break;case 3:Xt(n,e=qn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e}n=n["return"]}3===e.tag&&(Xt(e,n=qn(e,n=rn(t,e),1),1),Zn(e,1)),n=void 0}return n}function Qn(){var e=2+25*(1+((er()-2+500)/25|0));return e<=es&&(e=es+1),es=e}function Jn(e,t){
return e=0!==ts?ts:ns?cs?1:os:1&t.mode?Ss?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Ss&&(0===vs||e>vs)&&(vs=e),e}function Zn(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e["return"]){if(3!==e.tag)break;var n=e.stateNode;!ns&&0!==os&&t<os&&$n();var i=n.current.expirationTime;ns&&!cs&&is===n||ir(n,i),ks>Rs&&r("185")}e=e["return"]}}function er(){return Za=Ea()-Qa,Ja=2+(Za/10|0)}function tr(e){var t=ts;ts=2+25*(1+((er()-2+500)/25|0));try{return e()}finally{ts=t}}function nr(e,t,n,r,i){var o=ts;ts=1;try{return e(t,n,r,i)}finally{ts=o}}function rr(e){if(0!==fs){if(e>fs)return;null!==ms&&Ta(ms)}var t=Ea()-Qa;fs=e,ms=_a(ar,{timeout:10*(e-2)-t})}function ir(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===hs?(ds=hs=e,e.nextScheduledRoot=e):(hs=hs.nextScheduledRoot=e).nextScheduledRoot=ds;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}gs||(_s?Ts&&(ys=e,bs=1,ur(e,1,!1)):1===t?sr():rr(t))}function or(){var e=0,t=null;if(null!==hs)for(var n=hs,i=ds;null!==i;){var o=i.remainingExpirationTime;if(0===o){if((null===n||null===hs)&&r("244"),i===i.nextScheduledRoot){ds=hs=i.nextScheduledRoot=null;break}if(i===ds)ds=o=i.nextScheduledRoot,hs.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===hs){(hs=n).nextScheduledRoot=ds,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=i),i===hs)break;n=i,i=i.nextScheduledRoot}}null!==(n=ys)&&n===t&&1===e?ks++:ks=0,ys=t,bs=e}function ar(e){pr(0,!0,e)}function sr(){pr(1,!1,null)}function pr(e,t,n){if(Es=n,or(),t)for(;null!==ys&&0!==bs&&(0===e||e>=bs)&&(!xs||er()>=bs);)er(),ur(ys,bs,!xs),or();else for(;null!==ys&&0!==bs&&(0===e||e>=bs);)ur(ys,bs,!1),or();null!==Es&&(fs=0,ms=null),0!==bs&&rr(bs),Es=null,xs=!1,lr()}function cr(e,t){gs&&r("253"),ys=e,bs=t,ur(e,t,!1),sr(),lr()}function lr(){if(ks=0,null!==Ns){var e=Ns;Ns=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Cs||(Cs=!0,ws=e)}}}if(Cs)throw e=ws,ws=null,Cs=!1,e}function ur(e,t,n){gs&&r("245"),gs=!0,n?null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Gn(e,t,!0))&&(hr()?e.finishedWork=n:dr(e,n,t)):null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Gn(e,t,!1))&&dr(e,n,t),gs=!1}function dr(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime<=n&&(null===Ns?Ns=[i]:Ns.push(i),i._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,cs=ns=!0,(n=t.stateNode).current===t&&r("177"),0===(i=n.pendingCommitExpirationTime)&&r("261"),n.pendingCommitExpirationTime=0,er(),Ui.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var o=t.firstEffect}else o=t;else o=t.firstEffect;Ca=Ao;var a=Ur();if(Ge(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{var p=window.getSelection&&window.getSelection();if(p&&0!==p.rangeCount){s=p.anchorNode;var c=p.anchorOffset,l=p.focusNode;p=p.focusOffset;try{s.nodeType,l.nodeType}catch(e){s=null;break e}var u=0,d=-1,h=-1,f=0,m=0,g=a,y=null;t:for(;;){for(var b;g!==s||0!==c&&3!==g.nodeType||(d=u+c),g!==l||0!==p&&3!==g.nodeType||(h=u+p),3===g.nodeType&&(u+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===a)break t;if(y===s&&++f===c&&(d=u),y===l&&++m===p&&(h=u),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}s=-1===d||-1===h?null:{start:d,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;for(wa={focusedElem:a,selectionRange:s},Be(!1),ps=o;null!==ps;){a=!1,s=void 0;try{for(;null!==ps;){if(256&ps.effectTag){var v=ps.alternate;switch((c=ps).tag){case 2:if(256&c.effectTag&&null!==v){var x=v.memoizedProps,C=v.memoizedState,w=c.stateNode;w.props=c.memoizedProps,w.state=c.memoizedState;var E=w.getSnapshotBeforeUpdate(x,C);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:case 5:case 6:case 4:break;default:r("163")}}ps=ps.nextEffect}}catch(e){a=!0,s=e}a&&(null===ps&&r("178"),Xn(ps,s),null!==ps&&(ps=ps.nextEffect))}for(ps=o;null!==ps;){v=!1,x=void 0;try{for(;null!==ps;){var _=ps.effectTag;if(16&_&&st(ps.stateNode,""),128&_){var T=ps.alternate;if(null!==T){var S=T.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(14&_){case 2:Un(ps),ps.effectTag&=-3;break;case 6:Un(ps),ps.effectTag&=-3,Bn(ps.alternate,ps);break;case 4:Bn(ps.alternate,ps);break;case 8:Fn(C=ps),C["return"]=null,C.child=null,C.alternate&&(C.alternate.child=null,C.alternate["return"]=null)}ps=ps.nextEffect}}catch(e){v=!0,x=e}v&&(null===ps&&r("178"),Xn(ps,x),null!==ps&&(ps=ps.nextEffect))}if(S=wa,T=Ur(),_=S.focusedElem,v=S.selectionRange,T!==_&&Br(document.documentElement,_)){null!==v&&Ge(_)&&(T=v.start,void 0===(S=v.end)&&(S=T),"selectionStart"in _?(_.selectionStart=T,_.selectionEnd=Math.min(S,_.value.length)):window.getSelection&&(T=window.getSelection(),x=_[I()].length,S=Math.min(v.start,x),v=void 0===v.end?S:Math.min(v.end,x),!T.extend&&S>v&&(x=v,v=S,S=x),x=Ye(_,S),C=Ye(_,v),x&&C&&(1!==T.rangeCount||T.anchorNode!==x.node||T.anchorOffset!==x.offset||T.focusNode!==C.node||T.focusOffset!==C.offset)&&((w=document.createRange()).setStart(x.node,x.offset),T.removeAllRanges(),S>v?(T.addRange(w),T.extend(C.node,C.offset)):(w.setEnd(C.node,C.offset),T.addRange(w))))),T=[];for(S=_;S=S.parentNode;)1===S.nodeType&&T.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<T.length;_++)(S=T[_]).element.scrollLeft=S.left,S.element.scrollTop=S.top}for(wa=null,Be(Ca),Ca=null,n.current=t,ps=o;null!==ps;){o=!1,_=void 0;try{for(T=i;null!==ps;){var N=ps.effectTag;if(36&N){var R=ps.alternate;switch(v=T,(S=ps).tag){case 2:var k=S.stateNode;if(4&S.effectTag)if(null===R)k.props=S.memoizedProps,k.state=S.memoizedState,k.componentDidMount();else{var O=R.memoizedProps,z=R.memoizedState;k.props=S.memoizedProps,k.state=S.memoizedState,k.componentDidUpdate(O,z,k.__reactInternalSnapshotBeforeUpdate)}var A=S.updateQueue;null!==A&&(k.props=S.memoizedProps,k.state=S.memoizedState,nn(S,A,k,v));break;case 3:var D=S.updateQueue;if(null!==D){if(x=null,null!==S.child)switch(S.child.tag){case 5:x=S.child.stateNode;break;case 2:x=S.child.stateNode}nn(S,D,x,v)}break;case 5:var P=S.stateNode;null===R&&4&S.effectTag&&vt(S.type,S.memoizedProps)&&P.focus();break;case 6:case 4:case 15:case 16:break;default:r("163")}}if(128&N){S=void 0;var M=ps.ref;if(null!==M){var j=ps.stateNode;switch(ps.tag){case 5:S=j;break;default:S=j}"function"==typeof M?M(S):M.current=S}}var L=ps.nextEffect;ps.nextEffect=null,ps=L}}catch(e){o=!0,_=e}o&&(null===ps&&r("178"),Xn(ps,_),null!==ps&&(ps=ps.nextEffect))}ns=cs=!1,"function"==typeof Ht&&Ht(t.stateNode),0===(t=n.current.expirationTime)&&(us=null),e.remainingExpirationTime=t}function hr(){return!(null===Es||Es.timeRemaining()>Os)&&(xs=!0)}function fr(e){null===ys&&r("246"),ys.remainingExpirationTime=0,Cs||(Cs=!0,ws=e)}function mr(e){null===ys&&r("246"),ys.remainingExpirationTime=e}function gr(e,t){var n=_s;_s=!0;try{return e(t)}finally{(_s=n)||gs||sr()}}function yr(e,t){if(_s&&!Ts){Ts=!0;try{return e(t)}finally{Ts=!1}}return e(t)}function br(e,t){gs&&r("187");var n=_s;_s=!0;try{return nr(e,t)}finally{_s=n,sr()}}function vr(e,t,n){if(Ss)return e(t,n);_s||gs||0===vs||(pr(vs,!1,null),vs=0);var r=Ss,i=_s;_s=Ss=!0;try{return e(t,n)}finally{Ss=r,(_s=i)||gs||sr()}}function xr(e){var t=_s;_s=!0;try{nr(e)}finally{(_s=t)||gs||pr(1,!1,null)}}function Cr(e,t,n,i,o){var a=t.current;if(n){var s;e:{for(2===Ie(n=n._reactInternalFiber)&&2===n.tag||r("170"),s=n;3!==s.tag;){if(Rt(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}(s=s["return"])||r("171")}s=s.stateNode.context}n=Rt(n)?At(n,s):s}else n=qr;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=Yt(i)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Xt(a,o,i),Zn(a,i),i}function wr(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?r("188"):r("268",Object.keys(e))),null===(e=Me(t))?null:e.stateNode}function Er(e,t,n,r){var i=t.current;return Cr(e,t,n,i=Jn(er(),i),r)}function _r(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Tr(e){var t=e.findFiberByHostInstance;return Vt(jr({},e,{findHostInstanceByFiber:function(e){return null===(e=Me(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function Sr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nr(e){this._expirationTime=Qn(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Rr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function kr(e,t,n){this._internalRoot=Bt(e,t,n)}function Or(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zr(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new kr(e,!1,t)}function Ar(e,t,n,i,o){Or(n)||r("200");var a=n._reactRootContainer;if(a){if("function"==typeof o){var s=o;o=function(){var e=_r(a._internalRoot);s.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)}else{if(a=n._reactRootContainer=zr(n,i),"function"==typeof o){var p=o;o=function(){var e=_r(a._internalRoot);p.call(e)}}yr(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)})}return _r(a._internalRoot)}function Ir(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Or(t)||r("200"),Sr(e,t,null,n)}var Dr=n(2),Pr=n(4),Mr=n(12),jr=n(3),Lr=n(5),Ur=n(14),Fr=n(20),Br=n(13),qr=n(1);Pr||r("227");var Vr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(){i.apply(Vr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(Vr.invokeGuardedCallback.apply(this,arguments),Vr.hasCaughtError()){var e=Vr.clearCaughtError();Vr._hasRethrowError||(Vr._hasRethrowError=!0,Vr._rethrowError=e)}},rethrowCaughtError:function(){return o.apply(Vr,arguments)},hasCaughtError:function(){return Vr._hasCaughtError},clearCaughtError:function(){if(Vr._hasCaughtError){var e=Vr._caughtError;return Vr._caughtError=null,Vr._hasCaughtError=!1,e}r("198")}},Hr=null,Wr={},$r=[],Kr={},Yr={},Gr={},Xr={plugins:$r,eventNameDispatchConfigs:Kr,registrationNameModules:Yr,registrationNameDependencies:Gr,possibleRegistrationNames:null,injectEventPluginOrder:p,injectEventPluginsByName:c},Qr=null,Jr=null,Zr=null,ei=null,ti={injectEventPluginOrder:p,injectEventPluginsByName:c},ni={injection:ti,getListener:g,runEventsInBatch:y,runExtractedEventsInBatch:b},ri=Math.random().toString(36).slice(2),ii="__reactInternalInstance$"+ri,oi="__reactEventHandlers$"+ri,ai={precacheFiberNode:function(e,t){t[ii]=e},getClosestInstanceFromNode:v,getInstanceFromNode:function(e){return!(e=e[ii])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:x,getFiberCurrentPropsFromNode:C,updateFiberProps:function(e,t){e[oi]=t}},si={accumulateTwoPhaseDispatches:k,accumulateTwoPhaseDispatchesSkipTarget:function(e){d(e,S)},accumulateEnterLeaveDispatches:O,accumulateDirectDispatches:function(e){d(e,R)}},pi={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionend:z("Transition","TransitionEnd")},ci={},li={};Mr.canUseDOM&&(li=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);var ui=A("animationend"),di=A("animationiteration"),hi=A("animationstart"),fi=A("transitionend"),mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gi=null,yi={_root:null,_startText:null,_fallbackText:null},bi="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),vi={type:null,target:null,currentTarget:Lr.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};jr(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Lr.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Lr.thatReturnsTrue)},persist:function(){this.isPersistent=Lr.thatReturnsTrue},isPersistent:Lr.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<bi.length;t++)this[bi[t]]=null}}),M.Interface=vi,M.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return jr(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=jr({},r.Interface,e),n.extend=r.extend,U(n),n},U(M);var xi=M.extend({data:null}),Ci=M.extend({data:null}),wi=[9,13,27,32],Ei=Mr.canUseDOM&&"CompositionEvent"in window,_i=null;Mr.canUseDOM&&"documentMode"in document&&(_i=document.documentMode);var Ti=Mr.canUseDOM&&"TextEvent"in window&&!_i,Si=Mr.canUseDOM&&(!Ei||_i&&8<_i&&11>=_i),Ni=String.fromCharCode(32),Ri={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ki=!1,Oi=!1,zi={eventTypes:Ri,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(Ei)e:{switch(e){case"compositionstart":i=Ri.compositionStart;break e;case"compositionend":i=Ri.compositionEnd;break e;case"compositionupdate":i=Ri.compositionUpdate;break e}i=void 0}else Oi?F(e,n)&&(i=Ri.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Ri.compositionStart);return i?(Si&&(Oi||i!==Ri.compositionStart?i===Ri.compositionEnd&&Oi&&(o=D()):(yi._root=r,yi._startText=P(),Oi=!0)),i=xi.getPooled(i,t,n,r),o?i.data=o:null!==(o=B(n))&&(i.data=o),k(i),o=i):o=null,(e=Ti?q(e,n):V(e,n))?((t=Ci.getPooled(Ri.beforeInput,t,n,r)).data=e,k(t)):t=null,null===o?t:null===t?o:[o,t]}},Ai=null,Ii={injectFiberControlledHostComponent:function(e){Ai=e}},Di=null,Pi=null,Mi={injection:Ii,enqueueStateRestore:W,needsStateRestore:$,restoreStateIfNeeded:K},ji=!1,Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ui=Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fi="function"==typeof Symbol&&Symbol["for"],Bi=Fi?Symbol["for"]("react.element"):60103,qi=Fi?Symbol["for"]("react.portal"):60106,Vi=Fi?Symbol["for"]("react.fragment"):60107,Hi=Fi?Symbol["for"]("react.strict_mode"):60108,Wi=Fi?Symbol["for"]("react.profiler"):60114,$i=Fi?Symbol["for"]("react.provider"):60109,Ki=Fi?Symbol["for"]("react.context"):60110,Yi=Fi?Symbol["for"]("react.async_mode"):60111,Gi=Fi?Symbol["for"]("react.forward_ref"):60112,Xi=Fi?Symbol["for"]("react.timeout"):60113,Qi="function"==typeof Symbol&&Symbol.iterator,Ji=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zi=Object.prototype.hasOwnProperty,eo={},to={},no={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){no[e]=new ue(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];no[t]=new ue(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){no[e]=new ue(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){no[e]=new ue(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){no[e]=new ue(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){no[e]=new ue(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){no[e]=new ue(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){no[e]=new ue(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){no[e]=new ue(e,5,!1,e.toLowerCase(),null)});var ro=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),no.tabIndex=new ue("tabIndex",1,!1,"tabindex",null);var io={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},oo=null,ao=null,so=!1;Mr.canUseDOM&&(so=ee("input")&&(!document.documentMode||9<document.documentMode));var po={eventTypes:io,_isInputEventSupported:so,extractEvents:function(e,t,n,r){var i=t?x(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();return"select"===s||"input"===s&&"file"===i.type?o=_e:J(i)?so?o=Oe:(o=Re,a=Ne):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=ke),o&&(o=o(e,t))?Ce(o,n,r):(a&&a(e,i,t),void("blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ve(i,"number",i.value)))}},co=M.extend({view:null,detail:null}),lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},uo=co.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),ho=uo.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),fo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},mo={eventTypes:fo,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?v(t):null):o=null,o===t)return null;var a=void 0,s=void 0,p=void 0,c=void 0;return"mouseout"===e||"mouseover"===e?(a=uo,s=fo.mouseLeave,p=fo.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=ho,s=fo.pointerLeave,p=fo.pointerEnter,c="pointer"),e=null==o?i:x(o),i=null==t?i:x(t),(s=a.getPooled(s,o,n,r)).type=c+"leave",s.target=e,s.relatedTarget=i,(n=a.getPooled(p,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=e,O(s,n,o,t),[s,n]}},go=M.extend({animationName:null,elapsedTime:null,pseudoElement:null}),yo=M.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bo=co.extend({relatedTarget:null}),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co=co.extend({key:function(e){if(e.key){var t=vo[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Le(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xo[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ae,charCode:function(e){return"keypress"===e.type?Le(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Le(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wo=uo.extend({dataTransfer:null}),Eo=co.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ae}),_o=M.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),To=uo.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),So=[["abort","abort"],[ui,"animationEnd"],[di,"animationIteration"],[hi,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[fi,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],No={},Ro={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Ue(e,!0)}),So.forEach(function(e){Ue(e,!1)});var ko={eventTypes:No,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Ro[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=Ro[e];if(!i)return null;switch(e){case"keypress":if(0===Le(n))return null;case"keydown":case"keyup":e=Co;break;case"blur":case"focus":e=bo;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Eo;break;case ui:case di:case hi:e=go;break;case fi:e=_o;break;case"scroll":e=co;break;case"wheel":e=To;break;case"copy":case"cut":case"paste":e=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ho;break;default:e=M}return k(t=e.getPooled(i,t,n,r)),t}},Oo=ko.isInteractiveTopLevelEventType,zo=[],Ao=!0,Io={get _enabled(){return Ao},setEnabled:Be,isEnabled:function(){return Ao},trapBubbledEvent:qe,trapCapturedEvent:Ve,dispatchEvent:We},Do={},Po=0,Mo="_reactListenersID"+(""+Math.random()).slice(2),jo=Mr.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Lo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Uo=null,Fo=null,Bo=null,qo=!1,Vo={eventTypes:Lo,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=$e(o),i=Gr.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?x(t):window,e){case"focus":(J(o)||"true"===o.contentEditable)&&(Uo=o,Fo=t,Bo=null);break;case"blur":Bo=Fo=Uo=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":return qo=!1,Xe(n,r);case"selectionchange":if(jo)break;case"keydown":case"keyup":return Xe(n,r)}return null}};ti.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Qr=ai.getFiberCurrentPropsFromNode,Jr=ai.getInstanceFromNode,Zr=ai.getNodeFromInstance,ti.injectEventPluginsByName({SimpleEventPlugin:ko,EnterLeaveEventPlugin:mo,ChangeEventPlugin:po,SelectEventPlugin:Vo,BeforeInputEventPlugin:zi});var Ho="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,Wo=Date,$o=setTimeout,Ko=clearTimeout,Yo=void 0;if("object"==typeof performance&&"function"==typeof performance.now){var Go=performance;Yo=function(){return Go.now()}}else Yo=function(){return Wo.now()};var Xo=void 0,Qo=void 0;if(Mr.canUseDOM){var Jo="function"==typeof Ho?Ho:function(){r("276")},Zo=null,ea=null,ta=-1,na=!1,ra=!1,ia=0,oa=33,aa=33,sa={didTimeout:!1,timeRemaining:function(){var e=ia-Yo();return 0<e?e:0}},pa=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{Qo(e),r||(na=!0,window.postMessage(ca,"*"))}},ca="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===ca&&(na=!1,null!==Zo)){if(null!==Zo){var t=Yo();if(!(-1===ta||ta>t)){e=-1;for(var n=[],r=Zo;null!==r;){var i=r.timeoutTime;-1!==i&&i<=t?n.push(r):-1!==i&&(-1===e||i<e)&&(e=i),r=r.next}if(0<n.length)for(sa.didTimeout=!0,t=0,r=n.length;t<r;t++)pa(n[t],sa);ta=e}}for(e=Yo();0<ia-e&&null!==Zo;)e=Zo,sa.didTimeout=!1,pa(e,sa),e=Yo();null===Zo||ra||(ra=!0,Jo(la))}},!1);var la=function(e){ra=!1;var t=e-ia+aa;t<aa&&oa<aa?(8>t&&(t=8),aa=t<oa?oa:t):oa=t,ia=e+aa,na||(na=!0,window.postMessage(ca,"*"))};Xo=function(e,t){var n=-1;return null!=t&&"number"==typeof t.timeout&&(n=Yo()+t.timeout),(-1===ta||-1!==n&&n<ta)&&(ta=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===Zo?Zo=e:null!==(t=e.prev=ea)&&(t.next=e),ea=e,ra||(ra=!0,Jo(la)),e},Qo=function(e){if(null!==e.prev||Zo===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,Zo=t):null!==n?(n.next=null,ea=n):ea=Zo=null}}}else{var ua=new Map;Xo=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=$o(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return ua.set(e,n),t},Qo=function(e){var t=ua.get(e.scheduledCallback);ua["delete"](e),Ko(t)}}var da,ha={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},fa=void 0,ma=(da=function(e,t){if(e.namespaceURI!==ha.svg||"innerHTML"in e)e.innerHTML=t;else{for((fa=fa||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return da(e,t,n,r)})}:da),ga={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ya=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){ya.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});var ba=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),va=Lr.thatReturns(""),xa={createElement:dt,createTextNode:ht,setInitialProperties:ft,diffProperties:mt,updateProperties:gt,diffHydratedProperties:yt,diffHydratedText:bt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(ye(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=C(i);o||r("90"),ie(i),ye(i,o)}}}break;case"textarea":rt(e,n);break;case"select":null!=(t=n.value)&&Ze(e,!!n.multiple,t,!1)}}},Ca=null,wa=null,Ea=Yo,_a=Xo,Ta=Qo;new Set;var Sa=[],Na=-1,Ra=Et(qr),ka=Et(!1),Oa=qr,za=null,Aa=null,Ia=!1,Da=Et(null),Pa=Et(null),Ma=Et(0),ja={},La=Et(ja),Ua=Et(ja),Fa=Et(ja),Ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Ie(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=er(),i=Yt(r=Jn(r,e));i.payload=t,null!=n&&(i.callback=n),Xt(e,i,r),Zn(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=er(),i=Yt(r=Jn(r,e));i.tag=1,i.payload=t,null!=n&&(i.callback=n),Xt(e,i,r),Zn(e,r)},
enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=er(),r=Yt(n=Jn(n,e));r.tag=2,null!=t&&(r.callback=t),Xt(e,r,n),Zn(e,n)}},qa=Array.isArray,Va=yn(!0),Ha=yn(!1),Wa=null,$a=null,Ka=!1,Ya=void 0,Ga=void 0,Xa=void 0;Ya=function(){},Ga=function(e,t,n){(t.updateQueue=n)&&In(t)},Xa=function(e,t,n,r){n!==r&&In(t)};var Qa=Ea(),Ja=2,Za=Qa,es=0,ts=0,ns=!1,rs=null,is=null,os=0,as=-1,ss=!1,ps=null,cs=!1,ls=!1,us=null,ds=null,hs=null,fs=0,ms=void 0,gs=!1,ys=null,bs=0,vs=0,xs=!1,Cs=!1,ws=null,Es=null,_s=!1,Ts=!1,Ss=!1,Ns=null,Rs=1e3,ks=0,Os=1,zs={updateContainerAtExpirationTime:Cr,createContainer:function(e,t,n){return Bt(e,t,n)},updateContainer:Er,flushRoot:cr,requestWork:ir,computeUniqueAsyncExpiration:Qn,batchedUpdates:gr,unbatchedUpdates:yr,deferredUpdates:tr,syncUpdates:nr,interactiveUpdates:vr,flushInteractiveUpdates:function(){gs||0===vs||(pr(vs,!1,null),vs=0)},flushControlled:xr,flushSync:br,getPublicRootInstance:_r,findHostInstance:wr,findHostInstanceWithNoPortals:function(e){return null===(e=je(e))?null:e.stateNode},injectIntoDevTools:Tr};Ii.injectFiberControlledHostComponent(xa),Nr.prototype.render=function(e){this._defer||r("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Rr;return Cr(e,t,null,n,i._onCommit),i},Nr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Nr.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,o=t;o!==this;)i=o,o=o._next;null===i&&r("251"),i._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,cr(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Nr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Rr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Rr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r("191",n),n()}}},kr.prototype.render=function(e,t){var n=this._internalRoot,r=new Rr;return null!==(t=void 0===t?null:t)&&r.then(t),Er(e,n,null,r._onCommit),r},kr.prototype.unmount=function(e){var t=this._internalRoot,n=new Rr;return null!==(e=void 0===e?null:e)&&n.then(e),Er(null,t,null,n._onCommit),n},kr.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Rr;return null!==(n=void 0===n?null:n)&&i.then(n),Er(t,r,e,i._onCommit),i},kr.prototype.createBatch=function(){var e=new Nr(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Y=zs.batchedUpdates,G=zs.interactiveUpdates,X=zs.flushInteractiveUpdates;var As={createPortal:Ir,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:wr(e)},hydrate:function(e,t,n){return Ar(null,e,t,!0,n)},render:function(e,t,n){return Ar(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&r("38"),Ar(e,t,n,!1,i)},unmountComponentAtNode:function(e){return Or(e)||r("40"),!!e._reactRootContainer&&(yr(function(){Ar(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ir.apply(void 0,arguments)},unstable_batchedUpdates:gr,unstable_deferredUpdates:tr,unstable_interactiveUpdates:vr,flushSync:br,unstable_flushControlled:xr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:ni,EventPluginRegistry:Xr,EventPropagators:si,ReactControlledComponent:Mi,ReactDOMComponentTree:ai,ReactDOMEventListener:Io},unstable_createRoot:function(e,t){return new kr(e,!0,null!=t&&!0===t.hydrate)}};Tr({findFiberByHostInstance:v,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var Is={"default":As},Ds=Is&&As||Is;e.exports=Ds["default"]?Ds["default"]:Ds},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(22)}]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactTransitionGroup=t(require("react"),require("react-dom")):e.ReactTransitionGroup=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e){"use strict";function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(n){try{return c.call(null,e,0)}catch(n){return c.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function o(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&a())}function a(){if(!f){var e=r(o);f=!0;for(var t=h.length;t;){for(d=h,h=[];++m<t;)d&&d[m].run();m=-1,t=h.length}d=null,f=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function p(){}var c,l,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var d,h=[],f=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||f||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=p,u.addListener=p,u.once=p,u.off=p,u.removeListener=p,u.removeAllListeners=p,u.emit=p,u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t){t.exports=e},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV){var i="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,o=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&e.$$typeof===i},a=!0;e.exports=n(19)(o,a)}else e.exports=n(18)()}).call(t,n(0))},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";(function(t){function n(e,t,n,i,o,a,s,p){if(r(t),!e){var c;if(t===undefined)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,p],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(){};"production"!==t.env.NODE_ENV&&(r=function(e){if(e===undefined)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=i(n(11)),l=i(n(1)),u=i(n(2)),d=i(n(20)),h=n(23),f={component:u["default"].any,childFactory:u["default"].func,children:u["default"].node},m={component:"span",childFactory:function(e){return e}},g=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var n=p({},t.children);return delete n[e],{children:n}})},i.childRefs=Object.create(null),i.state={children:(0,h.getChildMapping)(n.children)},i}return s(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,h.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,h.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var i=e.state.children[n];if(i){var o="string"!=typeof i.ref,a=e.props.childFactory(i),s=function(t){e.childRefs[n]=t};"production"!==r.env.NODE_ENV&&(0,d["default"])(o,"string refs are not supported on children of TransitionGroup and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"),a===i&&o&&(s=(0,c["default"])(i.ref,s)),t.push(l["default"].cloneElement(a,{key:n,ref:s}))}};for(var i in this.state.children)n(i);var o=p({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,l["default"].createElement(this.props.component,o,t)},t}(l["default"].Component);g.displayName="TransitionGroup",g.propTypes="production"!==r.env.NODE_ENV?f:{},g.defaultProps=m,t["default"]=g,e.exports=t["default"]}).call(t,n(0))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t["default"]},function(e,t,n){"use strict";(function(t){var r,i=n(3);"production"!==t.env.NODE_ENV&&(r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},i=function(e,t){if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r.apply(undefined,[t].concat(i))}}),e.exports=i}).call(t,n(0))},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=undefined,t.transitionTimeout=i;r(n(1));var o=r(n(2));t.nameShape=o["default"].oneOfType([o["default"].string,o["default"].shape({enter:o["default"].string,leave:o["default"].string,active:o["default"].string}),o["default"].shape({enter:o["default"].string,enterActive:o["default"].string,leave:o["default"].string,leaveActive:o["default"].string,appear:o["default"].string,appearActive:o["default"].string})])},function(e,t,n){"use strict";(function(r){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=i(n(1)),l=i(n(2)),u=i(n(5)),d=i(n(21)),h=n(9),f={transitionName:h.nameShape.isRequired,transitionAppear:l["default"].bool,transitionEnter:l["default"].bool,transitionLeave:l["default"].bool,transitionAppearTimeout:(0,h.transitionTimeout)("Appear"),transitionEnterTimeout:(0,h.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,h.transitionTimeout)("Leave")},m={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},g=function(e){function t(){var n,r;o(this,t);for(var i=arguments.length,s=Array(i),p=0;p<i;p++)s[p]=arguments[p];return n=r=a(this,e.call.apply(e,[this].concat(s))),r._wrapChild=function(e){return c["default"].createElement(d["default"],{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},a(r,n)}return s(t,e),t.prototype.render=function(){return c["default"].createElement(u["default"],p({},this.props,{childFactory:this._wrapChild}))},t}(c["default"].Component);g.displayName="CSSTransitionGroup",g.propTypes="production"!==r.env.NODE_ENV?f:{},g.defaultProps=m,t["default"]=g,e.exports=t["default"]}).call(t,n(0))},function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];return 0===(t=t.filter(function(e){return null!=e})).length?undefined:1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){e.classList?e.classList.add(t):(0,o["default"])(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(13));e.exports=t["default"]},function(e,t){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:r,prefix:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=undefined;var o="transform",a=void 0,s=void 0,p=void 0,c=void 0,l=void 0,u=void 0,d=void 0,h=void 0,f=void 0,m=void 0,g=void 0;if(r(n(6))["default"]){var y=i();a=y.prefix,t.transitionEnd=s=y.transitionEnd,t.animationEnd=p=y.animationEnd,t.transform=o=a+"-"+o,t.transitionProperty=c=a+"-transition-property",t.transitionDuration=l=a+"-transition-duration",t.transitionDelay=d=a+"-transition-delay",t.transitionTiming=u=a+"-transition-timing-function",t.animationName=h=a+"-animation-name",t.animationDuration=f=a+"-animation-duration",t.animationTiming=m=a+"-animation-delay",t.animationDelay=g=a+"-animation-timing-function"}t.transform=o,t.transitionProperty=c,t.transitionTiming=u,t.transitionDelay=d,t.transitionDuration=l,t.transitionEnd=s,t.animationName=h,t.animationDuration=f,t.animationTiming=m,t.animationDelay=g,t.animationEnd=p,t["default"]={transform:o,end:s,property:c,timing:u,delay:d,duration:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-u)),r=setTimeout(e,n);return u=t,r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=["","webkit","moz","o","ms"],s="clearTimeout",p=i,c=void 0,l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o["default"]&&a.some(function(e){var t=l(e,"request");if(t in window)return s=l(e,"cancel"),p=function(e){return window[t](e)}});var u=(new Date).getTime();(c=function(e){return p(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";(function(t){function r(e,n,r,c,l){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{"function"!=typeof e[u]&&("production"!==t.env.NODE_ENV?o(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",c||"React class",r,u):o(!1)),d=e[u](n,u,c,r,null,s)}catch(f){d=f}if("production"!==t.env.NODE_ENV&&a(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",r,u,void 0===d?"undefined":i(d)),d instanceof Error&&!(d.message in p)){p[d.message]=!0;var h=l?l():"";"production"!==t.env.NODE_ENV&&a(!1,"Failed %s type: %s%s",r,d.message,null!=h?h:"")}}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV)var o=n(4),a=n(7),s=n(8),p={};e.exports=r}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var r=n(3),i=n(4);e.exports=function(){function e(){"production"!==t.env.NODE_ENV?i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"):i(!1)}function n(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n};return o.checkPropTypes=r,o.PropTypes=o,o}}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(3),o=n(4),a=n(7),s=n(8),p=n(17);e.exports=function(e,n){function c(e){var t=e&&(R&&e[R]||e[k]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function u(e){this.message=e,this.stack=""}function d(e){function r(r,c,l,d,h,f,m){if(d=d||O,f=f||l,m!==s)if(n)"production"!==t.env.NODE_ENV?o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"):o(!1);else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=d+":"+l;!i[g]&&p<3&&("production"!==t.env.NODE_ENV&&a(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,d),i[g]=!0,p++)}return null==c[l]?r?null===c[l]?new u("The "+h+" `"+f+"` is marked as required in `"+d+"`, but its value is `null`."):new u("The "+h+" `"+f+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(c,l,d,h,f)}if("production"!==t.env.NODE_ENV)var i={},p=0;var c=r.bind(null,!1);return c.isRequired=r.bind(null,!0),c}function h(e){function t(t,n,r,i,o){var a=t[n];return T(a)!==e?new u("Invalid "+i+" `"+o+"` of type `"+S(a)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return d(t)}function f(){return d(i.thatReturnsNull)}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new u("Invalid "+i+" `"+o+"` of type `"+T(a)+"` supplied to `"+r+"`, expected an array.");for(var p=0;p<a.length;p++){var c=e(a,p,r,i,o+"["+p+"]",s);if(c instanceof Error)return c}return null}return d(t)}function g(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new u("Invalid "+i+" `"+o+"` of type `"+T(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return d(t)}function y(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||O;return new u("Invalid "+i+" `"+o+"` of type `"+N(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return d(t)}function b(e){function n(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new u("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&a(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull)}function v(e){function t(t,n,r,i,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],p=T(a);if("object"!==p)return new u("Invalid "+i+" `"+o+"` of type `"+p+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,i,o+"."+c,s);if(l instanceof Error)return l}return null}return d(t)}function x(e){function n(t,n,r,i,o){for(var a=0;a<e.length;a++){if(null==(0,e[a])(t,n,r,i,o,s))return null}return new u("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&a(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull)}function C(){function e(e,t,n,r,i){return E(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}function w(e){function t(t,n,r,i,o){var a=t[n],p=T(a);if("object"!==p)return new u("Invalid "+i+" `"+o+"` of type `"+p+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var d=l(a,c,r,i,o+"."+c,s);if(d)return d}}return null}return d(t)}function E(t){switch(void 0===t?"undefined":r(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var n=c(t);if(!n)return!1;var i,o=n.call(t);if(n!==t.entries){for(;!(i=o.next()).done;)if(!E(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!E(a[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function T(e){var t=void 0===e?"undefined":r(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function S(e){var t=T(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function N(e){return e.constructor&&e.constructor.name?e.constructor.name:O}var R="function"==typeof Symbol&&Symbol.iterator,k="@@iterator",O="<<anonymous>>",z={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:f(),arrayOf:m,element:g(),instanceOf:y,node:C(),objectOf:v,oneOf:b,oneOfType:x,shape:w};return u.prototype=Error.prototype,z.checkPropTypes=p,z.PropTypes=z,z}}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var n=function(){};"production"!==t.env.NODE_ENV&&(n=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var i=2;i<r;i++)n[i-2]=arguments[i];if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var o=0,a="Warning: "+t.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}}),e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){return b.length?b.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){b.length&&b.forEach(function(n){return e.removeEventListener(n,t,!1)})}}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=i(n(12)),u=i(n(14)),d=i(n(16)),h=n(15),f=i(n(1)),m=i(n(2)),g=n(24),y=n(9),b=[];h.transitionEnd&&b.push(h.transitionEnd),h.animationEnd&&b.push(h.animationEnd);var v={children:m["default"].node,name:y.nameShape.isRequired,appear:m["default"].bool,enter:m["default"].bool,leave:m["default"].bool,appearTimeout:m["default"].number,enterTimeout:m["default"].number,leaveTimeout:m["default"].number},x=function(e){function t(){var n,r;o(this,t);for(var i=arguments.length,s=Array(i),p=0;p<i;p++)s[p]=arguments[p];return n=r=a(this,e.call.apply(e,[this].concat(s))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},a(r,n)}return s(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,g.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,o=this.props.name[e+"Active"]||i+"-active",a=null,s=void 0;(0,l["default"])(r,i),this.queueClassAndNode(o,r);var c=function(e){e&&e.target!==r||(clearTimeout(a),s&&s(),(0,u["default"])(r,i),(0,u["default"])(r,o),s&&s(),t&&t())};n?(a=setTimeout(c,n),this.transitionTimeouts.push(a)):h.transitionEnd&&(s=p(r,c))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,d["default"])(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,l["default"])(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=c({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,f["default"].cloneElement(f["default"].Children.only(this.props.children),e)},t}(f["default"].Component);x.displayName="CSSTransitionGroupChild",x.propTypes="production"!==r.env.NODE_ENV?v:{},t["default"]=x,e.exports=t["default"]}).call(t,n(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n(10)),o=r(n(5));e.exports={TransitionGroup:o["default"],CSSTransitionGroup:i["default"]}},function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return o.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function i(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var p in t){if(r.hasOwnProperty(p))for(a=0;a<r[p].length;a++){var c=r[p][a];s[r[p][a]]=n(c)}s[p]=n(p)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i;var o=n(1)},function(e){e.exports=t}])}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PortalClient=t():e.PortalClient=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1}
;return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=n(2),s=n(3).TreeMirrorClient,p=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"portal",i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"portal";r(this,e),this.socked=t,this.channelName=n,this.id=i,this.sendMousePosition=a(this._sendMousePosition,200,{trailing:!0}).bind(this),this.sendWindowSize=a(this._sendWindowSize,200,{trailing:!0}).bind(this),this.sendScroll=a(this._sendScroll,200,{trailing:!0}).bind(this)}return i(e,[{key:"_sendMousePosition",value:function(e){this.socketSend("mouseMove",{x:e.clientX,y:e.clientY})}},{key:"_sendWindowSize",value:function(){this.socketSend("windowResize",{w:window.innerWidth,h:window.innerHeight})}},{key:"_sendScroll",value:function(){var e;if(window.pageYOffset!=undefined)e={x:pageXOffset,y:pageYOffset};else{var t=document,n=t.documentElement,r=t.body;e={x:n.scrollLeft||r.scrollLeft||0,y:n.scrollTop||r.scrollTop||0}}this.socketSend("windowScroll",e)}},{key:"socketSend",value:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this.channel.users.getUsers();t.portalId=this.id,n&&n.length>1&&n.some(function(e){return!!e.admin})&&this.channel.trigger("client-"+e,t)}},{key:"createMirrorClient",value:function(){var e=this;this.mirrorClient&&(this.mirrorClient.disconnect(),this.mirrorClient=null),this.mirrorClient=new s(document,{initialize:function(t,n){e.socketSend("domEvent",{base:window.origin||window.location.origin,f:"initialize",args:[t,n]}),e.sendWindowSize()},applyChanged:function(t,n,r,i){e.socketSend("domEvent",{f:"applyChanged",args:[t,n,r,i]})}})}},{key:"onClientPing",value:function(e){this.id&&e.data&&this.id==e.data.portalId&&this.socketSend("pong")}},{key:"start",value:function(){var e=this;this.channel||(this.channel=this.socked.subscribe(this.channelName),this.channel.on("internal:subscription_success",function(){e.createMirrorClient(),e.setupListeners(),e.socked.once("disconnected",e.end.bind(e))}),this.channel.on("client-initialize",function(){e.createMirrorClient()}),this.channel.on("client-ping",this.onClientPing.bind(this)))}},{key:"end",value:function(){this.mirrorClient&&this.mirrorClient.disconnect(),this.mirrorClient=null,this.socked.unsubscribe(this.channelName),this.channel=null,this.teardownListeners()}},{key:"setupListeners",value:function(){this.teardownListeners(),document.addEventListener("mousemove",this.sendMousePosition),window.addEventListener("resize",this.sendWindowSize),window.addEventListener("scroll",this.sendScroll)}},{key:"teardownListeners",value:function(){document.removeEventListener("mousemove",this.sendMousePosition),window.removeEventListener("resize",this.sendWindowSize),window.removeEventListener("scroll",this.sendScroll)}}]),e}();o(p.prototype),e.exports=p},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){"use strict";function t(e,t,n){var r,i,o,a=null,s=0;n||(n={});var p=function(){s=!1===n.leading?0:Date.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return r=this,i=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(p,l)),o}}e.exports=t},function(e,t,n){"use strict";var r=n(4),i=function(){function e(e,t){this.root=e,this.delegate=t,this.idMap={}}return e.prototype.initialize=function(e,t){this.idMap[e]=this.root;for(var n=0;n<t.length;n++)this.deserializeNode(t[n],this.root)},e.prototype.applyChanged=function(e,t,n,r){var i=this;t.forEach(function(e){var t=i.deserializeNode(e);i.deserializeNode(e.parentNode),i.deserializeNode(e.previousSibling);t.parentNode&&t.parentNode.removeChild(t)}),e.forEach(function(e){var t=i.deserializeNode(e);t.parentNode&&t.parentNode.removeChild(t)}),t.forEach(function(e){var t=i.deserializeNode(e),n=i.deserializeNode(e.parentNode),r=i.deserializeNode(e.previousSibling);n.insertBefore(t,r?r.nextSibling:n.firstChild)}),n.forEach(function(e){var t=i.deserializeNode(e);Object.keys(e.attributes).forEach(function(n){var r=e.attributes[n];try{null===r?t.removeAttribute(n):i.delegate&&i.delegate.setAttribute&&i.delegate.setAttribute(t,n,r,e.attributes)||t.setAttribute(n,r)}catch(o){console.log(o)}})}),r.forEach(function(e){i.deserializeNode(e).textContent=e.textContent}),e.forEach(function(e){delete i.idMap[e.id]})},e.prototype.deserializeNode=function(e,t){var n=this;if(null===e)return null;var r=this.idMap[e.id];if(r)return r;var i=this.root.ownerDocument;switch(null===i&&(i=this.root),e.nodeType){case Node.COMMENT_NODE:r=i.createComment(e.textContent);break;case Node.TEXT_NODE:r=i.createTextNode(e.textContent);break;case Node.DOCUMENT_TYPE_NODE:r=i.implementation.createDocumentType(e.name,e.publicId,e.systemId);break;case Node.ELEMENT_NODE:this.delegate&&this.delegate.createElement&&(r=this.delegate.createElement(e.tagName)),r||(r=i.createElement(e.tagName)),Object.keys(e.attributes).forEach(function(t){try{n.delegate&&n.delegate.setAttribute&&n.delegate.setAttribute(r,t,e.attributes[t],e.attributes)||r.setAttribute(t,e.attributes[t])}catch(i){console.log(i)}})}if(!r)throw"ouch";if(this.idMap[e.id]=r,t&&t.appendChild(r),e.childNodes)for(var o=0;o<e.childNodes.length;o++)this.deserializeNode(e.childNodes[o],r);return r},e}(),o=function(e,t,n){var r=["password","secret","passwd","api_key","apikey","access_token","auth","credentials","mysql_pwd","stripetoken","card[number]"],i=/\b(?:3[47]\d|(?:4\d|5[1-5]|65)\d{2}|6011)\d{12}\b/,o=/-----BEGIN[A-Z ]+(PRIVATE|PUBLIC) KEY-----.+-----END[A-Z ]+(PRIVATE|PUBLIC) KEY-----/,a=/^\b(?!(000|666|9))\d{3}-(?!00)\d{2}-(?!0000)\d{4}\b/;return"input"!=e.tagName.toLowerCase()&&("textarea"!=e.tagName.toLowerCase()||"value"!=t)||!(e.name&&(r.indexOf(e.name.toLowerCase())>0||e.name.match(/^cc/i)||e.name.match(/cvv/i))||n&&(n.replace(/[\-\s]/g,"").match(i)||n.match(o)||n.replace(/[\-\s]/g,"").match(a)))},a=function(){function e(e,t,n){var i=this;this.target=e,this.mirror=t,this.nextId=1,this.knownNodes=new r.NodeMap;for(var o=this.serializeNode(e).id,a=[],s=e.firstChild;s;s=s.nextSibling)a.push(this.serializeNode(s,!0));this.mirror.initialize(o,a);var p=[{all:!0}];n&&(p=p.concat(n)),this.mutationSummary=new r({rootNode:e,callback:function(e){i.applyChanged(e)},queries:p})}return e.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=undefined)},e.prototype.rememberNode=function(e){var t=this.nextId++;return this.knownNodes.set(e,t),t},e.prototype.forgetNode=function(e){this.knownNodes["delete"](e)},e.prototype.serializeNode=function(e,t){if(null===e)return null;var n=this.knownNodes.get(e);if(n!==undefined)return{id:n};var r={nodeType:e.nodeType,id:this.rememberNode(e)};switch(r.nodeType){case Node.DOCUMENT_TYPE_NODE:var i=e;r.name=i.name,r.publicId=i.publicId,r.systemId=i.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:r.textContent=e.textContent;break;case Node.ELEMENT_NODE:var a=e;r.tagName=a.tagName,r.attributes={};for(var s=0;s<a.attributes.length;s++){var p=a.attributes[s];o(a,p.name,p.value)?r.attributes[p.name]=p.value:r.attributes[p.name]=""}if(t&&a.childNodes.length){r.childNodes=[];for(var c=a.firstChild;c;c=c.nextSibling)r.childNodes.push(this.serializeNode(c,!0))}}return r},e.prototype.serializeAddedAndMoved=function(e,t,n){var i=this,o=e.concat(t).concat(n),a=new r.NodeMap;o.forEach(function(e){var t=e.parentNode,n=a.get(t);n||(n=new r.NodeMap,a.set(t,n)),n.set(e,!0)});var s=[];return a.keys().forEach(function(e){for(var t=a.get(e),n=t.keys();n.length;){for(var r=n[0];r.previousSibling&&t.has(r.previousSibling);)r=r.previousSibling;for(;r&&t.has(r);){var o=i.serializeNode(r);o.previousSibling=i.serializeNode(r.previousSibling),o.parentNode=i.serializeNode(r.parentNode),s.push(o),t["delete"](r),r=r.nextSibling}n=t.keys()}}),s},e.prototype.serializeAttributeChanges=function(e){var t=this,n=new r.NodeMap;return Object.keys(e).forEach(function(r){e[r].forEach(function(e){var i=n.get(e);i||((i=t.serializeNode(e)).attributes={},n.set(e,i)),o(e,r,e.getAttribute(r))?i.attributes[r]=e.getAttribute(r):i.attributes[r]=""})}),n.keys().map(function(e){return n.get(e)})},e.prototype.applyChanged=function(e){var t=this,n=e[0],r=n.removed.map(function(e){return t.serializeNode(e)}),i=this.serializeAddedAndMoved(n.added,n.reparented,n.reordered),o=this.serializeAttributeChanges(n.attributeChanged),a=n.characterDataChanged.map(function(e){var n=t.serializeNode(e);return n.textContent=e.textContent,n});this.mirror.applyChanged(r,i,o,a),n.removed.forEach(function(e){t.forgetNode(e)})},e}();e.exports={TreeMirror:i,TreeMirrorClient:a}},function(e){"use strict";var t,n,r=window.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};if((t="undefined"!=typeof window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver)===undefined)console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver");else{var i,o=function(e){return'"'+e.replace(/"/,'\\"')+'"'},a=function(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(e=e.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(v))throw Error("Invalid request option. invalid attribute name: "+e);return e},s=function(e){if(!e.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var t={},n={},r=e.split(/\s+/),i=0;i<r.length;i++){if(o=r[i]){var o,s=(o=a(o)).toLowerCase();if(t[s])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");n[o]=!0,t[s]=!0}}return Object.keys(n)},p=function(e){var t={};return e.forEach(function(e){e.qualifiers.forEach(function(e){t[e.attrName]=!0})}),Object.keys(t)},c=function(){function e(){this.nodes=[],this.values=[]}return e.prototype.isIndex=function(e){return+e==e>>>0},e.prototype.nodeId=function(t){var n=t[e.ID_PROP];return n||(n=t[e.ID_PROP]=e.nextId_++),n},e.prototype.set=function(e,t){var n=this.nodeId(e);this.nodes[n]=e,this.values[n]=t},e.prototype.get=function(e){var t=this.nodeId(e);return this.values[t]},e.prototype.has=function(e){return this.nodeId(e)in this.nodes},e.prototype["delete"]=function(e){var t=this.nodeId(e);delete this.nodes[t],this.values[t]=undefined},e.prototype.keys=function(){var e=[];for(var t in this.nodes)this.isIndex(t)&&e.push(this.nodes[t]);return e},e.ID_PROP="__mutation_summary_node_map_id__",e.nextId_=1,e}();(n=i||(i={}))[n.STAYED_OUT=0]="STAYED_OUT",n[n.ENTERED=1]="ENTERED",n[n.STAYED_IN=2]="STAYED_IN",n[n.REPARENTED=3]="REPARENTED",n[n.REORDERED=4]="REORDERED",n[n.EXITED=5]="EXITED";var l=function(){function e(e,t,n,r,i,o,a,s){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=n,this.characterData=r,this.oldParentNode=i,this.added=o,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return e.prototype.getAttributeOldValue=function(e){return this.attributeOldValues?(this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]):undefined},e.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues)e.push(t);return e},e.prototype.attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},e.prototype.characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},e.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},e.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},e.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},e}(),u=function(){function e(){this.added=new c,this.removed=new c,this.maybeMoved=new c,this.oldPrevious=new c,this.moved=undefined}return e}(),d=function(e){function t(t,n){e.call(this),this.rootNode=t,this.reachableCache=undefined,this.wasReachableCache=undefined,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var r=0;r<n.length;r++){var i=n[r];switch(i.type){case"childList":this.anyParentsChanged=!0;for(var o=0;o<i.removedNodes.length;o++){var a=i.removedNodes[o];this.getChange(a).removedFromParent(i.target)}for(o=0;o<i.addedNodes.length;o++){a=i.addedNodes[o];this.getChange(a).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=!0,this.getChange(i.target).attributeMutated(i.attributeName,i.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,this.getChange(i.target).characterDataMutated(i.oldValue)}}}return r(t,e),t.prototype.getChange=function(e){var t=this.get(e);return t||(t=new l(e),this.set(e,t)),t},t.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},t.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new c;var t=this.reachableCache.get(e);return t===undefined&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},t.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new c;var t=this.wasReachableCache.get(e);return t===undefined&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},t.prototype.reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?i.STAYED_IN:i.ENTERED:this.getWasReachable(e)?i.EXITED:i.STAYED_OUT},t}(c),h=function(){function e(e,t,n,r,i){this.rootNode=e,this.mutations=t,this.selectors=n,this.calcReordered=r,this.calcOldPreviousSibling=i,this.treeChanges=new d(e,t),this.entered=[],this.exited=[],this.stayedIn=new c,this.visited=new c,this.childListChangeMap=undefined,this.characterDataOnly=undefined,this.matchCache=undefined,this.processMutations()}return e.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],undefined)},e.prototype.visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var n=this.treeChanges.get(e),r=t;if((n&&n.childList||r==undefined)&&(r=this.treeChanges.reachabilityChange(e)),r!==i.STAYED_OUT){if(this.matchabilityChange(e),r===i.ENTERED)this.entered.push(e);else if(r===i.EXITED)this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e);else if(r===i.STAYED_IN){var o=i.STAYED_IN;n&&n.childList&&(n.oldParentNode!==e.parentNode?(o=i.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(o=i.REORDERED)),this.stayedIn.set(e,o)}if(r!==i.STAYED_IN)for(var a=e.firstChild;a;a=a.nextSibling)this.visitNode(a,r)}}},e.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){if(this.calcOldPreviousSibling){this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);r||(r=new u,this.childListChangeMap.set(t,r)),r.oldPrevious.has(e)||r.oldPrevious.set(e,e.previousSibling)}},e.prototype.getChanged=function(e,t,n){this.selectors=t,this.characterDataOnly=n;for(var r=0;r<this.entered.length;r++){var o=this.entered[r];(p=this.matchabilityChange(o))!==i.ENTERED&&p!==i.STAYED_IN||e.added.push(o)}var a=this.stayedIn.keys();for(r=0;r<a.length;r++){o=a[r];if((p=this.matchabilityChange(o))===i.ENTERED)e.added.push(o);else if(p===i.EXITED)e.removed.push(o);else if(p===i.STAYED_IN&&(e.reparented||e.reordered)){var s=this.stayedIn.get(o);e.reparented&&s===i.REPARENTED?e.reparented.push(o):e.reordered&&s===i.REORDERED&&e.reordered.push(o)}}for(r=0;r<this.exited.length;r++){var p;o=this.exited[r];(p=this.matchabilityChange(o))!==i.EXITED&&p!==i.STAYED_IN||e.removed.push(o)}},e.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var n=this.treeChanges.reachabilityChange(e);if(n===i.STAYED_OUT||n===i.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},e.prototype.getOldPreviousSibling=function(e){var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)throw Error("getOldPreviousSibling requested on invalid node.");return r.oldPrevious.get(e)},e.prototype.getOldAttribute=function(e,t){var n=this.treeChanges.get(e);if(!n||!n.attributes)throw Error("getOldAttribute requested on invalid node.");var r=n.getAttributeOldValue(t);if(r===undefined)throw Error("getOldAttribute requested for unchanged attribute name.");return r},e.prototype.attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};var t,n;if(e){t={},n={};for(var r=0;r<e.length;r++){t[d=e[r]]=!0,n[d.toLowerCase()]=d}}var o={},a=this.treeChanges.keys();for(r=0;r<a.length;r++){var s=a[r],p=this.treeChanges.get(s);if(p.attributes&&(i.STAYED_IN===this.treeChanges.reachabilityChange(s)&&i.STAYED_IN===this.matchabilityChange(s)))for(var c=s,l=p.getAttributeNamesMutated(),u=0;u<l.length;u++){var d=l[u];if(!t||t[d]||p.isCaseInsensitive&&n[d])p.getAttributeOldValue(d)!==c.getAttribute(d)&&(n&&p.isCaseInsensitive&&(d=n[d]),o[d]=o[d]||[],o[d].push(c))}}return o},e.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue},e.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],n=0;n<e.length;n++){var r=e[n];if(i.STAYED_IN===this.treeChanges.reachabilityChange(r)){var o=this.treeChanges.get(r);o.characterData&&r.textContent!=o.characterDataOldValue&&t.push(r)}}return t},e.prototype.computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new c);var n=this.matchCache[e.uid],r=n.get(t);return r===undefined&&(r=e.matchabilityChange(t,this.treeChanges.get(t)),n.set(t,r)),r},e.prototype.matchabilityChange=function(e){var t=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return i.STAYED_IN;default:return i.STAYED_OUT}if(!this.selectors)return i.STAYED_IN;if(e.nodeType!==Node.ELEMENT_NODE)return i.STAYED_OUT;for(var n=e,r=this.selectors.map(function(e){return t.computeMatchabilityChange(e,n)}),o=i.STAYED_OUT,a=0;o!==i.STAYED_IN&&a<r.length;){switch(r[a]){case i.STAYED_IN:o=i.STAYED_IN;break;case i.ENTERED:o=o===i.EXITED?i.STAYED_IN:i.ENTERED;break;case i.EXITED:o=o===i.ENTERED?i.STAYED_IN:i.EXITED}a++}return o},e.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new u,this.childListChangeMap.set(e,t)),t},e.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new c;for(var e=0;e<this.mutations.length;e++){var t=function(e,t){!e||r.oldPrevious.has(e)||r.added.has(e)||r.maybeMoved.has(e)||t&&(r.added.has(t)||r.maybeMoved.has(t))||r.oldPrevious.set(e,t)},n=this.mutations[e];if("childList"==n.type&&(this.treeChanges.reachabilityChange(n.target)===i.STAYED_IN||this.calcOldPreviousSibling)){for(var r=this.getChildlistChange(n.target),o=n.previousSibling,a=0;a<n.removedNodes.length;a++){t(s=n.removedNodes[a],o),r.added.has(s)?r.added["delete"](s):(r.removed.set(s,!0),r.maybeMoved["delete"](s)),o=s}t(n.nextSibling,o);for(a=0;a<n.addedNodes.length;a++){var s=n.addedNodes[a];r.removed.has(s)?(r.removed["delete"](s),r.maybeMoved.set(s,!0)):r.added.set(s,!0)}}}}},e.prototype.wasReordered=function(e){function t(e){if(!e)return!1;if(!a.maybeMoved.has(e))return!1;var t=a.moved.get(e);return t!==undefined?t:(s.has(e)?t=!0:(s.set(e,!0),t=r(e)!==n(e)),s.has(e)?(s["delete"](e),a.moved.set(e,t)):t=a.moved.get(e),t)}function n(e){var r=p.get(e);if(r!==undefined)return r;for(r=a.oldPrevious.get(e);r&&(a.removed.has(r)||t(r));)r=n(r);return r===undefined&&(r=e.previousSibling),p.set(e,r),r}function r(e){if(l.has(e))return l.get(e);for(var n=e.previousSibling;n&&(a.added.has(n)||t(n));)n=n.previousSibling;return l.set(e,n),n}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var i=e.parentNode,o=this.treeChanges.get(e);o&&o.oldParentNode&&(i=o.oldParentNode);var a=this.childListChangeMap.get(i);if(!a)return!1;if(a.moved)return a.moved.get(e);a.moved=new c;var s=new c,p=new c,l=new c;return a.maybeMoved.keys().forEach(t),a.moved.get(e)},e}(),f=function(){function e(e,t){var n=this;if(this.projection=e,this.added=[],this.removed=[],this.reparented=t.all||t.element||t.characterData?[]:undefined,this.reordered=t.all?[]:undefined,e.getChanged(this,t.elementFilter,t.characterData),t.all||t.attribute||t.attributeList){var r=t.attribute?[t.attribute]:t.attributeList,i=e.attributeChangedNodes(r);t.attribute?this.valueChanged=i[t.attribute]||[]:(this.attributeChanged=i,t.attributeList&&t.attributeList.forEach(function(e){n.attributeChanged.hasOwnProperty(e)||(n.attributeChanged[e]=[])}))}if(t.all||t.characterData){var o=e.getCharacterDataChanged();t.characterData?this.valueChanged=o:this.characterDataChanged=o}this.reordered&&(this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e))}return e.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)},e.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},e.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},e.prototype.getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)},e}(),m=/[a-zA-Z_]+/,g=/[a-zA-Z0-9_\-]+/,y=function(){function e(){}return e.prototype.matches=function(e){if(null===e)return!1;if(this.attrValue===undefined)return!0;if(!this.contains)return this.attrValue==e;for(var t=e.split(" "),n=0;n<t.length;n++)if(this.attrValue===t[n])return!0;return!1},e.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+o(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+o(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},e}(),b=function(){function e(){this.uid=e.nextUid++,this.qualifiers=[]}var t;return Object.defineProperty(e.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),e.prototype.isMatching=function(t){return t[e.matchesSelector](this.selectorString)},e.prototype.wasMatching=function(e,t,n){if(!t||!t.attributes)return n;var r=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==r&&r!==e.tagName)return!1;for(var i=[],o=!1,a=0;a<this.qualifiers.length;a++){var s=this.qualifiers[a],p=t.getAttributeOldValue(s.attrName);i.push(p),o=o||p!==undefined}if(!o)return n;for(a=0;a<this.qualifiers.length;a++){s=this.qualifiers[a];if((p=i[a])===undefined&&(p=e.getAttribute(s.attrName)),!s.matches(p))return!1}return!0},e.prototype.matchabilityChange=function(e,t){var n=this.isMatching(e);return n?this.wasMatching(e,t,n)?i.STAYED_IN:i.ENTERED:this.wasMatching(e,t,n)?i.EXITED:i.STAYED_OUT},e.parseSelectors=function(t){function n(){i&&(o&&(i.qualifiers.push(o),o=undefined),s.push(i)),i=new e}function r(){o&&i.qualifiers.push(o),o=new y}for(var i,o,a,s=[],p=/\s/,c="Invalid or unsupported selector syntax.",l=1,u=2,d=3,h=4,f=5,b=6,v=7,x=8,C=9,w=10,E=11,_=12,T=13,S=14,N=l,R=0;R<t.length;){var k=t[R++];switch(N){case l:if(k.match(m)){n(),i.tagName=k,N=u;break}if("*"==k){n(),i.tagName="*",N=d;break}if("."==k){n(),r(),i.tagName="*",o.attrName="class",o.contains=!0,N=h;break}if("#"==k){n(),r(),i.tagName="*",o.attrName="id",N=h;break}if("["==k){n(),r(),i.tagName="*",o.attrName="",N=b;break}if(k.match(p))break;throw Error(c);case u:if(k.match(g)){i.tagName+=k;break}if("."==k){r(),o.attrName="class",o.contains=!0,N=h;break}if("#"==k){r(),o.attrName="id",N=h;break}if("["==k){r(),o.attrName="",N=b;break}if(k.match(p)){N=S;break}if(","==k){N=l;break}throw Error(c);case d:if("."==k){r(),o.attrName="class",o.contains=!0,N=h;break}if("#"==k){r(),o.attrName="id",N=h;break}if("["==k){r(),o.attrName="",N=b;break}if(k.match(p)){N=S;break}if(","==k){N=l;break}throw Error(c);case h:if(k.match(m)){o.attrValue=k,N=f;break}throw Error(c);case f:if(k.match(g)){o.attrValue+=k;break}if("."==k){r(),o.attrName="class",o.contains=!0,N=h;break}if("#"==k){r(),o.attrName="id",N=h;break}if("["==k){r(),N=b;break}if(k.match(p)){N=S;break}if(","==k){N=l;break}throw Error(c);case b:if(k.match(m)){o.attrName=k,N=v;break}if(k.match(p))break;throw Error(c);case v:if(k.match(g)){o.attrName+=k;break}if(k.match(p)){N=x;break}if("~"==k){o.contains=!0,N=C;break}if("="==k){o.attrValue="",N=E;break}if("]"==k){N=d;break}throw Error(c);case x:if("~"==k){o.contains=!0,N=C;break}if("="==k){o.attrValue="",N=E;break}if("]"==k){N=d;break}if(k.match(p))break;throw Error(c);case C:if("="==k){o.attrValue="",N=E;break}throw Error(c);case w:if("]"==k){N=d;break}if(k.match(p))break;throw Error(c);case E:if(k.match(p))break;if('"'==k||"'"==k){a=k,N=T;break}o.attrValue+=k,N=_;break;case _:if(k.match(p)){N=w;break}if("]"==k){N=d;break}if("'"==k||'"'==k)throw Error(c);o.attrValue+=k;break;case T:if(k==a){N=w;break}o.attrValue+=k;break;case S:if(k.match(p))break;if(","==k){N=l;break}throw Error(c)}}switch(N){case l:case u:case d:case f:case S:n();break;default:throw Error(c)}if(!s.length)throw Error(c);return s},e.nextUid=1,e.matchesSelector="function"==typeof(t=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof t.mozMatchesSelector?"mozMatchesSelector":"function"==typeof t.msMatchesSelector?"msMatchesSelector":"matchesSelector",e}(),v=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/,x=function(){function e(n){var r=this;this.connected=!1,this.options=e.validateOptions(n),this.observerOptions=e.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(e){return e.elementFilter?e.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=undefined),this.calcReordered=this.options.queries.some(function(e){return e.all}),this.queryValidators=[],e.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(t){return e.createQueryValidator(r.root,t)})),this.observer=new t(function(e){r.observerCallback(e)}),this.reconnect()}return e.createObserverOptions=function(e){function t(e){r.attributes&&!n||(r.attributes=!0,r.attributeOldValue=!0,e?(n=n||{},e.forEach(function(e){n[e]=!0,n[e.toLowerCase()]=!0})):n=undefined)}var n,r={childList:!0,subtree:!0};return e.forEach(function(e){if(e.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(e.all)return t(),r.characterData=!0,void(r.characterDataOldValue=!0);if(e.attribute)t([e.attribute.trim()]);else{var n=p(e.elementFilter).concat(e.attributeList||[]);n.length&&t(n)}}),n&&(r.attributeFilter=Object.keys(n)),r},e.validateOptions=function(t){for(var n in t)if(!(n in e.optionKeys))throw Error("Invalid option: "+n);if("function"!=typeof t.callback)throw Error("Invalid options: callback is required and must be a function");if(!t.queries||!t.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var r={callback:t.callback,rootNode:t.rootNode||document,observeOwnChanges:!!t.observeOwnChanges,oldPreviousSibling:!!t.oldPreviousSibling,queries:[]},i=0;i<t.queries.length;i++){var o=t.queries[i];if(o.all){if(Object.keys(o).length>1)throw Error("Invalid request option. all has no options.");r.queries.push({all:!0})}else if("attribute"in o){if((c={attribute:a(o.attribute)}).elementFilter=b.parseSelectors("*["+c.attribute+"]"),Object.keys(o).length>1)throw Error("Invalid request option. attribute has no options.");r.queries.push(c)}else if("element"in o){var p=Object.keys(o).length,c={element:o.element,elementFilter:b.parseSelectors(o.element)};if(o.hasOwnProperty("elementAttributes")&&(c.attributeList=s(o.elementAttributes),p--),p>1)throw Error("Invalid request option. element only allows elementAttributes option.");r.queries.push(c)}else{if(!o.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(o).length>1)throw Error("Invalid request option. characterData has no options.");r.queries.push({characterData:!0})}}return r},e.prototype.createSummaries=function(e){if(!e||!e.length)return[];for(var t=new h(this.root,e,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),n=[],r=0;r<this.options.queries.length;r++)n.push(new f(t,this.options.queries[r]));return n},e.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(e){e&&e.recordPreviousState()})},e.prototype.runQueryValidators=function(e){this.queryValidators.forEach(function(t,n){t&&t.validate(e[n])})},e.prototype.changesToReport=function(e){return e.some(function(e){if(["added","removed","reordered","reparented","valueChanged","characterDataChanged"].some(function(t){return e[t]&&e[t].length}))return!0;if(e.attributeChanged&&Object.keys(e.attributeChanged).some(function(t){return!!e.attributeChanged[t].length}))return!0;return!1})},e.prototype.observerCallback=function(e){this.options.observeOwnChanges||this.observer.disconnect();var t=this.createSummaries(e);this.runQueryValidators(t),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(t)&&this.callback(t),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},e.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},e.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:undefined},e.prototype.disconnect=function(){var e=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,e},e.NodeMap=c,e.parseElementFilter=b.parseSelectors,e.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},e}();e.exports=x}}])}),
function(e){e.namespace("Reamaze"),e(document).off("Reamaze"),Reamaze={version:"2.1.1",visitor:null,_baseUrl:null,_settings:null,_ui:null,_customFields:null,_contactCustomFields:null,_callbacks:null,_preview:null,_translations:{},initialize:function(t,n,r,i){if(!(t=t||{}).account)throw"account is not defined";if(!t.app_domain)throw"app_domain is not defined";var o=t.account;o&&(o=o.toLowerCase()),this._baseUrl=t.protocol+o+"."+t.app_domain,this._baseDataUrl=t.protocol+o+"."+t.data_domain,this._pusherAppKey=t.pusherAppKey,this._ui=t.ui,this._customFields=r.widget,this._contactCustomFields=r.contact,this._settings=t,this._callbacks=i,this._translations=t.translations||{},this.styles=t.ui.styles||{},this.outbounds=t.outbounds||[],this.apps=t.apps||{},!this.styles.widgetColor&&this._ui&&this._ui.widget&&(this.styles.widgetColor=this._ui.widget.color||Reamaze.Styles["default"].widgetColor),this.styles.widgetColor&&(this.styles.headerBgColor||(this.styles.headerBgColor=this.styles.widgetColor),this.styles.headerFontColor||(this.styles.headerFontColor=Reamaze.Styles["default"].widgetIconColor),this.styles.buttonBgColor||(this.styles.buttonBgColor=this.styles.widgetColor,this.styles.buttonFontColor="#fff"),this.styles.buttonBorder||(this.styles.buttonBorder="1px solid "+this.styles.widgetColor),this.styles.buttonLinkColor||(this.styles.buttonLinkColor=this.styles.widgetColor),this.styles.bodyLinkColor=this.styles.widgetColor,this.styles.buttonBorderRadius=Reamaze.Styles["default"].buttonBorderRadius,this.styles.inputBgColor=Reamaze.Styles["default"].inputBgColor,this.styles.inputFontColor=Reamaze.Styles["default"].inputFontColor,this.styles.inputBorder=Reamaze.Styles["default"].inputBorder);var a=function(){e(document).trigger("Reamaze.init",!window._rmzLoaded),window._rmzLoaded=!0,e.receiveMessage(function(t){try{var n=e.deparam(t.data);"reamaze:resize"==n._command?e(document).trigger("Reamaze.resize",n):"reamaze:navigate"==n._command?(e(document).trigger("Reamaze.navigate",n),e(document).trigger("Reamaze.resize",n)):"reamaze:new"==n._command?e(document).trigger("Reamaze.openPopup",n):"reamaze:esc"==n._command?e(document).trigger("Reamaze.closePopup"):"reamaze:widget:route"==n._command?e(document).trigger("Reamaze.Widget.route",n):"reamaze:anchorHeight"==n._command&&e(document).trigger("Reamaze.anchorHeight",n)}catch(t){}},this._baseUrl)}.bind(this);if(t._preview)return this._preview=!0,this.reset(),void(this._visitor=new Reamaze.Visitor(null,this._baseDataUrl,a,!0,!!t._setup));var s=Reamaze.localStorage.getItem("account");s?s!=this._settings.account&&Reamaze.reset():Reamaze.localStorage.setItem("account",this._settings.account),this._visitor=new Reamaze.Visitor(n,this._baseDataUrl,a)},_iframeform:function(t,n){var r=this;r.time=(new Date).getTime(),r.form=e('<form action="'+t+'" target="'+n.attr("name")+'" method="post" style="display:none;" id="form'+r.time+'"></form>'),r.addParameter=function(t,n){e("<input type='hidden' />").attr("name",t).attr("value",n).appendTo(r.form)},r.send=function(){e("body").append(r.form),r.form.submit(),n.bind("load",function(){e("#form"+e(this).data("time")).remove()})}},reset:function(){Reamaze.localStorage.reset(),Reamaze.sessionStorage.reset(),Reamaze.localStorage.setItem("account",this._settings.account)}}}(jQuery),function(e){e.namespace("Reamaze"),Reamaze.Styles={"default":{headerBgColor:"#10a2c5",headerFontColor:"#fff",headerFont:'"Nunito", Helvetica, Arial, sans-serif',bodyLinkColor:"#466bb8",bodyLinkDisabledColor:"#dedede",bodyFont:'"Nunito", Helvetica, Arial, sans-serif',bodyMutedFontColor:"#ccc",buttonBgColor:"#10a2c5",buttonFontColor:"#fff",buttonBorder:"1px solid #ccc",buttonLinkColor:"#10a2c5",buttonBorderRadius:"20px",inputBgColor:"#fff",inputFontColor:"#000",inputBorder:"1px solid #ddd",inputErrorColor:"#B94A48",widgetColor:"rgba(16, 161, 197, 1)",widgetIconColor:"rgba(255, 255, 255, 1)"},fromBrand:function(t,n){var r=n||{},i={};return t&&t.preferences&&(i.headerBgColor=t.preferences.popup_header_bg_color,i.headerFontColor=t.preferences.popup_header_font_color,i.headerFont=t.preferences.popup_header_font,i.bodyLinkColor=t.preferences.popup_link_color,i.bodyFont=t.preferences.popup_body_font,i.buttonBgColor=t.preferences.popup_button_bg_color,i.buttonFontColor=t.preferences.popup_button_font_color,i.buttonBorder=t.preferences.popup_button_border,i.buttonBorderRadius=t.preferences.popup_button_border_radius,i.buttonLinkColor=t.preferences.popup_link_color,i.inputBgColor=t.preferences.popup_input_bg_color,i.inputFontColor=t.preferences.popup_input_font_color,i.inputBorder=t.preferences.popup_input_border),e.extend({},Reamaze.Styles["default"],i,r)}}}(jQuery),function(e){e.namespace("Reamaze"),Reamaze.Utils={getLocaleDateString:function(e){var t={formatMatcher:"basic",month:"short",day:"numeric"};(new Date).getYear()!=e.getYear()&&(t.year="numeric");try{return e.toLocaleDateString(window.navigator.language,t)}catch(n){return e.toLocaleDateString()}},getLocaleTimeString:function(e){try{return e.toLocaleTimeString(window.navigator.language,{formatMatcher:"basic",hour:"numeric",minute:"2-digit"})}catch(t){return e.toLocaleTimeString()}},entitiesDecode:function(t){return e("<textarea/>").html(t).text()},simpleFormat:function(e){var t=/\r\n?/g,n=/\n\n+/g,r=/([^\n]\n)(?=[^\n])/g,i=e;return(i=(i=(i=i.replace(t,"\n")).replace(n,"</p>\n\n<p>")).replace(r,"$1<br/>"))&&(i="<p>"+i+"</p>"),i=(i=i.replace(/^<p><p>/g,"<p>")).replace(/<\/p><\/p>$/g,"</p>")},escapeOnce:function(e){var t=/["><']|&(?!([a-zA-Z]+|(#\d+)|(#[xX][\dA-Fa-f]+));)/g,n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};return e.replace(t,function(e){return n[e]||e})},getUserDisplayDetails:function(e,t,n){if(!e)return null;var r=Reamaze.Utils.getDisplayStaffAvatars(t,n);if("staff"==e.type){if(e.staffName&&t.allStaffAvatars){var i=t.allStaffAvatars.filter(function(t){return t.name===e.staffName});if(i.length>0)return{name:e.staffName||e.name,avatarUrls:[i[0].avatarUrl]}}var o=r[Math.floor(Math.random()*r.length)];return{name:o.name,avatarUrls:[o.avatarUrl]}}if("team"==e.type||"brand"==e.type)return{name:t.name,avatarUrls:r.map(function(e){return e.avatarUrl})};if(e){var a=e.avatarUrls||[];return e.avatarUrl&&(a=[e.avatarUrl]),{name:e.name,avatarUrls:a}}return null},getDisplayStaffAvatars:function(e,t){if(t&&t.length>0)return t.map(function(e){return{avatarUrl:e}});var n=[];return e&&(e.liveStaffAvatars&&e.liveStaffAvatars.length>0?n=e.liveStaffAvatars:e.staffAvatars&&e.staffAvatars.length>0&&(n=e.staffAvatars)),n},pSBC:function(e,t,n){if("number"!=typeof e||e<-1||e>1||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||n&&"string"!=typeof n)return null;this.pSBCr||(this.pSBCr=function(e){var t=e.length,n={};if(t>9){if((e=e.split(",")).length<3||e.length>4)return null;n[0]=r(e[0].split("(")[1]),n[1]=r(e[1]),n[2]=r(e[2]),n[3]=e[3]?parseFloat(e[3]):-1}else{if(8==t||6==t||t<4)return null;t<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(t>4?e[4]+""+e[4]:"")),e=r(e.slice(1),16),n[0]=e>>16&255,n[1]=e>>8&255,n[2]=255&e,n[3]=-1,9!=t&&5!=t||(n[3]=i(n[2]/255*1e4)/1e4,n[2]=n[1],n[1]=n[0],n[0]=e>>24&255)}return n});var r=parseInt,i=Math.round,o=t.length>9,a=(o="string"==typeof n?n.length>9||"c"==n&&!o:o,e<0),s=(e=a?-1*e:e,n=n&&"c"!=n?n:a?"#000000":"#FFFFFF",this.pSBCr(t)),p=this.pSBCr(n);return s&&p?o?"rgb"+(s[3]>-1||p[3]>-1?"a(":"(")+i((p[0]-s[0])*e+s[0])+","+i((p[1]-s[1])*e+s[1])+","+i((p[2]-s[2])*e+s[2])+(s[3]<0&&p[3]<0?")":","+(s[3]>-1&&p[3]>-1?i(1e4*((p[3]-s[3])*e+s[3]))/1e4:p[3]<0?s[3]:p[3])+")"):"#"+(4294967296+16777216*i((p[0]-s[0])*e+s[0])+65536*i((p[1]-s[1])*e+s[1])+256*i((p[2]-s[2])*e+s[2])+(s[3]>-1&&p[3]>-1?i(255*((p[3]-s[3])*e+s[3])):p[3]>-1?i(255*p[3]):s[3]>-1?i(255*s[3]):255)).toString(16).slice(1,s[3]>-1||p[3]>-1?undefined:-2):null},massageUserAgent:function(e){var t=e.userAgent;if("MacIntel"===e.platform&&e.maxTouchPoints>1&&!window.MSStream){var n=t.indexOf("Safari/");return"ipad os _ like mac "+t.substring(0,n)+"Mobile "+t.substring(n)}return t}}}(jQuery),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ACTIONS={CONVERSATION_CREATED:"CONVERSATION_CREATED",CONVERSATION_UPDATED:"CONVERSATION_UPDATED",CHAT_ENDED:"CHAT_ENDED",CONVERSATION_STARTED_MESSAGE_TRIGGERED:"CONVERSATION_STARTED_MESSAGE_TRIGGERED",MESSAGE_CREATED:"MESSAGE_CREATED",MESSAGE_READ:"MESSAGE_READ",MESSAGE_APPRECIATED:"MESSAGE_APPRECIATED",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",SUBMITTING_MODAL:"SUBMITTING_MODAL",GET_CONVERSATION:"GET_CONVERSATION",GET_CONVERSATION_CALLBACK:"GET_CONVERSATION_CALLBACK",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_CONVERSATIONS_CALLBACK:"GET_CONVERSATIONS_CALLBACK"};var o=function(e,t){switch(t.type){case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.OPEN_MODAL:return e.modal=t.payload,e;case Reamaze.Conversations.ACTIONS.CLOSE_MODAL:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.SUBMITTING_MODAL:return e.modal.submitting=t.payload.submitting,e;default:return null}};Reamaze.Conversations.App=r({mixins:[TimerMixin],displayName:"Reamaze.Conversations.App",propTypes:{chatIsLive:i.bool,enableKb:i.bool,currentUser:i.object,active:i.bool,onAppMounted:i.func,contactHeader:i.string,conversations:i.object,conversationsFetched:i.bool,category:i.string,appContext:i.object.isRequired,contactMode:i.string,popupOptions:i.shape({override_placeholder:i.string,subject:i.string})},contextTypes:{window:i.object},getDefaultProps:function(){return{}},getInitialState:function(){var t=new Reamaze.Dispatcher,n=function(t){var n=e.extend({},this.state);n.effects=[],(n=o(n,t))&&this.setState(n)}.bind(this);return t.register(n),this.props.appContext.dispatcher.register(n),{dispatcher:t,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,submitting:!1}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};t.currentUser==this.state.currentUser&&t.inView==this.state.inView&&t.chatIsLive==this.state.chatIsLive||this.setState(t)},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,1e4)},componentDidUpdate:function(t,n){(t.appContext.route!=this.props.appContext.route||this.props.active&&t.active!=this.props.active)&&(e(this.context.window).trigger("app:reinitjs"),n.modal&&this.setState({modal:null})),"conversations:show"!=this.props.appContext.route||this.props.conversations[this.props.appContext.routeParams.slug]||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_onBackButtonClicked:function(){this.props.appContext.prevRoute&&!this.props.appContext.prevRoute.match(/^conversations/)?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:this.props.appContext.prevRoute,routeParams:this.props.appContext.prevRouteParams}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_scrollContent:function(e){if(this.refs.content){var t=n.findDOMNode(this.refs.content);t.scrollTop="t"==e?0:"b"==e?100*t.offsetHeight:e-t.offsetTop-20}},_openEmailTranscriptPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"email_transcript",slug:e}})},_openEndChatPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"end_chat",slug:e}})},onSubmit:function(t){if(!this.props.appContext._preview){var n=this.props.conversations[this.props.appContext.routeParams.slug],r=n&&n.outbound&&1==n.messages.length;return r?(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:t},slug:n.slug}}),!1):(this.setState({submitting:!0},function(){var i=this.props.appContext.getPusher(),o={message:t};i&&i.connection&&i.connection.socket_id&&(o.socket_id=i.connection.socket_id),this.props.currentUser&&(o.sparams=e.param({sso:this.props.currentUser.ssoData()}));var a=Math.floor(Date.now()/1e3);o._zt=Reamaze.ec("0"+a),o._zt2=a,o._zc_field="5b5cd0da3121fc53b4bc84d0c8af2e81",this.state.chatIsLive&&(o.chat=1),r?(o._url=window.location.href,o._browser=Reamaze.Utils.massageUserAgent(window.navigator),n.outboundData&&(o.outbound_data_str=JSON.stringify(n.outboundData)),e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations",type:"POST",data:o,success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})):e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+n.slug+"/messages",type:"POST",data:o,beforeSend:function(e){e.requestId=Math.floor(99999999*Math.random()+1),e.messagePayload={id:"pending-"+e.requestId,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(o.message.body)),pending:!0,user:{id:this.props.currentUser.get("_id"),name:this.props.currentUser.get("name"),email:this.props.currentUser.get("email")},viewed:!1,createdAt:(new Date).toISOString(),requestId:e.requestId},o.message.attachment_ids&&(e.messagePayload.pendingData={message:{attachment_ids:o.message.attachment_ids}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e.messagePayload,conversationSlug:n.slug,conversationId:n.id,inView:!0}})}.bind(this),success:function(e,t,r){e.requestId=r.requestId,e.pending=!1,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e,conversationSlug:n.slug,conversationId:n.id,inView:!0}})}.bind(this),error:function(e){m=e.messagePayload,m.requestId=e.requestId,m.pending=!1,m.errored=!0,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:m,conversationSlug:n.slug,conversationId:n.id,inView:!0}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})}.bind(this)),!1)}},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},getHeader:function(){var e=!1,n=null;if("conversations:show"==this.props.appContext.route&&(n=this.props.conversations[this.props.appContext.routeParams.slug])&&n.outbound&&1==n.messages.length&&(e=!0),n&&n.loaded&&!e){for(var r={},i=0;i<n.messages.length;i++){var o=n.messages[i];o.user.isStaff&&(r[o.user.id]=o.user)}if(Object.keys(r).length>1&&r[undefined]&&delete r[undefined],Object.keys(r).length>0)return t.createElement("div",{className:"staff-avatars"},Object.keys(r).slice(0,3).map(function(e,n){var i=r[e];return t.createElement("img",{title:i.name,style:{position:"relative",zIndex:3-e},src:i.avatarUrl||Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces)[0].avatarUrl,key:n})}.bind(this)))}return this.props.contactHeader||!1},getSecondaryHeader:function(){var e=!1,n=!1,r=null;return"conversations:show"==this.props.appContext.route&&(r=this.props.conversations[this.props.appContext.routeParams.slug])&&r.outbound&&r.outboundData&&1==r.messages.length&&(e=!0,r.outboundData.live&&Date.now()-r.outboundData.timestamp<6e5&&(n=!0)),!(!r||e&&!n)&&(r.isChat?t.createElement("div",{id:"secondary-header"},t.createElement("div",{id:"chat-actions"},t.createElement("a",{href:"javascript:;",onClick:this._openEmailTranscriptPopup.bind(this,r.slug),title:this.props.appContext.brand.preferences.trans_chat_email_transcript},t.createElement("i",{className:"fas rmzfa rmzfa-envelope anim-btn"})),"archived"!=r.status&&t.createElement("a",{href:"javascript:;",onClick:this._openEndChatPopup.bind(this,r.slug),title:"End Chat"},t.createElement("i",{className:"fas rmzfa rmzfa-power-off anim-btn"})))):t.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.state.chatIsLive,brand:this.props.appContext.brand}))},getContent:function(){if("conversations:show"==this.props.appContext.route){var n=this.props.conversations[this.props.appContext.routeParams.slug];if(n)return t.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:e.extend({},n),dispatcher:this.state.dispatcher,channel:!n.outbound&&!n.preview&&this.props.appContext.getPusher().channel("presence-conversation-"+n.id),scrollContent:this._scrollContent,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,contactMode:this.props.contactMode,onPromptOptionClick:this.onSubmit,submitting:this.state.submitting})}else if("conversations:index"==this.props.appContext.route){if(Object.keys(this.props.conversations||{}).length)return t.createElement("div",{id:"recent-conversations-container"},t.createElement(Reamaze.Conversations.ConversationList,{conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,onMount:this._scrollContent.bind(this,"t"),ref:"contentInner",appContext:this.props.appContext}))}else if("conversations:new"==this.props.appContext.route){var r="object"==typeof this.props.label?this.props.label.text:this.props.label;if("traditional"==this.props.contactMode)return t.createElement(Reamaze.Conversations.ContactForm,{appContext:this.props.appContext,inView:this.state.inView,currentUser:this.props.currentUser,category:this.props.category,override_placeholder:this.props.popupOptions.override_placeholder,subject:this.props.popupOptions.subject});var i=this.props.appContext.brand.activeIncidents.length>0;if(r||i){var o=this.props.appContext.brand.activeIncidents.reduce(function(e,t,n){return 0===n?t.title:e+", "+t.title},""),a=[];return i&&a.push({id:"*rmz-incident-text*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:o,meta:{buttons:[{text:this.props.appContext.brand.preferences.trans_status_view_status_button,script:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})}.bind(this)}]}}),r&&a.push({id:"*rmz-prompt*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:this.props.label.text}),t.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:{id:"*rmz-prompt*",slug:"*rmz-prompt*",loaded:!1,outbound:!0,messages:a},dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,scrollContent:this._scrollContent,contactMode:this.props.contactMode})}}return null},getFooter:function(){if("conversations:show"==this.props.appContext.route&&this.props.conversations[this.props.appContext.routeParams.slug]){var n=this.props.conversations[this.props.appContext.routeParams.slug],r=n.messages&&n.messages.length>0?new Date-new Date(n.messages[n.messages.length-1].createdAt):0,i=6048e5,o=1728e5;return"archived"===n.status&&(n.isChat||r>o)||"resolved"===n.status&&r>i?t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations}):t.createElement(Reamaze.Conversations.ConversationFooter,{conversation:e.extend({},this.props.conversations[this.props.appContext.routeParams.slug]),ref:"footer",dispatcher:this.state.dispatcher,scrollContentToBottom:this._scrollContent.bind(this,"b"),currentUser:this.state.currentUser,inView:this.state.inView,chatIsLive:this.state.chatIsLive,blur:!!this.state.modal,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.onSubmit,submitting:this.state.submitting})}return"conversations:new"==this.props.appContext.route&&"traditional"==this.props.contactMode?null:t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations})},onNewMessageSubmit:function(t){var n=t.a_comment_body;delete t.a_comment_body,data={message:t,a_comment_body:n},this.props.currentUser&&(data.sparams=e.param({sso:this.props.currentUser.ssoData()}));var r=Math.floor(Date.now()/1e3),i=Reamaze.ec("0"+r);return data._zt=i,data._zt2=r,data._url=window.location.href,data._browser=Reamaze.Utils.massageUserAgent(window.navigator),data.chat=this.state.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+i,data:data}}),!1},getModal:function(){if(!this.state.modal)return null;var e=0;if(this.refs.header){var r=n.findDOMNode(this.refs.header);r&&(e=r.offsetHeight||0)}return"end_chat"==this.state.modal.action?t.createElement(Reamaze.Conversations.EndChatModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"email_transcript"==this.state.modal.action?t.createElement(Reamaze.Conversations.EmailTranscriptModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"transitional"==this.state.modal.action?t.createElement(Reamaze.Conversations.TransitionalModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{bottom:0},appContext:this.props.appContext}):void 0},render:function(){if(!this.props.active)return null;var e=!(this.props.appContext.routeParams&&this.props.appContext.routeParams.noback||"conversations:show"!=this.props.appContext.route&&"conversations:new"!=this.props.appContext.route);return t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement(Reamaze.Conversations.Css,{appContext:this.props.appContext}),t.createElement(Reamaze.Shared.Header,{ref:"header",chatIsLive:this.state.chatIsLive,enableKb:this.props.enableKb,header:this.getHeader(),allowHtmlHeader:!0,appContext:this.props.appContext,backButton:e,onBackButtonClicked:this._onBackButtonClicked,secondaryHeader:this.getSecondaryHeader()}),t.createElement("div",{id:"content",ref:"content",className:(this.state.modal?"rmz-blur":"")+" "+(!1===this.props.appContext.brand.attribution?"":"attributed")},t.createElement("div",{id:"content-inner",className:"traditional"==this.props.contactMode&&"conversations:new"==this.props.appContext.route?"flex":""},this.getContent()),t.createElement(Reamaze.Attribution,{appContext:this.props.appContext,style:{textAlign:"center",paddingBottom:"5px"}})),this.getFooter(),this.getModal())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Availability=r({displayName:"Reamaze.Conversations.Availability",propTypes:{chatIsLive:i.bool,brand:i.object},render:function(){var e=this.getAvailability();return e?t.createElement("div",{className:"availability"},e):null},getAvailability:function(){return this.props.chatIsLive?this.props.brand.preferences.trans_chat_online:this.props.brand.inOffice||!this.props.brand.nextOfficeTime?this.props.brand.staffResponseTime:this.nextOfficeHour()},nextOfficeHour:function(){return t.createElement("span",null,t.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 93.651 93.651",style:{position:"relative",top:"4px",marginRight:"3px"},width:"18px",height:"18px"},t.createElement("path",{d:"M62.093,73.15c-6.914,6.679-15.97,10.31-25.404,10.31c-1.603,0-3.217-0.105-4.833-0.318  C11.831,80.508-2.318,62.073,0.315,42.047C2.95,22.022,21.38,7.871,41.411,10.506c0.515,0.068,1.024,0.152,1.531,0.24  c0.718,0.125,1.305,0.643,1.519,1.34c0.214,0.697,0.018,1.455-0.506,1.961c-4.536,4.381-7.628,9.811-9.071,15.851h-3.974  c1.243-5.848,3.853-11.21,7.684-15.774c-0.664-0.04-1.325-0.06-1.983-0.06c-16.179,0-30.289,12.023-32.455,28.488  C1.8,60.461,14.453,76.947,32.362,79.303c8.714,1.144,17.36-1.211,24.233-6.511c-6.034-1.719-11.336-4.895-15.584-9.072h5.921  c4.03,3.045,8.826,5.203,14.148,6.13c0.718,0.125,1.305,0.643,1.519,1.34C62.813,71.886,62.618,72.643,62.093,73.15z M71.026,57.598  c0-1.069-0.867-1.937-1.937-1.937h-9.212l10.453-10.555c0.549-0.555,0.712-1.387,0.411-2.108c-0.301-0.721-1.006-1.191-1.787-1.191  h-13.72c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.077L53.858,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.855C70.158,59.535,71.026,58.668,71.026,57.598z   M93.651,57.598c0-1.069-0.867-1.937-1.937-1.937h-9.211l10.453-10.555c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H77.86c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.076L76.484,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.854C92.784,59.535,93.651,58.668,93.651,57.598z   M48.798,57.598c0-1.069-0.867-1.937-1.937-1.937H29.77l18.257-18.436c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H25.127c-1.07,0-1.937,0.867-1.937,1.936c0,1.07,0.867,1.937,1.937,1.937h16.881  L23.751,56.236c-0.55,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h21.735  C47.931,59.535,48.798,58.668,48.798,57.598z",fill:"#FFFFFF",style:{fill:"#fff"}}))," ",function(){var e=new Date(this.props.brand.nextOfficeTime),t=new Date,n=e-t;if(n>864e5||t.getDate()!==e.getDate()){try{if(n<=5184e5)return this.props.brand.preferences.trans_popup_staff_next_available_time+" "+e.toLocaleDateString(window.navigator.language,{weekday:"long"})}catch(r){}return this.props.brand.preferences.trans_popup_staff_next_available_time+" "+Reamaze.Utils.getLocaleDateString(e)}return this.props.brand.preferences.trans_popup_staff_next_available_time+" "+Reamaze.Utils.getLocaleTimeString(e)}.bind(this)())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatBusyMessage=r({displayName:"Reamaze.Conversations.ChatBusyMessage",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},render:function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3);return t.createElement("li",{className:"message staff chat-busy prompt rmz-fade "+(this.state.visible?"in":"")},e.map(function(n,r){return t.createElement("div",{className:"message-user-image",style:{bottom:15*(e.length-r-1)+5+"px"}},t.createElement("img",{src:n.avatarUrl,alt:n.name}))}),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},this.props.appContext.brand.preferences.trans_chat_staff_busy," ",this.props.appContext.brand.preferences.trans_chat_staff_busy_follow_up)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatEndedMessage=r({displayName:"Reamaze.Conversations.ChatEndedMessage",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,conversation:i.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},render:function(){var e,n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3),r=this.props.appContext.brand.preferences.trans_chat_ended.match(/\[(.*?)\]/);return e=r&&r[1]?t.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_chat_ended.replace(/\[(.*?)\]/,'<a href="'+this.props.conversation.permalink+'" target="_blank">$1</a>')}}):t.createElement("div",null,this.props.appContext.brand.preferences.trans_chat_ended),t.createElement("li",{className:"message staff chat-ended prompt rmz-fade "+(this.state.visible?"in":"")},n.map(function(e,r){return t.createElement("div",{className:"message-user-image",style:{bottom:15*(n.length-r-1)+5+"px"}},t.createElement("img",{src:e.avatarUrl,alt:e.name}))}),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},e)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactForm=r({displayName:"Reamaze.Conversations.ContactForm",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,inView:i.bool,override_placeholder:i.string,subject:i.string},getDefaultProps:function(){return{inView:!1}},getInitialState:function(){return{uploading:!1,attachmentsCount:0,showErrors:!1,submitting:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.submitting!=t.submitting||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.showErrors!=t.showErrors},contextTypes:{window:i.object},componentDidMount:function(){e(this.context.window.document).find("#contact_form").on("attachments:add",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount+1}})}.bind(this)).on("attachments:remove",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount-1}})}.bind(this)).on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)).on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),e(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize(n.findDOMNode(this.refs.body))},componentDidUpdate:function(){e(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(n.findDOMNode(this.refs.body))},componentWillUnmount:function(){e(this.context.window.document).find("#contact_form").off("attachments:add").off("attachments:remove").off("attachments:start").off("attachments:done"),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload1)).remove(),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload2)).remove()},_getStyleTag:function(){return t.createElement("style",null,"\n          form#contact_form #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#contact_form input#fileupload {\n            position: absolute;\n          }\n          form#contact_form #fileupload-wrap > div {\n            margin-right: 10px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#contact_form .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#contact_form .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#contact_form.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#contact_form .attachments-error-indicator {\n            display: none;\n          }\n          form#contact_form.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#contact_form .action-bar {\n            text-align: right;\n          }\n          form#contact_form #body-container {\n            margin-bottom: 10px;\n          }\n          form#contact_form #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            min-height: 100%;\n            height: 100px;\n            overflow-y: hidden;\n            -ms-overflow-style: none;\n            resize: none;\n          }\n          form#contact_form .attachment-box {\n            display: none;\n          }\n          form#contact_form .attachment-box.in {\n            display: block;\n          }\n          ")},_onSubmit:function(t){if(t.preventDefault(),t.stopPropagation(),!this.state.uploading&&!this.props.appContext._preview)return e(this.refs.form).find(".input-error").length>0?(this.setState({showErrors:!0}),e(this.refs.form).find(".input-error")[0].scrollIntoView(),void e(this.refs.form).find(".input-error :input")[0].focus()):(this.state.showErrors&&this.setState({showErrors:!1}),this.setState({
submitting:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{formData:e(n.findDOMNode(this.refs.form)).serializeArray()}}),!1)},_submit:function(){e(this.refs.submitButton).click()},_getCaptchas:function(){var e="a_comment_body_hp_"+parseInt(Date.now()/1e3,10);return t.createElement("div",{id:e},t.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),t.createElement("label",{htmlFor:"a_comment_body"},"Do not fill in this field"),t.createElement("textarea",{name:"a_comment_body",id:"a_comment_body",ref:"a_comment_body"}))},render:function(){var e=this.state.messageBlank&&this.state.showErrors,n=!!this.props.currentUser.get("_id");return t.createElement("div",{className:"flex"},this._getStyleTag(),t.createElement("form",{id:"contact_form",method:"POST",className:"upload-attachments popup flex","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"conversation[messages_attributes][0][attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"1.5em 2em 1em 2em"}},this.props.subject&&t.createElement("input",{type:"hidden",name:"conversation[subject]",value:this.props.subject}),t.createElement("fieldset",{disabled:this.state.submitting,id:"new-conversation-fieldset",className:"flex",style:{opacity:this.state.submitting?"0.7":1}},t.createElement("div",{className:"flex flex-column",style:{minHeight:"100%"}},t.createElement(Reamaze.Conversations.ContactFormFields,{appContext:this.props.appContext,category:this.props.category,inView:this.props.inView,currentUser:this.props.currentUser,showIdentity:!n,showCategory:!0,showCustomFields:!0,showErrors:this.state.showErrors}),t.createElement("div",{id:"body-container",className:"flex flex-column flex-grow"},t.createElement("textarea",{name:"message[body]",placeholder:this.props.override_placeholder||this.props.appContext.brand.preferences.trans_body,className:"mousetrap "+(this.state.messageBlank?"input-error":"")+" flex-grow",style:{boxShadow:e?"red 0px 1px 0px 0px":"none"},ref:"body",name:"conversation[messages_attributes][0][body]",required:"required"})),t.createElement("div",{className:"action-bar flex"},t.createElement("div",{className:"attachment-box public"},t.createElement("div",{className:"attachments-list-wrap"},t.createElement("div",{className:"close"},t.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),t.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},t.createElement("li",{className:"attachment-wrap add-attachment"},t.createElement("a",{className:"preview-wrap upload-wrap"},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),t.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),t.createElement("div",{id:"fileupload-wrap",className:(this.state.attachmentsCount>0?"attachment-view":"")+" anim-btn flex-grow"},this.state.uploading&&t.createElement(Reamaze.Spinner,{style:{width:"12px",height:"12px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),t.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),t.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),this.state.attachmentsCount>0&&t.createElement("span",{className:"attachment-count"}),t.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),t.createElement("button",{type:"submit",className:"btn btn-primary anim-btn",disabled:this.state.submitting},this.props.appContext.brand.preferences.trans_send_message))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactFormFields=r({displayName:"Reamaze.Conversations.ContactFormFields",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,category:i.string,inView:i.bool,currentUser:i.object.isRequired,showIdentity:i.bool,showCategory:i.bool,showCustomFields:i.bool,showErrors:i.bool,conversation:i.object},getDefaultProps:function(){return{showIdentity:!0,showCategory:!0,showCustomFields:!0}},componentDidMount:function(){this.focusInput()},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.focusInput()},focusInput:function(){this.setTimeout(function(){this.props.inView&&!this.props.appContext._preview&&this.inputToFocus&&this.inputToFocus.focus()}.bind(this),500)},getIdentityFields:function(){return[t.createElement(Reamaze.Conversations.Field,{field:{type:"text",name:"user[name]",placeholder:this.props.appContext.brand.preferences.trans_name,required:!0,value:this.props.currentUser.get("name")},key:"userName",k:"userName",showErrors:this.props.showErrors,ref:"userName",required:"required",focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation}),t.createElement(Reamaze.Conversations.Field,{field:{type:"email",name:"user[email]",placeholder:this.props.appContext.brand.preferences.trans_email,required:!0,value:this.props.currentUser.get("email")},key:"userEmail",k:"userEmail",ref:"userEmail",required:"required",showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation})]},getCategoryField:function(){if(0==this.props.appContext.brand.categories.length)return null;if(this.props.category&&this.props.appContext.brand.categories.length>1){var e=this.props.appContext.brand.categories.find(function(e){return this.props.category==e.slug}.bind(this));if(e)return t.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:e.id,ref:"category_id"})}return this.props.appContext.brand.categories.length>1?t.createElement("div",{className:"field-container"},t.createElement("select",{id:"conversation_category_id",name:"category_id",ref:"category_id"},this.props.appContext.brand.categories.map(function(e){return t.createElement("option",{value:e.id,key:e.id},e.name)}))):t.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:this.props.appContext.brand.categories[0].id,ref:"category_id"})},getCustomFields:function(){var n=Object.keys(this.props.appContext.customFields||{});return 0==n.length?null:n.map(function(n){var r=e.extend({},this.props.appContext.customFields[n]);return"heading"==r.type?t.createElement("div",{className:"heading",style:{margin:"5px 7px 10px 7px"},pos:r.pos,key:n,dangerouslySetInnerHTML:{__html:r.value}}):("order_number"==r.type&&(r.type="text"),r.name="conversation[data]["+n+"]",t.createElement(Reamaze.Conversations.Field,{pos:r.pos,field:r,key:n,k:n,showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this)}))}.bind(this)).sort(function(e,t){return(parseInt(e.props.pos)||0)-(parseInt(t.props.pos)||0)})},render:function(){return t.createElement("div",null,this.props.showCategory&&this.getCategoryField(),this.props.showIdentity&&this.getIdentityFields(),this.props.showCustomFields&&this.getCustomFields())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Conversation=r({displayName:"Reamaze.Conversations.Conversation",mixins:[TimerMixin],propTypes:{conversation:i.shape({id:i.any,slug:i.string,messages:i.arrayOf(i.object),permalink:i.string,isChat:i.bool,status:i.oneOf(["active","resolved","archived"]),unread:i.bool,loaded:i.bool,outbound:i.bool,outboundData:i.object,pending:i.bool,satisfactionRating:i.object}),scrollContent:i.func,currentUser:i.object,channel:i.any,inView:i.bool,documentVisible:i.bool,appContext:i.object.isRequired,chatIsLive:i.bool,category:i.string},getDefaultProps:function(){return{}},getInitialState:function(){return{typers:{},visible:!1,conversationStartedMessageId:null}},contextTypes:{window:i.object},componentDidMount:function(){this.props.conversation.pending?this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0):this.props.conversation.loaded||this.props.conversation.outbound?this.onConversationFetched():this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:this.props.conversation.slug}}),"conversations:new"==this.props.appContext.route&&this.props.inView&&Reamaze.Analytics.track("New Conversation Form Shown")},componentWillUnmount:function(){this.props.channel&&this.props.channel.unbind("client-status",this._onPusherClientStatusEvent),this.props.channel&&this.props.channel.unbind("pusher:member_removed",this._onMemberRemoved)},componentDidUpdate:function(e,t){if(!this.props.conversation.pending){if(!this.props.conversation.loaded&&!this.props.conversation.outbound)return void(e.conversation&&e.conversation.slug!=this.props.conversation.slug&&this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:this.props.conversation.slug}}));if("conversations:new"==this.props.appContext.route&&this.props.inView!=e.inView&&Reamaze.Analytics.track("New Conversation Form Shown"),this.props.conversation.outbound)return void this.markAsRead();var n=function(e){return e.map(function(e){return e.id})},r=!e.conversation.loaded||n(e.conversation.messages).join(",")!=n(this.props.conversation.messages).join(","),i=Object.keys(t.typers).length<Object.keys(this.state.typers).length;(r||i)&&this.props.scrollContent("b"),!r&&e.inView&&e.documentVisible||this.markAsRead()}},componentWillReceiveProps:function(e){e.conversation.pending||e.conversation.loaded&&!this.props.conversation.loaded&&this.setTimeout(this.onConversationFetched,0);var t=this.props.conversation.isChat&&"archived"==this.props.conversation.status;e.conversation.insertConversationStartedMessageId&&!this._hasStaffMessage()&&this._hasCustomerMessage()&&!t&&this.props.conversation.insertConversationStartedMessageId!=e.conversation.insertConversationStartedMessageId&&this.setState({conversationStartedMessageId:this.props.conversation.messages[this.props.conversation.messages.length-1].id})},onConversationFetched:function(){var e=this.props.conversation.isChat&&"archived"==this.props.conversation.status,t={};this.props.conversation.id&&this.props.conversation.loaded&&!this._hasStaffMessage()&&this._hasCustomerMessage()&&!e&&(!this.props.conversation.botsEnabled&&!this._hasOutboundMessage()||this.props.conversation.botHandoverTimestamp)&&(t.conversationStartedMessageId=this.props.conversation.messages[this.props.conversation.messages.length-1].id),this.checkChatTimeout(),this.setState(t,function(){this.setTimeout(function(){this.props.scrollContent("b"),this.setState({visible:!0})}.bind(this),300)}.bind(this)),this.props.appContext._preview||(this.props.channel&&this.props.channel.bind("client-status",this._onPusherClientStatusEvent),this.props.channel&&this.props.channel.bind("pusher:member_removed",this._onMemberRemoved),this.markAsRead())},markAsRead:function(){if(this.props.inView&&this.props.documentVisible&&this.props.conversation.unread){var e=function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e.slug,props:e}})}.bind(this);if(this.props.conversation.outbound){var t=JSON.parse(JSON.stringify(this.props.conversation));t.unread=!1,e(t)}else!this._hasStaffMessage()&&this._hasBotMessage()?this.setTimeout(function(){this.props.documentVisible&&this._ajaxMarkRead(e)},5e3):this._ajaxMarkRead(e)}},_ajaxMarkRead:function(t){e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/mark_read",type:"POST",data:{sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){t(e.conversation)}.bind(this),crossDomain:!0})},_onPusherClientStatusEvent:function(t){var n=e.extend({},this.state.typers||{});"typing:start"==t.status?n[t.id]=t:"typing:stop"==t.status&&delete n[t.id],this.setState({typers:n})},_onMemberRemoved:function(t){var n=e.extend({},this.state.typers||{});n[t.id]&&(delete n[t.id],this.setState({typers:n}))},_hasOutboundMessage:function(){for(var e=this.props.conversation.messages.length-1;e>=0;e--)if(this.props.conversation.outboundData)return!0;return!1},_hasStaffMessage:function(){for(var e=this.props.conversation.messages.length-1;e>=0;e--)if(this.props.conversation.messages[e].user.isStaff)return!0;return!1},_hasBotMessage:function(){for(var e=this.props.conversation.messages.length-1;e>=0;e--)if(!this.props.conversation.messages[e].user.isStaff&&this.props.conversation.messages[e].user.displayAsStaff)return!0;return!1},_hasCustomerMessage:function(){for(var e=0;e<this.props.conversation.messages.length;e++)if(!this.props.conversation.messages[e].user.displayAsStaff)return!0;return!1},firstCustomerMessage:function(){if(!this.props.conversation.messages)return null;for(var e=0;e<this.props.conversation.messages.length;e++)if(!this.props.conversation.messages[e].user.displayAsStaff)return this.props.conversation.messages[e]},checkChatTimeout:function(){var e=this.firstCustomerMessage();if(this.props.conversation.isChat&&!this._hasStaffMessage()&&!this._hasOutboundMessage()&&e){var t=Date.now()-new Date(e.createdAt).getTime();t<1e3*this.props.appContext.brand.preferences.unserved_chat_timeout&&(this.timeoutId&&this.clearTimeout(this.timeoutId),this.timeoutId=this.setTimeout(this.forceUpdate,1e3*this.props.appContext.brand.preferences.unserved_chat_timeout-t+1e3))}},onMoreDetailsSubmit:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{slug:this.props.conversation.slug,formData:e}})},render:function(){var n=this.state.typers,r=this.props.conversation.messages,i=[];if(this.props.conversation.pending)for(s=r.length-1;s>=0;s--){(p=r[s]).showViewedStatus=!1,i.unshift(t.createElement(Reamaze.Conversations.Message,{key:"message-"+p.id,message:e.extend({},p),conversationSlug:this.props.conversation.slug,currentUser:this.props.currentUser,appContext:this.props.appContext}))}else{if(!this.props.conversation.loaded&&!this.props.conversation.outbound)return t.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:this.props.appContext.brand.styles.widgetColor});for(var o,a,s=r.length-1;s>=0;s--){var p;(p=r[s]).user.displayAsStaff||(p.showViewedStatus=!1,a||(p.showViewedStatus=!0,a=p),p.viewed&&!o&&(p.showViewedStatus=!0,o=p)),this.state.conversationStartedMessageId&&p.id==this.state.conversationStartedMessageId&&i.unshift(t.createElement(Reamaze.Conversations.ConversationStartedMessage,{key:"convo-started-message",appContext:this.props.appContext,isChat:this.props.conversation.isChat,scrollContent:this.props.scrollContent})),i.unshift(t.createElement(Reamaze.Conversations.Message,{key:"message-"+p.id,message:e.extend({},p),conversationSlug:this.props.conversation.slug,currentUser:this.props.currentUser,appContext:this.props.appContext}))}if(this.props.conversation.isChat)if("archived"==this.props.conversation.status)i.push(t.createElement(Reamaze.Conversations.ChatEndedMessage,{key:"chat-ended-message",appContext:this.props.appContext,conversation:this.props.conversation,ref:function(){this.props.scrollContent("b")}.bind(this)})),this.props.conversation.satisfactionRating&&i.push(t.createElement(Reamaze.Conversations.SatisfactionRating,{currentUser:this.props.currentUser,appContext:this.props.appContext,conversation:this.props.conversation,satisfactionRating:this.props.conversation.satisfactionRating}));else{var c=this.firstCustomerMessage();if(c)if(!(this._hasStaffMessage()||this.props.conversation.botsEnabled&&!this.props.conversation.botHandoverTimestamp)){new Date(c.createdAt)<(this.props.conversation.botsEnabled?new Date(new Date(this.props.conversation.botHandoverTimestamp).getTime()-1e3*this.props.appContext.brand.preferences.unserved_chat_timeout):new Date(Date.now()-1e3*this.props.appContext.brand.preferences.unserved_chat_timeout))&&i.push(t.createElement(Reamaze.Conversations.ChatBusyMessage,{key:"chat-busy-message",appContext:this.props.appContext}))}}}return t.createElement("div",{key:"conversation-"+this.props.conversation.id,className:"conversation conversation-react rmz-fade "+(this.state.visible?" in":"")},t.createElement("ul",{id:"messages-list"},i,this.props.conversation.pending&&t.createElement(Reamaze.Conversations.MoreDetailsMessage,{appContext:this.props.appContext,chatIsLive:this.props.chatIsLive,category:this.props.category,inView:this.props.inView,onSubmit:this.onMoreDetailsSubmit,conversation:this.props.conversation,currentUser:this.props.currentUser,scrollContent:this.props.scrollContent,contactMode:this.props.contactMode}),Object.keys(n).map(function(e){var r=n[e];return t.createElement(Reamaze.Conversations.TypingMessage,{user:{avatarUrl:r.image_url,name:r.name,id:r.id,displayAsStaff:r.staff},key:"typing-"+e,appContext:this.props.appContext})}.bind(this))),!!this.props.conversation.promptOptions&&this.props.conversation.promptOptions.length>0&&t.createElement(Reamaze.Conversations.PromptOptions,{onPromptOptionClick:this.props.onPromptOptionClick,promptOptions:this.props.conversation.promptOptions,submitting:this.props.submitting,scrollContent:this.props.scrollContent}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationFooter=r({displayName:"Reamaze.Conversations.ConversationFooter",propTypes:{conversation:i.object,dispatcher:i.object,scrollContentToBottom:i.func,currentUser:i.object,inView:i.bool,chatIsLive:i.bool,blur:i.bool,appContext:i.object.isRequired,submitting:i.bool,onSubmit:i.func.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{showTransitional:this._shouldShowTransitional(this.props)}},componentWillReceiveProps:function(e){this.setState({showTransitional:this._shouldShowTransitional(e)})},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.props.inView!=e.inView||this.props.conversation.status!=e.conversation.status||this.props.conversation.loaded!=e.conversation.loaded||this.props.chatIsLive!=e.chatIsLive||this.props.blur!=e.blur||this.state.showTransitional!=t.showTransitional||this.props.conversation.pending!=e.conversation.pending||this.props.contactMode!=e.contactMode},_shouldShowTransitional:function(e){return(!!e.currentUser.get("anon_id")||!e.currentUser.get("email"))&&e.conversation.loaded},render:function(){if("archived"==this.props.conversation.status&&this.props.conversation.isChat)return null;if(this.props.conversation.pending){if(Object.keys(this.props.appContext.customFields))return null;if(!this.props.currentUser.get("_id")){if("none"==this.props.contactMode||"default"==this.props.contactMode)return null;if("mixed"==this.props.contactMode&&this.props.appContext.brand.chatEnabled&&!this.props.appContext.chatIsLive)return null;if("mixed"==this.props.contactMode&&!this.props.appContext.brand.chatEnabled&&!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime)return null}}return t.createElement("div",{id:"footer",ref:"footer",style:{padding:"10px 0 10px 0"},className:this.props.blur?"rmz-blur":""},t.createElement("style",null,"\n            #conversation-footer .alert:hover {\n              opacity: 0.8;\n            }\n          "),this.state.showTransitional&&t.createElement("div",{className:"alert alert-warning",style:{marginBottom:0,width:"100%",textAlign:"center",cursor:"pointer",fontSize:"0.9em",padding:"8px",position:"relative",top:"-10px"},ref:"transitional",onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"transitional",slug:this.props.conversation.slug}})}.bind(this)},this.props.appContext.brand.preferences.trans_transitional_email_cta),t.createElement(Reamaze.Conversations.RespondForm,{id:this.props.conversation.id,slug:this.props.conversation.slug,isChat:this.props.conversation.isChat,dispatcher:this.props.dispatcher,scrollContentToBottom:this.props.scrollContentToBottom,currentUser:this.props.currentUser,outbound:this.props.conversation.outbound,outboundData:this.props.conversation.outboundData,inView:this.props.inView,ref:"respondForm",chatIsLive:this.props.chatIsLive,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.props.onSubmit,submitting:this.props.submitting}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationList=r({displayName:"Reamaze.Conversations.ConversationList",mixins:[TimerMixin],propTypes:{conversations:i.object,conversationsFetched:i.bool,onMount:i.func,appContext:i.object.isRequired},contextTypes:{window:i.object},getDefaultProps:function(){return{conversations:{}}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.props.onMount(),this.props.conversationsFetched?this.onConversationsFetched():this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS})},componentWillReceiveProps:function(e){e.conversationsFetched&&!this.props.conversationsFetched&&this.onConversationsFetched()},onConversationsFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},getSortedConversations:function(){return Object.keys(this.props.conversations).map(function(e){return this.props.conversations[e]}.bind(this)).sort(function(e,t){if(e.unread&&!t.unread)return-1;if(t.unread&&!e.unread)return 1;var n=new Date(e.messages[e.messages.length-1].createdAt),r=new Date(t.messages[t.messages.length-1].createdAt);return n==r?0:n<r?1:-1})},render:function(){var e=this.props.conversationsFetched?this.getSortedConversations():[],n=this.props.appContext.brand.styles,r=Reamaze.Utils.pSBC(.55,n.headerBgColor)||"#999";return this.props.conversationsFetched?t.createElement("div",null,t.createElement("style",null,"\n              #recent-conversations li {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                cursor: pointer;\n                border-left: 1px solid transparent;\n                padding: 12px 15px;\n                transition: all 0.25s linear;\n                opacity: 0.8;\n              }\n              #recent-conversations li .body {\n                opacity: 0.85;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n                overflow: hidden;\n              }\n              #recent-conversations li.unread {\n                opacity: 1;\n                color: #000;\n                font-weight: bold;\n              }\n              #recent-conversations li:hover,\n              #recent-conversations li.unread:hover {\n                border-left: 1px solid "+n.headerBgColor+";\n              }\n              #recent-conversations li div.icon {\n                color: "+r+";\n                width: 20px;\n                overflow: hidden;\n                font-size: 16px;\n                position: relative;\n              }\n              #recent-conversations li div.icon i {\n                margin-top: -8px;\n                position: relative;\n                top: 50%;\n                display: block;\n                text-align: center;\n              }\n              #recent-conversations li .main .name {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                margin-bottom: 2px;\n                align-items: center;\n              }\n              #recent-conversations li .main .name .thumb {\n                width: 25px;\n                height: 20px;\n                padding-right: 5px;\n              }\n              #recent-conversations li .main .name .thumb img {\n                width: 20px;\n                height: 20px;\n                border-radius: 20px;\n              }\n              #recent-conversations li .main .name .names {\n                width: 100%;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n              }\n              #recent-conversations li .main .name .timestamp {\n                flex-shrink: 0;\n                font-size: 0.8em;\n                white-space: nowrap;\n                color: #aaa;\n                text-align: right;\n              }\n              #recent-conversations li .main {\n                width: 100%;\n                overflow: hidden;\n                padding-left: 10px;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n              }\n            "),t.createElement("ul",{id:"recent-conversations",className:"rmz-fade "+(this.state.visible?"in":"")},e.map(function(e){return t.createElement(Reamaze.Conversations.ConversationListItem,_extends({key:e.id},e,{appContext:this.props.appContext}))}.bind(this)))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationListItem=r({displayName:"Reamaze.Conversations.ConversationListItem",propTypes:{id:i.any.isRequired,slug:i.string.isRequired,messages:i.arrayOf(i.object),isChat:i.bool,status:i.oneOf(["active","resolved","archived"]),unread:i.bool,appContext:i.object.isRequired,outbound:i.bool},getDefaultProps:function(){return{}},contextTypes:{window:i.object},_getNamesToDisplay:function(){for(var e={},t=[],n=this.props.messages.length-1;n>=0;n--){var r=this.props.messages[n].user;r.displayAsStaff&&r.id&&!e[r.id]&&(e[r.id]=1,t.push(r.name))}return t.length||t.push(this.props.appContext.brand.name),t},render:function(){var e="",n=this.props.messages[this.props.messages.length-1];this.props.messages[0];this.props.unread&&(e+=" unread");var r=new Date,i=new Date(n.createdAt);r.toDateString()==i.toDateString()?timestampDisplay=Reamaze.Utils.getLocaleTimeString(i):timestampDisplay=Reamaze.Utils.getLocaleDateString(i);var o,a,s=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces),p=Reamaze.Utils.getUserDisplayDetails(n.user,this.props.appContext.brand,this.props.appContext.faces);return p&&(p.avatarUrls&&(o=p.avatarUrls[0]),a=p.name),o||(o=n.user.avatarUrl||s[0].avatarUrl),a||(a=n.user.name||this.props.appContext.brand.name),t.createElement("li",{className:e,onClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:this.props.slug}}})}.bind(this)},t.createElement("div",{className:"icon"},t.createElement("i",{className:"fas rmzfa rmzfa-"+(this.props.outbound?"rss":"comments")})),t.createElement("div",{className:"main"},t.createElement("div",{className:"name"},t.createElement("div",{className:"thumb"},t.createElement("img",{src:o})),t.createElement("div",{className:"names"},this._getNamesToDisplay().join(", ")),t.createElement("div",{className:"timestamp"},timestampDisplay)),t.createElement("p",{className:"body"},Reamaze.Utils.entitiesDecode(n.body_preview))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationStartedMessage=r({displayName:"Reamaze.Conversations.ConversationStartedMessage",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,isChat:i.bool},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},getMessage:function(){return this.props.isChat&&this.props.appContext.brand.preferences.trans_chat_started?t.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_chat_started}}):this.props.appContext.brand.preferences.trans_popup_new_message_confirmation||this.props.appContext.brand.staffResponseTime?[t.createElement("p",{key:"msg",dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_popup_new_message_confirmation}}),!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime||!this.props.appContext.brand.staffResponseTime?null:t.createElement("p",{key:"resptime"},this.props.appContext.brand.staffResponseTime)]:null},render:function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3),n=this.getMessage(),r=null;return n&&(r=t.createElement("li",{className:"message staff convo-started prompt rmz-fade "+(this.state.visible?"in":""),ref:function(){this.props.scrollContent("b")}.bind(this)},e.map(function(n,r){return t.createElement("div",{className:"message-user-image",style:{bottom:15*(e.length-r-1)+5+"px"}},t.createElement("img",{src:n.avatarUrl,alt:n.name}))}),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},n)))),r}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Css=n({displayName:"Reamaze.Conversations.Css",shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.92,e.headerBgColor)||"#f0f0f0";Reamaze.Utils.pSBC(.55,e.headerBgColor)
;return t.createElement("style",null,'\n        #content-container .flex {\n          display: flex;\n          display: -webkit-box;\n          display: -moz-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          width: 100%;\n        }\n        #content-container .flex.flex-column {\n          flex-direction: column;\n          -webkit-box-direction: normal;\n          -webkit-box-orient: vertical;\n          -moz-box-direction: normal;\n          -moz-box-orient: vertical;\n          -webkit-flex-direction: column;\n          -ms-flex-direction: column;\n        }\n        #content-container .flex-grow {\n          flex-grow: 1;\n          -webkit-box-flex: 1;\n          -moz-box-flex: 1;\n          -webkit-flex-grow: 1;\n          -ms-flex: 1 1 auto;\n        }\n        #content-container form input, form select, form textarea {\n          width: 100%;\n          height: 37px;\n          resize: none;\n          background: transparent;\n        }\n        #content-container form label.checkbox {\n          display: block;\n          margin-bottom: 10px;\n          padding-left: 26px;\n          position: relative;\n          font-size: 14px;\n          background: transparent;\n        }\n        #content-container form label.checkbox input {\n          width: auto;\n          height: auto;\n          margin: 0px;\n          position: absolute;\n          margin-left: -20px;\n          margin-top: 5px;\n        }\n        #content-container form label.checkbox div {\n          line-height: 1.5em;\n          margin-bottom: 10px;\n        }\n        #recent-conversations-container {\n          width: 100%;\n          padding: 15px;\n        }\n        .conversation {\n          padding: 10px;\n        }\n        .conversation .pending-data.message.prompt .message-wrap {\n          width: 100%;\n        }\n        .conversation .pending-data.message.prompt .action-bar {\n          text-align: center;\n          margin: 15px 0 10px 0;\n        }\n        .conversation #messages-list {\n          list-style: none;\n          margin: 0px;\n        }\n        .conversation #messages-list .message {\n          *zoom: 1;\n          padding-bottom: 0px;\n          margin: 17px 0;\n          position: relative;\n        }\n        .conversation #messages-list .message:after {\n          content: "";\n          display: table;\n          clear: both;\n        }\n        .conversation #messages-list .message p {\n          font-size: 14px;\n          margin-bottom: 7px;\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message p:last-child {\n          margin-bottom: 0px;\n        }\n        .conversation #messages-list .message.transitional p {\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message .message-outer-wrap {\n          margin-left: 50px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message .message-user-image {\n          bottom: 5px;\n          left: 0px;\n          float: left;\n          overflow: hidden;\n          position: relative;\n          -moz-border-radius: 40px;\n          -webkit-border-radius: 40px;\n          border-radius: 40px;\n          width: 40px;\n          height: 40px;\n          position: absolute;\n          border: 1px solid #fcfcfc;\n        }\n        .conversation #messages-list .message .message-user-image img {\n          width: 100%;\n          height: 100%;\n        }\n        .conversation #messages-list .message .message-meta {\n          font-size: 90%;\n          color: #999;\n        }\n        .conversation #messages-list .message .message-feedback {\n          white-space: nowrap;\n        }\n        .conversation #messages-list .message .message-feedback a {\n          color: #999;\n        }\n        .conversation #messages-list .message .message-feedback .icon {\n          font-size: 90%;\n        }\n        .conversation #messages-list .message .message-feedback a:hover .icon {\n          text-decoration: none;\n        }\n        .conversation #messages-list .message .timestamp {\n          color: #888;\n        }\n        .conversation #messages-list .message .attachments {\n          margin-bottom: 10px;\n          margin-left: 0;\n          padding: 0px;\n          font-size: 95%;\n        }\n        .conversation #messages-list .message .attachments.images li {\n          display: inline-block;\n        }\n        .conversation #messages-list .message .attachments.images li img {\n          padding: 5px;\n          margin-right: 5px;\n          background: white;\n          border: 1px solid #dfdfdf;\n        }\n        .conversation #messages-list .message .attachments.other li {\n          list-style: none;\n        }\n        .conversation #messages-list .message .attachments h5 {\n          font-size: 100%;\n        }\n        .conversation #messages-list .message ul {\n          margin: 0 0 10px 25px;\n          list-style: disc;\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message ol {\n          margin: 0 0 10px 25px;\n          list-style: decimal;\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message a {\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message .message-wrap {\n          display: inline-block;\n          margin-bottom: 5px;\n          position: relative;\n          max-width: calc(100% - 10px);\n          background: '+n+";\n          padding: 15px 20px;\n          -moz-border-radius: 20px 20px 20px 0;\n          -webkit-border-radius: 20px 20px 20px 0;\n          border-radius: 20px 20px 20px 0;\n          /* transform z-index hack */\n          -moz-transform: rotate(0deg);\n          -ms-transform: rotate(0deg);\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          -moz-border-radius: 20px 20px 0 20px;\n          -webkit-border-radius: 20px 20px 0 20px;\n          border-radius: 20px 20px 0 20px;\n        }\n        .conversation #messages-list .message.convo-started .message-wrap {\n          padding: 20px;\n        }\n        .conversation #messages-list .message.pending {\n          opacity: 0.5;\n          color: silver;\n        }\n\n        .conversation #messages-list .message.customer {\n          text-align: right;\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          text-align: left;\n          background-color: "+(e.headerBgColor||"#e0f6ff")+";\n          color: "+(e.headerFontColor||"white")+"\n        }\n        .conversation #messages-list .message.customer .message-wrap a {\n          color: "+(e.headerFontColor||"white")+';\n          text-decoration: underline;\n        }\n        .conversation #messages-list .message.customer .message-outer-wrap {\n          margin-left: 0px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message.customer .message-meta {\n          text-align: right;\n        }\n\n        .conversation.chat #messages-list {\n          padding-bottom: 20px;\n        }\n        .conversation.chat #typing-indicator {\n          color: #999;\n          font-size: 12px;\n          margin-top: -20px;\n          margin-bottom: 10px;\n          margin-left: 60px;\n        }\n        @media screen and (max-width: 480px) {\n          .conversation.chat #typing-indicator {\n            margin-left: 45px;\n          }\n        }\n\n        .typing-indicator-dots {\n          font-size: 18px;\n          font-weight: bold;\n          margin-top: -3px;\n          color: #999;\n        }\n        .typing-indicator-dots .one {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.0s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.0s;\n        }\n        .typing-indicator-dots .two {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.2s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.2s;\n        }\n        .typing-indicator-dots .three {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.3s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.3s;\n        }\n\n        @-webkit-keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n        @keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n\n        .conversation #messages-list .message pre {\n          display: block;\n          padding: 11px;\n          margin: 0 0 12px;\n          line-height: 23px;\n          word-break: break-all;\n          word-wrap: break-word;\n          white-space: pre;\n          background-color: #f5f5f5;\n          color: #333;\n          border: 1px solid #ccc;\n          border: 1px solid rgba(0,0,0,0.15);\n          border-radius: 4px;\n          overflow-x: auto;\n        }\n\n        .conversation #messages-list .message code {\n          font-family: "Source Code Pro", Menlo, Consolas, "Courier New", monospace;\n        }\n\n        #content-container .rmz-blur {\n          -webkit-filter: blur(2px);\n          filter: blur(2px);\n          filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);\n          opacity: 0.8;\n        }\n\n        .alert {\n          font-size: 0.9em;\n          margin: 0;\n          border-radius: 0;\n          border: 0;\n        }\n\n        .has-float-label label, .has-float-label > span {\n          left: 6px;\n          top: -4px;\n        }\n\n        .has-float-label input:focus + *, .has-float-label select:focus + *, .has-float-label textarea:focus + * {\n          color: '+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label input:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label select:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label textarea:not(:placeholder-shown):not(.placeholder-shown) + *\n        {\n          color: "+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label select {\n          padding-top: 10px;\n          margin-bottom: 10px;\n        }\n\n        .template-card{\n          background: "+n+";\n        }\n\n        .prompt-options-container {\n          text-align: right;\n          margin-bottom: 10px;\n          transition: opacity 0.5s;\n          opacity: 1;\n          max-width: 75%;\n          margin-right: 0;\n          margin-left: auto;\n        }\n\n        .prompt-options-container.hidden {\n          opacity: 0;\n        }\n\n        .prompt-option {\n          background: white;\n          border: 1px solid "+(e.headerBgColor||"#e0f6ff")+";\n          color: "+(e.headerBgColor||"white")+";\n          border-radius: 5px;\n          padding: 6px 20px;\n        }\n\n        .prompt-option-li {\n          margin: 5px;\n          display: inline-block;\n        }\n\n        .prompt-option-li:first-child {\n          margin-top: 0px;\n        }\n\n        .prompt-option:hover, .prompt-option.selected {\n          cursor: pointer;\n          background: "+(e.headerBgColor||"#e0f6ff")+";\n          color: white;\n        }\n\n        .prompt-option:disabled {\n          opacity: 0.7;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Field=r({displayName:"Reamaze.Conversations.Field",propTypes:{k:i.string,field:i.object,showErrors:i.bool,focusInput:i.func,onChange:i.func,conversation:i.object},getInitialState:function(){return{error:!1,value:"dropdown"!==this.props.field.type?this.props.field.value:null}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&e.conversation.errors.includes(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)&&"email"==this.props.field.type&&this.setState({error:!0})},handleChange:function(e){this.validate(),this.setState({value:e.target.value},function(){this.props.onChange&&this.props.onChange(this.state.value)}.bind(this))},componentDidMount:function(){this.validate()},validate:function(){var t=n.findDOMNode(this.input);this.props.field.required&&"false"!=this.props.field.required&&("checkbox"===t.type?this.setState({error:!t.checked}):this.setState({error:!e(t).val()}))},render:function(){var e,n=this.props.field,r=this.props.k;this.props.field.pos&&(e=t.createElement("input",{type:"hidden",name:"field_pos["+this.props.field.pos+"]",value:r}));var i={};if(this.props.showErrors&&this.state.error&&(i.boxShadow="0 1px 0px 0px red"),"object"==typeof n){if("hidden"==n.type)return[t.createElement("input",{type:"hidden",key:r,name:Reamaze.Utils.entitiesDecode(n.name),value:Reamaze.Utils.entitiesDecode(n.value),ref:function(e){this.input=e}.bind(this)}),e];var o={name:Reamaze.Utils.entitiesDecode(n.name),defaultValue:Reamaze.Utils.entitiesDecode(n.value),placeholder:Reamaze.Utils.entitiesDecode(n.label?n.placeholder||r:" "),required:!!n.required},a={};return this.props.showErrors&&this.state.error&&(a.color="red"),"dropdown"==n.type?(o.defaultValue=Reamaze.Utils.entitiesDecode(n.label||n.placeholder||r),t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:a},t.createElement("div",{className:"has-float-label"},t.createElement("select",_extends({id:"input-"+r},o,{onChange:this.handleChange,style:i,className:this.state.value?"":"placeholder-shown",ref:function(e){this.input=e}.bind(this)}),t.createElement("option",{disabled:"disabled"},o.defaultValue),n.value.map(function(e){return t.createElement("option",{value:e,key:e},Reamaze.Utils.entitiesDecode(e))})),t.createElement("label",{htmlFor:"input-"+r},Reamaze.Utils.entitiesDecode(n.label||n.placeholder||r))),e)):"checkbox"==n.type?(delete o.defaultValue,n.value&&"false"!=n.value&&(o.defaultChecked=!0),t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:a},t.createElement("label",{className:"checkbox",style:a},t.createElement("input",{name:o.name,type:"hidden",value:"no"}),t.createElement("input",_extends({type:"checkbox"},o,{value:"yes",onChange:this.handleChange,style:i,ref:function(e){this.input=e}.bind(this)})),t.createElement("div",null,Reamaze.Utils.entitiesDecode(n.placeholder||r))),e)):t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:a},t.createElement("label",{className:"has-float-label"},t.createElement("input",_extends({type:n.type},o,{onChange:this.handleChange,style:i,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this)})),t.createElement("span",null,Reamaze.Utils.entitiesDecode(n.label||n.placeholder||r))),e)}return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Conversations"),Reamaze.Conversations.Message=createReactClass({displayName:"Reamaze.Conversations.Message",propTypes:{message:PropTypes.shape({id:PropTypes.any.isRequired,user:PropTypes.shape({avatarUrl:PropTypes.string,name:PropTypes.string,displayAsStaff:PropTypes.bool}),createdAt:PropTypes.any,body:PropTypes.string,viewed:PropTypes.bool,showViewedStatus:PropTypes.bool,imageAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,thumbUrl:PropTypes.string.isRequired,url:PropTypes.string.isRequired})),otherAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,name:PropTypes.string.isRequired,url:PropTypes.string.isRequired,size:PropTypes.string.isRequired})),appreciated:PropTypes.bool,meta:PropTypes.object,pendingData:PropTypes.object,pending:PropTypes.bool,errored:PropTypes.bool}),conversationSlug:PropTypes.string,currentUser:PropTypes.object,appContext:PropTypes.object.isRequired},getDefaultProps:function(){return{}},shouldComponentUpdate:function(e){return this.props.message.viewed!=e.message.viewed||this.props.message.showViewedStatus!=e.message.showViewedStatus||this.props.message.appreciated!=e.message.appreciated},_onAppreciateClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id}}),this.props.appContext._preview||$jq.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/messages/"+this.props.message.id+"/votes/post?sparams="+encodeURIComponent($jq.param({sso:this.props.currentUser.ssoData()})),type:"GET",error:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id,error:!0}})}.bind(this),crossDomain:!0})},getMeta:function(){if(!this.props.message.meta||!this.props.message.meta.buttons||!this.props.message.meta.buttons.length)return null;var buttons=this.props.message.meta.buttons&&this.props.message.meta.buttons.map(function(button,idx){if(button.response||button.dismiss||button.pushprompt)return!1;var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText,style:{maxWidth:"250px",display:"block",margin:"0 auto 10px auto"}};return button.url&&(buttonProps.href=button.url,button.target?buttonProps.target=button.target:buttonProps.target="_blank"),button.script?buttonProps.onClick=function(event){event.stopPropagation(),"string"==typeof button.script?eval(button.script):"function"==typeof button.script&&button.script()}.bind(this):button.url&&(buttonProps.onClick=function(e){e.stopPropagation()}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn anim-btn-shadow",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this));return buttons.every(function(e){return 0==e})?null:React.createElement("div",{style:{marginTop:"15px"}},React.createElement("div",{style:{textAlign:"center"}},buttons))},template:function(){return React.createElement("div",{style:{marginBottom:"5px"}},React.createElement(Reamaze.Conversations.MessageTemplate,{template:this.props.message.template,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message}))},_uploadingAttachmentsText:function(e,t){return e.replace(/{{.*}}/g,function(e){var n=e.indexOf(":"),r=e.substring(n+1,e.length-2).split(",").map(function(e){return e.trim().replace(/['"]/g,"")}),i=r[0];return t>1&&(i=1==r.length?r[0]+"s":r[1]),t+" "+i})},render:function(){var e,t=null,n=null;this.props.message.imageAttachments&&(t=React.createElement("ul",{className:"attachments images"},this.props.message.imageAttachments.map(function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("img",{src:e.thumbUrl})))}))),this.props.message.otherAttachments&&(n=React.createElement("ul",{className:"attachments other"},React.createElement("h4",null,React.createElement("i",{className:"fas rmzfa rmzfa-paperclip"})),this.props.message.otherAttachments.map(function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("a",{href:e.url,target:"_blank"},e.name)," ",e.size)}))),this.props.message.user.displayAsStaff&&this.props.message.user.id&&(e=React.createElement("span",{className:"message-feedback"},this.props.message.appreciated?React.createElement("i",{className:"icon fas rmzfa rmzfa-heart"}):React.createElement("a",{href:"javascript:;",onClick:this._onAppreciateClick,ref:"appreciateLink"},React.createElement("i",{className:"icon far rmzfa rmzfa-heart"})," ",React.createElement("span",{className:"feedback-label"},this.props.appContext.brand.preferences.trans_contact_us_appreciate))));var r=null;if(this.props.message.pendingData){var i=this.props.message.pendingData.message.attachment_ids;i&&i.length>0&&(r=React.createElement("p",{style:{textAlign:"right"}},React.createElement("i",{className:"fas rmzfa rmzfa-upload"})," ",this._uploadingAttachmentsText(this.props.appContext.brand.preferences.trans_attaching,i.length)))}var o=this.props.message.body;o||t||n||r||(o=this.props.appContext.brand.preferences.trans_empty_message);var a=React.createElement("div",{className:"message-body"+(this.props.message.body?"":" empty"),dangerouslySetInnerHTML:{__html:o}}),s=new Date,p=new Date(this.props.message.createdAt),c="";c=s.toDateString()==p.toDateString()?Reamaze.Utils.getLocaleTimeString(p):Reamaze.Utils.getLocaleDateString(p)+" "+Reamaze.Utils.getLocaleTimeString(p);var l,u,d,h=String.fromCharCode(183),f=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces),m=Reamaze.Utils.getUserDisplayDetails(this.props.message.user,this.props.appContext.brand,this.props.appContext.faces);return m&&(m.avatarUrls&&(l=m.avatarUrls[0]),u=m.name),l||(l=this.props.message.user.avatarUrl),u||(u=this.props.message.user.name||this.props.appContext.brand.name),d=l?[{avatarUrl:l,name:u}]:f.slice(0,3),React.createElement("li",{id:"message-"+this.props.message.id,className:"message "+(this.props.message.user.displayAsStaff?"staff":" customer")+" "+(this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"pending":"")+" "+(this.props.message.faux?"faux":"")},this.props.message.user.displayAsStaff&&d.map(function(e,t){var n=this.props.message.faux?-5:0;return n+=13*(d.length-t-1),React.createElement("div",{className:"message-user-image",key:"staff-avatar-"+t,style:{bottom:n+"px"}},React.createElement("img",{src:e.avatarUrl,alt:e.name}))}.bind(this)),React.createElement("div",{className:"message-outer-wrap"},React.createElement("div",{className:"message-wrap"},a,this.getMeta(),t,n,r),this.props.message.template&&this.template(),!this.props.message.faux&&React.createElement("div",{className:"message-meta"},this.props.message.pendingData||this.props.message.user.id&&this.props.message.user.id==this.props.currentUser.get("_id")?null:u+" "+h," ",!this.props.message.pendingData&&c," ",!this.props.message.showViewedStatus||this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"":h+" "+(this.props.message.viewed?this.props.appContext.brand.preferences.trans_contact_us_viewed:this.props.appContext.brand.preferences.trans_contact_us_sent),this.props.message.pending&&React.createElement("span",null," \u2026 "),this.props.message.errored&&React.createElement("span",{style:{fontWeight:"bold",color:"rgb(255, 0, 0)"}}," ! "),this.props.message.pendingData&&React.createElement("span",null," ",this.props.appContext.brand.preferences.trans_contact_us_pending)," ",e?h+" ":"",e)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.MessageTemplate=r({displayName:"Reamaze.Conversations.MessageTemplate",propTypes:{template:i.object.isRequired,appContext:i.object.isRequired,currentUser:i.object.isRequired,message:i.object.isRequired},render:function(){var e={list:Reamaze.Conversations.TemplateList,text:Reamaze.Conversations.TemplateText},n=[];return this.props.template.data.components.forEach(function(r,i){var o=e[r.type];n.push(t.createElement("div",{className:"template-card card",style:{display:"inline-block",margin:"0px",minWidth:"200px"}},t.createElement(o,{key:r.type+"-"+i,componentData:r,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message})))}.bind(this)),t.createElement("div",null,n)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Modal=r({displayName:"Reamaze.Conversations.Modal",render:function(){var n=e.extend({position:"absolute",padding:"15px",width:"100%",background:"#fff",boxShadow:"0 0px 20px 0px rgba(0,0,0,0.3)",textAlign:"center"},this.props.style||{});return t.createElement("div",{id:"rmz-conversation-modal"},t.createElement("div",{id:"rmz-conversation-modal-overlay",style:{position:"absolute",top:0,left:0,bottom:0,right:0},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)}),t.createElement("div",{id:"rmz-conversation-modal-content",style:n},this.props.children))}}),Reamaze.Conversations.EmailTranscriptModal=r({displayName:"Reamaze.Conversations.EmailTranscriptModal",mixins:[TimerMixin],propTypes:{dispatcher:i.object,conversationSlug:i.string,currentUser:i.object,style:i.object,appContext:i.object.isRequired},getInitialState:function(){return{submitting:!1,submitted:!1,error:!1}},componentDidMount:function(){this.setTimeout(function(){this.refs.email_transcript_input&&n.findDOMNode(this.refs.email_transcript_input).focus()}.bind(this),0)},_emailTranscript:function(t){if(t.preventDefault(),t.stopPropagation(),!this.props.appContext._preview){var r=n.findDOMNode(this.refs.email_transcript_input).value;this.setState({submitting:!0,error:!1}),e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/email_transcript",type:"POST",data:{sparams:e.param({sso:this.props.currentUser.ssoData()}),transcript_email:r},success:function(){this.setState({submitted:!0},function(){this.setTimeout(function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),3e3)}.bind(this))}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this),crossDomain:!0})}},render:function(){var e={width:"200px"};return this.state.error&&(e.border="1px solid red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_email_transcript),this.state.submitted&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}),this.state.submitting&&!this.state.submitted&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&!this.state.submitted&&t.createElement("form",{onSubmit:this._emailTranscript,ref:"form",id:"emailTranscriptForm"},t.createElement("div",{style:{marginBottom:"10px"}},t.createElement("input",{type:"email",ref:"email_transcript_input",placeholder:this.props.appContext.brand.preferences.trans_email,style:e,required:!0})),t.createElement("div",{style:{position:"relative"}},t.createElement("button",{type:"submit",key:"yes",className:"btn btn-link",style:{fontSize:"24px"}},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{key:"no",href:"javascript:;",className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"})))))}}),Reamaze.Conversations.EndChatModal=r({displayName:"Reamaze.Conversations.EndChatModal",mixins:[TimerMixin],propTypes:{dispatcher:i.object,conversationSlug:i.string,currentUser:i.object,style:i.object,appContext:i.object.isRequired},getInitialState:function(){return{submitting:!1}},_endChat:function(){this.props.appContext._preview||(this.setState({submitting:!0}),e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/end_chat",type:"POST",data:{sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CHAT_ENDED,payload:{conversationSlug:e.conversation.slug,props:{status:"archived",satisfactionRating:e.conversation.satisfactionRating}}})}.bind(this),error:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0}))},render:function(){return t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_end_chat_confirmation_header),this.state.submitting&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&t.createElement("div",null,t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px"},onClick:this._endChat},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"}))))}}),Reamaze.Conversations.TransitionalModal=r({displayName:"Reamaze.Conversations.TransitionalModal",mixins:[TimerMixin],propTypes:{dispatcher:i.object,conversationSlug:i.string,currentUser:i.object,style:i.object,appContext:i.object.isRequired},getInitialState:function(){return{submitting:!1,error:!1,success:!1,email:"",name:""}},handleChange:function(){this.setState({email:n.findDOMNode(this.refs.email).value,name:n.findDOMNode(this.refs.name).value,canSubmit:!!n.findDOMNode(this.refs.email).value&&!!n.findDOMNode(this.refs.name).value})},componentDidMount:function(){Reamaze.sessionStorage.setItem("tx_prompt",1),n.findDOMNode(this.refs.name).focus()},componentDidUpdate:function(){this.state.success&&this.setTimeout(function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),1e3)},_onFormSubmit:function(t){t.preventDefault(),t.stopPropagation(),!this.props.appContext._preview&&this.state.canSubmit&&(this.setState({submitting:!0}),e.ajax({url:this.props.currentUser.get("_id")?this.props.appContext.baseDataUrl+"/data/users/"+this.props.currentUser.get("_id")+"/transition":this.props.appContext.baseDataUrl+"/data/users",type:"POST",data:{email:n.findDOMNode(this.refs.email).value,name:n.findDOMNode(this.refs.name).value,sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){var t=this.props.currentUser.getAnonymousId();this.props.currentUser.set("_id",e.id),this.props.currentUser.setAnonymousId(e.anonymous_id),this.props.currentUser.set("email",e.email),this.props.currentUser.set("name",e.name),this.setState({success:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:t}})}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this)}))},render:function(){var e={width:"100%"};return this.state.error&&(e.boxShadow="0 1px 0px 0px red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("form",{onSubmit:this._onFormSubmit},t.createElement("p",{style:{marginBottom:"1em"}},this.props.appContext.brand.preferences.trans_transitional_email_prompt),t.createElement("fieldset",{style:{position:"relative",opacity:this.state.submitting?"0.5":1,marginBottom:"1em"},disabled:this.state.submitting},t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-name",type:"text",name:"name",ref:"name",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.name?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_name)),t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-email",type:"email",name:"email",ref:"email",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.email?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_email))),t.createElement("div",{style:{textAlign:"center"}
},!this.state.success&&t.createElement("button",{href:"javascript:;",className:"btn anim-btn",disabled:!this.state.canSubmit||this.state.submitting,style:{borderRadius:"14px"}},t.createElement("i",{className:"fas rmzfa rmzfa-arrow-right",style:{verticalAlign:"middle",marginTop:"-2px"}})),!this.state.success&&t.createElement("button",{className:"btn btn-link anim-btn",style:{fontSize:"24px",marginLeft:"1em",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times",style:{position:"relative",top:"-1px"}})),this.state.success&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.MoreDetailsMessage=r({displayName:"Reamaze.Conversations.MoreDetailsMessage",mixins:[TimerMixin],propTypes:{conversation:i.object.isRequired,appContext:i.object.isRequired,category:i.string,chatIsLive:i.bool,inView:i.bool,onSubmit:i.func.isRequired,currentUser:i.object.isRequired,scrollContent:i.func},getInitialState:function(){return{visible:!1,showErrors:!1}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&this.setState({showErrors:!0})},componentDidMount:function(){var t=!0;e(n.findDOMNode(this)).find("input[type!=hidden],select,textarea,.heading").not("input[type=submit]").length>0&&(t=!1),t?this.onSubmit():(this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300),this.scrollToView())},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.scrollToView()},scrollToView:function(){this.setTimeout(function(){this.props.inView&&!this.props.appContext._preview&&this.props.scrollContent(n.findDOMNode(this).offsetTop-30)}.bind(this),500)},onSubmit:function(t){t&&(t.preventDefault(),t.stopPropagation());var r=e(n.findDOMNode(this));return r.find(".input-error").length>0?(r.find(".input-error")[0].scrollIntoView(),r.find(".input-error :input")[0].focus(),void this.setState({showErrors:!0})):(this.props.onSubmit(e(n.findDOMNode(this.refs.form)).serializeArray()),!1)},render:function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3),n=this.props.currentUser.isIdentified()||"anonymous"==this.props.contactMode||"mixed"==this.props.contactMode&&this.props.chatIsLive||"mixed"==this.props.contactMode&&!this.props.appContext.brand.chatEnabled&&(this.props.appContext.brand.inOffice||!this.props.appContext.brand.nextOfficeTime);return t.createElement("li",{className:"message staff pending-data prompt rmz-fade "+(this.state.visible?"in":"")},t.createElement("form",{ref:"form",onSubmit:this.onSubmit},e.map(function(n,r){return t.createElement("div",{className:"message-user-image",style:{bottom:15*(e.length-r-1)+5+"px"}},t.createElement("img",{src:n.avatarUrl,alt:n.name}))}),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},t.createElement("fieldset",{disabled:this.props.conversation.saving,id:"new-conversation-fieldset",style:{opacity:this.props.conversation.saving?"0.7":1}},t.createElement("p",{style:{padding:"5px 5px",color:"#888"}},this.props.appContext.brand.preferences.trans_popup_more_details_needed),t.createElement("div",null,t.createElement(Reamaze.Conversations.ContactFormFields,{appContext:this.props.appContext,category:this.props.category,inView:this.props.inView,currentUser:this.props.currentUser,showIdentity:!n,showCategory:!this.props.chatIsLive&&(!this.props.conversation.outbound||this.props.conversation.enableOutboundCustomFields),showCustomFields:!this.props.conversation.outbound||this.props.conversation.enableOutboundCustomFields,showErrors:this.state.showErrors,conversation:this.props.conversation}),t.createElement("div",{className:"action-bar"},t.createElement("input",{type:"submit",tabIndex:"-1",style:{display:"none"}}),t.createElement("button",{className:"btn btn-primary anim-btn",disabled:this.props.conversation.saving},this.props.appContext.brand.preferences.trans_send_message))))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewConversationFooter=r({displayName:"Reamaze.Conversations.NewConversationFooter",propTypes:{appContext:i.object.isRequired,inView:i.bool.isRequired,onSubmit:i.func,chatIsLive:i.bool,conversations:i.object.isRequired,buttonMode:i.bool},getDefaultProps:function(){return{buttonMode:!1,conversationsCount:0}},getInitialState:function(){return{showNewConversationButton:this.props.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)}},shouldComponentUpdate:function(e,t){return this.props.chatIsLive!=e.chatIsLive||this.props.inView!=e.inView||this.props.buttonMode!=e.buttonMode||this.state.showNewConversationButton!=t.showNewConversationButton},componentWillReceiveProps:function(e){this.setState({showNewConversationButton:e.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)})},shouldShowNewConversationButton:function(e,t){return Object.keys(e||{}).some(function(t){return e[t].id&&"*"!=(""+e[t].id).charAt(0)}.bind(this))&&"conversations:new"!=t},_getMostRecentActiveClassicLiveChat:function(){var e=null,t=0,n=this.props.conversations;return(n=(n=Object.keys(n).map(function(e){return n[e]})).filter(function(e){return e.isChat&&("active"==e.status||"resolved"==e.status)})).forEach(function(n){var r=n.messages.sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}),i=new Date(r[0].createdAt).getTime();i>t&&(e=n,t=i)}),e},newConversation:function(){Reamaze.Analytics.track("New Conversation Button Clicked");var e=this._getMostRecentActiveClassicLiveChat();e?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:e.slug}}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new"}})},newConversationButtonText:function(){return this.props.chatIsLive?this.props.appContext.brand.preferences.trans_chat_new_chat:this.props.appContext.brand.inOffice||!this.props.appContext.brand.nextOfficeTime?this.props.appContext.brand.preferences.trans_popup_new_conversation_prompt:this.props.appContext.brand.preferences.trans_popup_new_conversation_ooo_prompt},render:function(){var n={textAlign:"center"};return this.state.showNewConversationButton&&(n.boxShadow="0 5px 25px 0 rgba(0,0,0,0.05)"),this.props.style&&e.extend(n,this.props.style),t.createElement("div",{id:"footer",ref:"footer",style:n},t.createElement("style",null,"\n            #footer a.btn {\n              margin: 0 12px;\n            }\n          "),!this.state.showNewConversationButton&&t.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,chatIsLive:this.props.chatIsLive,inView:this.props.inView,focus:"conversations:new"==this.props.appContext.route}),this.state.showNewConversationButton&&t.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:this.newConversation,style:{marginBottom:"5px"}},this.newConversationButtonText()),this.props.showConversationsCount&&this.props.conversationsCount>0&&t.createElement("a",{href:"javascript:;",className:"anim-btn btn btn-link anim-btn-shadow",style:{margin:"0 5px 5px 5px",padding:"5px 10px",border:"1px solid "+this.props.appContext.brand.styles.buttonBgColor,textDecoration:"none"},onClick:this.props.onConversationsCountClick},t.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),t.createElement("span",{style:{verticalAlign:"middle",marginLeft:"5px"}},this.props.conversationsCount)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewMessage=r({displayName:"Reamaze.Conversations.NewMessage",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,onSubmit:i.func.isRequired,onFocus:i.func,onTypingStart:i.func,onTypingStop:i.func,focus:i.bool,inView:i.bool,chatIsLive:i.bool},getDefaultProps:function(){return{focus:!1,inView:!0}},getInitialState:function(){return this.throttledOnKeyUp=e.throttle(250,this.onKeyUp),this.debouncedOnTypingStart=e.throttle(3e3,this.onTypingStart),this.debouncedOnTypingStop=e.throttle(500,this.onTypingStop),{uploading:!1,attachmentsCount:0,messageBlank:!0,showErrors:!1,typing:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.showErrors!=t.showErrors||this.props.chatIsLive!=e.chatIsLive},contextTypes:{window:i.object},componentDidMount:function(){e(this.context.window.document).find("#new_message").on("attachments:add",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount+1}})}.bind(this)),e(this.context.window.document).find("#new_message").on("attachments:remove",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount-1}})}.bind(this)),e(this.context.window.document).find("#new_message").on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)),e(this.context.window.document).find("#new_message").on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),e(this.context.window).trigger("app:reinitjs"),this.props.focus&&this.setTimeout(function(){this.refs.body&&this.props.inView&&!this.props.appContext._preview&&n.findDOMNode(this.refs.body).focus()}.bind(this),0),this.context.window.Mousetrap.bind({"mod+enter":this._insertNewline}),this.refs.body&&this.context.window.autosize(n.findDOMNode(this.refs.body))},componentDidUpdate:function(){e(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(n.findDOMNode(this.refs.body))},componentWillUnmount:function(){e(this.context.window.document).find("#new_message").off("attachments:add"),e(this.context.window.document).find("#new_message").off("attachments:remove"),e(this.context.window.document).find("#new_message").off("attachments:start"),e(this.context.window.document).find("#new_message").off("attachments:done"),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload1)).remove(),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload2)).remove(),this.context.window.Mousetrap.unbind("mod+enter")},_insertNewline:function(){var t=e(this.refs.body),r=t.val(),i=t.prop("selectionStart");t.val(r.slice(0,i)+"\n"+r.slice(i)),t.prop("selectionEnd",i+1),t.blur().focus(),this.context.window.autosize.update(n.findDOMNode(this.refs.body))},_getStyleTag:function(){return t.createElement("style",null,"\n          form#new_message #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#new_message input#fileupload {\n            position: absolute;\n          }\n          form#new_message #fileupload-wrap > div {\n            margin-right: 5px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#new_message .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#new_message .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#new_message.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#new_message .attachments-error-indicator {\n            display: none;\n          }\n          form#new_message.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#new_message #submit-container button {\n            border: 0;\n            background: none;\n            cursor: pointer;\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            font-size: 16px;\n            padding: 0;\n          }\n          form#new_message #submit-container button:disabled {\n            color: "+this.props.appContext.brand.styles.bodyLinkDisabledColor+";\n          }\n          form#new_message #action-bar {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: none;\n            position: relative;\n          }\n          .attributed form#new_message #action-bar {\n            padding-bottom: 5px;\n          }\n          form#new_message #action-bar #body-container {\n            padding: 0px 8px 0px 5px;\n            width: 100%;\n            -ms-flex: 1;\n            -moz-flex: 1;\n            -webkit-flex: 1;\n            flex: 1;\n          }\n          form#new_message #action-bar #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            max-height: 4em;\n            min-height: 32px;\n            height: 32px;\n            overflow-y: auto;\n            resize: none;\n          }\n          form#new_message #action-bar #live-indicator {\n            font-size: 8px;\n            color: limegreen;\n            position: absolute;\n            top: 11px;\n            left: -6px;\n          }\n          form#new_message #action-bar #error-indicator {\n            font-size: 11px;\n            color: #f00;\n            position: absolute;\n            top: 9px;\n            left: -7px;\n          }\n          form#new_message .attachment-box {\n            display: none;\n          }\n          form#new_message .attachment-box.in {\n            display: block;\n          }\n          form#new_message #submit-container button {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            height: 30px;\n            width: 39px;\n            border-radius: 14px;\n            line-height: 30px;\n            margin-left: 5px;\n            position: relative;\n          }\n          ")},_validateMessage:function(t){this.setState({messageBlank:!e.trim(e(n.findDOMNode(this.refs.body)).val())},function(){t&&t()})},_onSubmit:function(t){return t.preventDefault(),t.stopPropagation(),this._validateMessage(function(){this.state.uploading||(e(this.refs.form).find(".input-error").length>0?this.setState({showErrors:!0}):(this.state.showErrors&&this.setState({showErrors:!1}),this.setTimeout(function(){var t=n.findDOMNode(this.refs.body),r={body:e(t).val(),a_comment_body:e(n.findDOMNode(this.refs.a_comment_body)).val()},i=e(n.findDOMNode(this)).find('#attachments-list input[name="message[attachment_ids][]"]');i.length>0&&(r.attachment_ids=[],i.each(function(e,t){r.attachment_ids.push(t.value)})),this.props.onSubmit(r),e(n.findDOMNode(this)).find("#attachments-list li").not(".add-attachment").remove(),this.setState({attachmentsCount:0}),e(t).val(""),this.context.window.autosize.update(t)}.bind(this),0)))}.bind(this)),!1},_submit:function(){e(this.refs.submitButton).click()},_getCaptchas:function(){var e="a_comment_body_hp_"+parseInt(Date.now()/1e3,10);return t.createElement("div",{id:e},t.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),t.createElement("label",{htmlFor:"a_comment_body"},"Do not fill in this field"),t.createElement("textarea",{name:"a_comment_body",id:"a_comment_body",ref:"a_comment_body"}))},onKeyUp:function(t){this._validateMessage(),e(t.target).val().trim().length>0?this.debouncedOnTypingStart(t):this.debouncedOnTypingStop(t)},onKeyPress:function(e){this.props.appContext.isMobileBrowser||13!=e.which||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),this._submit())},onBlur:function(e){this.debouncedOnTypingStop(e)},onTypingStart:function(e){this.props.onTypingStart&&(e.persist(),this.props.onTypingStart(e))},onTypingStop:function(e){this.props.onTypingStop&&(e.persist(),this.props.onTypingStop(e))},render:function(){var e=this.state.messageBlank&&0==this.state.attachmentsCount,n=e&&this.state.showErrors;return t.createElement("div",{id:"new_message_container"},this._getStyleTag(),t.createElement("form",{id:"new_message",method:"POST",className:"upload-attachments popup","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"message[attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"0 15px"}},t.createElement("div",{className:"attachment-box public"},t.createElement("div",{className:"attachments-list-wrap"},t.createElement("div",{className:"close"},t.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),t.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},t.createElement("li",{className:"attachment-wrap add-attachment"},t.createElement("a",{className:"preview-wrap upload-wrap"},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),t.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),this._getCaptchas(),t.createElement("div",{id:"action-bar"},t.createElement("div",{id:"body-container"},t.createElement("textarea",{name:"message[body]",placeholder:this.props.appContext.brand.preferences.trans_body,onFocus:this.props.onFocus,onKeyUp:function(e){e.persist(),this.throttledOnKeyUp(e)}.bind(this),onKeyPress:this.onKeyPress,onBlur:this.onBlur,className:"mousetrap "+(e?"input-error":""),style:{boxShadow:n?"red 0px 1px 0px 0px":"none"},ref:"body"})),t.createElement("div",{id:"fileupload-wrap",className:(this.state.attachmentsCount>0?"attachment-view":"")+" anim-btn"},this.state.uploading&&t.createElement(Reamaze.Spinner,{style:{width:"12px",height:"12px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),t.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),t.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),this.state.attachmentsCount>0&&t.createElement("span",{className:"attachment-count"}),t.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),t.createElement("div",{id:"submit-container"},t.createElement("button",{type:"submit",ref:"submitButton",disabled:this.state.uploading,className:"anim-btn",title:this.props.appContext.brand.preferences.trans_popup_reply},t.createElement("svg",{width:"17px",height:"17px",viewBox:"0 0 535.5 535.5",style:{enableBackground:"new 0 0 535.5 535.5",position:"relative",top:"3px",left:"1px"}},t.createElement("g",null,t.createElement("polygon",{fill:"#fff",points:"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75"}))))),n&&t.createElement("div",{id:"error-indicator"},t.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"})),this.props.chatIsLive&&!n&&t.createElement("div",{id:"live-indicator"},t.createElement("i",{className:"fas rmzfa rmzfa-circle"})))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.PromptOptions=r({displayName:"Reamaze.Conversations.PromptOptions",propTypes:{onPromptOptionClick:i.func.isRequired,promptOptions:i.array.isRequired,submitting:i.bool.isRequired,scrollContent:i.func.isRequired},getInitialState:function(){return{visible:!1,selectedPrompt:null}},componentDidMount:function(){this.setState({visible:!0})},onPromptOptionClick:function(e,t){var n={body:t};this.setState({selectedPrompt:e.target.id}),this.props.onPromptOptionClick(n)},render:function(){var e=[];this.props.promptOptions.forEach(function(n,r){var i=this,o="prompt-option";o+=this.state.selectedPrompt=="prompt-option-"+r?" selected":"",e.push(t.createElement("li",{className:"prompt-option-li",key:"prompt-option-"+r},t.createElement("button",{id:"prompt-option-"+r,disabled:this.props.submitting,onClick:function(e){return i.onPromptOptionClick(e,n)},className:o},n)))}.bind(this));var n="prompt-options-container";return n+=this.state.visible?"":" hidden",t.createElement("ul",{className:n,ref:function(){this.props.scrollContent("b")}.bind(this)},e)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.RespondForm=r({displayName:"Reamaze.Conversations.RespondForm",mixins:[TimerMixin],propTypes:{id:i.any.isRequired,slug:i.string.isRequired,isChat:i.bool,dispatcher:i.object,scrollContentToBottom:i.func,currentUser:i.object,inView:i.bool,outbound:i.bool,outboundData:i.object,chatIsLive:i.bool,appContext:i.object.isRequired,onSubmit:i.func,submitting:i.bool},getDefaultProps:function(){return{}},contextTypes:{window:i.object},componentDidMount:function(){e(this.context.window).trigger("app:reinitjs")},componentDidUpdate:function(){e(this.context.window).trigger("app:reinitjs")},getMessageChannel:function(){var e=this.props.appContext.getPusher();return e?e.channel("presence-conversation-"+this.props.id):null},onInputFocus:function(){this.props.scrollContentToBottom()},typing:!1,onTypingStart:function(t){var n=this.getMessageChannel();!n||n.members.count<2||(this.typing=!0,n.trigger("client-status",{name:"Customer",status:"typing:start",staff:!1,url:window.location.href,text:e(t.target).val()}))},onTypingStop:function(){var e=this.getMessageChannel();!e||e.members.count<2||this.typing&&(this.typing=!1,e.trigger("client-status",{name:"Customer",status:"typing:stop",staff:!1}))},render:function(){return t.createElement("div",{id:"responder",style:{opacity:this.props.submitting?"0.4":1}},t.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,onFocus:this.onInputFocus,onTypingStart:this.onTypingStart,onTypingStop:this.onTypingStop,focus:!0,inView:this.props.inView,chatIsLive:this.props.chatIsLive}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.SatisfactionRating=r({displayName:"SatisfactionRating",mixins:[TimerMixin],getInitialState:function(){return{commentProcessing:!1,commentSaved:!1,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},updateRating:function(t){e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{rating:t},sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:this.props.conversation.slug,props:{satisfactionRating:e}}})}.bind(this),crossDomain:!0})},updateComment:function(t){this.setState({commentProcessing:!0,commentSaved:!1},function(){e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{comment:t},sparams:e.param({sso:this.props.currentUser.ssoData()})}}).always(function(){this.setState({commentProcessing:!1,commentSaved:!0})}.bind(this))}.bind(this))},render:function(){return t.createElement("li",{className:"card fade "+(this.state.visible?"in":""),style:{margin:"1em"}},t.createElement("style",null,'\n            #ratings {\n              display: -ms-flexbox;\n              display: -ms-flex;\n              display: -moz-flex;\n              display: -webkit-flex;\n              display: flex;\n              flex-wrap: nowrap;\n            }\n            #ratings:after {\n              display: block;\n              content: "";\n              position: absolute;\n              background: #eaeaea;\n              top: 50%;\n              left: 10%;\n              right: 10%;\n              height: 3px;\n              margin-top: -4px;\n              z-index: 0;\n            }\n            #ratings .rating {\n              display: block;\n              width: 20%;\n              box-sizing: border-box;\n              padding: 5%;\n              vertical-align: middle;\n              transition: transform 0.4s;\n              position: relative;\n              z-index: 1;\n            }\n            #ratings .rating.selected {\n              transform: scale(1.3);\n            }\n            #ratings .rating .svg-wrapper {\n              width: 100%;\n              border-radius: 50%;\n              cursor: pointer;\n              height: 0;\n              padding-top: 100%;\n              position: relative;\n            }\n            #ratings .rating svg {\n              position: absolute;\n              left: 0;\n              top: 0;\n            }\n            #ratings .rating.off .off {\n              display: inline-block;\n            }\n            #ratings .rating.off .on {\n              display: none;\n            }\n            #ratings .rating.selected .off {\n              display: none;\n            }\n            #ratings .rating.selected .on {\n              display: inline-block;\n            }\n          '),t.createElement("div",null,this.props.conversation.satisfactionRating&&this.props.satisfactionRating.rating&&t.createElement("div",null,t.createElement("i",{className:"rmzfa fas rmzfa-check",style:{display:"block",margin:"0.3em auto",fontSize:"18px",lineHeight:"40px",height:"40px",width:"40px",borderRadius:"50%",background:"#e9efef",color:"#9bb3b3",textAlign:"center"}}),t.createElement("h1",{style:{fontSize:"1.3em",textAlign:"center",marginBottom:"5px"}},this.props.appContext.brand.preferences.trans_survey_thanks_header),t.createElement("p",{style:{marginBottom:"20px",textAlign:"center",color:"#8b8d96"}},this.props.appContext.brand.preferences.trans_survey_thanks_message)),t.createElement("p",{style:{marginTop:"20px",textAlign:"center",color:"#8b8d96",fontSize:"90%"}},this.props.appContext.brand.preferences.trans_survey_ratings_prompt),t.createElement("div",{style:{width:"100%",maxWidth:"400px",margin:"0.3em auto",position:"relative"}},t.createElement("div",{id:"ratings"},t.createElement("div",{id:"rating-1",className:"rating "+(1==this.props.satisfactionRating.rating?"selected":"off")},t.createElement("div",{className:"svg-wrapper on"},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-82.857 -420.934)"},t.createElement("circle",{r:"217.143",cy:"638.076",cx:"300",fill:"#ffa683"}),t.createElement("path",{d:"M394.357 601.72c0 16.568-13.43 30-30 30-16.568 0-29.955-12.177-30-30l35.5-28c16.568.164 24.5 11.43 24.5 28zM199.857 600.72c0 16.568 13.432 30 30 30 16.57 0 29.956-12.177 30-30l-35.5-28c-16.567.164-24.5 11.43-24.5 28z",fill:"#352d2b"}),t.createElement("path",{d:"M358.204 730.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),t.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,1)},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-42.857 -206.648)"},t.createElement("circle",{cx:"260",cy:"423.791",r:"217.143",fill:"#d7d7d7"}),t.createElement("path",{d:"M354.357 387.434c0 16.568-13.43 30-30 30-16.568 0-29.955-12.176-30-30l35.5-28c16.568.165 24.5 11.43 24.5 28zM159.857 386.434c0 16.568 13.432 30 30 30 16.57 0 29.956-12.176 30-30l-35.5-28c-16.567.165-24.5 11.43-24.5 28z",fill:"#fff"}),t.createElement("path",{d:"M318.204 516.248c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),t.createElement("div",{id:"rating-2",className:"rating "+(2==this.props.satisfactionRating.rating?"selected":"off")},t.createElement("div",{className:"svg-wrapper on"},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-128.57 -298.077)"},t.createElement("circle",{cx:"345.714",cy:"515.219",r:"217.143",fill:"#ffc083"}),t.createElement("path",{d:"M302.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM440.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M403.918 607.677c-35.382-27.914-88.223-27.713-122.388 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),t.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,2)},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-97.143 -200.934)"},t.createElement("circle",{r:"217.143",cy:"418.076",cx:"314.286",fill:"#d7d7d7"}),t.createElement("path",{d:"M270.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM408.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),t.createElement("path",{d:"M372.49 510.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),t.createElement("div",{id:"rating-3",className:"rating "+(3==this.props.satisfactionRating.rating?"selected":"off")},t.createElement("div",{className:"svg-wrapper on"},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-60 -192.362)"},t.createElement("circle",{cx:"277.143",cy:"409.505",r:"217.143",fill:"#ffe183"}),t.createElement("path",{d:"M233.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM371.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M210.413 492.835h125.482",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),t.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,3)},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-125.714 -206.648)"},t.createElement("circle",{r:"217.143",cy:"423.791",cx:"342.857",fill:"#d7d7d7"}),t.createElement("path",{d:"M299.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM437.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),t.createElement("path",{d:"M276.128 507.12h125.48",fill:"#fff",fillRule:"evenodd",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),t.createElement("div",{id:"rating-4",className:"rating "+(4==this.props.satisfactionRating.rating?"selected":"off")},t.createElement("div",{className:"svg-wrapper on"},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-37.143 -212.362)"},t.createElement("circle",{r:"217.143",cy:"429.505",cx:"254.286",fill:"#ffe583"}),t.createElement("path",{d:"M210.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM348.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M149.53 496.77c60 40.194 149.6 39.905 207.533 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),t.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,4)},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-162.857 -86.648)"},t.createElement("circle",{cx:"380",cy:"303.791",r:"217.143",fill:"#d7d7d7"}),t.createElement("path",{d:"M336.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM474.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),t.createElement("path",{d:"M275.245 371.056c59.998 40.194 149.598 39.904 207.532 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"
}))))),t.createElement("div",{id:"rating-5",className:"rating "+(5==this.props.satisfactionRating.rating?"selected":"off")},t.createElement("div",{className:"svg-wrapper on"},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-14.286 -103.79)"},t.createElement("circle",{cx:"231.429",cy:"320.934",r:"217.143",fill:"#ffeb83"}),t.createElement("path",{d:"M187.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM325.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M137.143 381.22h182s.532 68.682-90.968 68.682c-90.525 0-91.032-68.683-91.032-68.683z",fill:"#352d2b",fillRule:"evenodd",stroke:"#000"})))),t.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,5)},t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-148.57 -149.505)"},t.createElement("circle",{r:"217.143",cy:"366.648",cx:"365.714",fill:"#d7d7d7"}),t.createElement("path",{d:"M322.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM460.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#faf8fa"}),t.createElement("path",{d:"M271.43 426.934h182s.53 68.682-90.97 68.682c-90.525 0-91.03-68.682-91.03-68.682z",fill:"#faf8fa",fillRule:"evenodd"}))))))),this.props.satisfactionRating.rating&&t.createElement("form",{onSubmit:function(e){e.preventDefault(),this.updateComment(this.textarea.value)}.bind(this)},t.createElement("label",{htmlFor:"comment",style:{textAlign:"center",color:"#a0a4a6",display:"block",fontSize:"90%",marginBottom:"15px"}},this.props.appContext.brand.preferences.trans_survey_comment_prompt),t.createElement("textarea",{id:"comment",ref:function(e){this.textarea=e}.bind(this),onChange:function(){this.state.commentSaved&&this.setState({commentSaved:!1})}.bind(this),placeholder:this.props.appContext.brand.preferences.trans_survey_comment_placeholder,defaultValue:this.props.conversation.satisfactionRating.comment,style:{display:"block",width:"100%",height:"70px",boxSizing:"border-box",padding:"10px",border:"1px solid #e8e8e8",boxShadow:"none",marginBottom:"15px",resize:"none"}}),t.createElement("div",{style:{textAlign:"right"}},t.createElement("i",{className:"rmzfa fas rmzfa-check",style:{marginRight:"20px",color:"rgb(36, 213, 143)",fontSize:"20px",transition:"0.3s",opacity:this.state.commentSaved?"1.0":"0.0"}}),t.createElement("button",{className:"btn anim-btn anim-btn-shadow",disabled:this.state.commentProcessing||this.state.commentSaved},this.props.appContext.brand.preferences.trans_survey_comment_submit)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateAnchorAction=r({displayName:"Reamaze.Conversations.TemplateAnchorAction",propTypes:{action:i.object.isRequired,appContext:i.object.isRequired,currentUser:i.object.isRequired,message:i.object.isRequired},doAction:function(){if(this.props.action.uuid){var t={uuid:this.props.action.uuid,message_id:this.props.message.id,name:this.props.action.name};Reamaze.localStorage.setItem("messageTemplate.lastAction",JSON.stringify({name:this.props.action.name,timestamp:Date.now()})),"url"===this.props.action.type&&(t.action_type="click"),t.sparams=e.param({sso:this.props.currentUser.ssoData()}),e.ajax({url:this.props.appContext.baseDataUrl+"/data/message_template_events",type:"POST",data:t})}},render:function(){var e="url"===this.props.action.type?this.props.action.url:"javascript:void(0)",n="url"===this.props.action.type?"_blank":null;return t.createElement("a",{href:e,target:n,onClick:this.doAction,style:{color:"inherit",opacity:"1",display:"table",width:"100%"}},this.props.children)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateIcon=r({displayName:"Reamaze.Conversations.TemplateIcon",propTypes:{icon:i.string.isRequired,appContext:i.object.isRequired},render:function(){var e={book:"rmzfa fas rmzfa-book",truck:"rmzfa fas rmzfa-truck",external_link:"rmzfa fas rmzfa-external-link-alt"}[this.props.icon];e||(e=null);var n=this.props.appContext.brand.styles;return t.createElement("div",{className:"template-icon",style:{color:n.headerBgColor}},t.createElement("i",{className:""+e}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateList=r({displayName:"Reamaze.Conversations.TemplateList",propTypes:{componentData:i.object.isRequired,appContext:i.object.isRequired,currentUser:i.object.isRequired,message:i.object.isRequired},renderList:function(){var e=[];return this.props.componentData.items.forEach(function(n,r){var i=n.title.length>40?n.title.substring(0,40)+"...":n.title,o=n.subtitle.length>40?n.subtitle.substring(0,40)+"...":n.subtitle;e.push(t.createElement("div",{key:"template-list-item-"+r,className:"template-list-item",style:{padding:"12px 15px",borderLeft:"1px solid transparent"}},t.createElement("div",{style:{minHeight:"36px"}},t.createElement(Reamaze.Conversations.TemplateAnchorAction,{action:n.action,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message},n.icon&&t.createElement("div",{style:{display:"table-cell",verticalAlign:"middle",width:"26px"}},t.createElement(Reamaze.Conversations.TemplateIcon,{icon:n.icon,appContext:this.props.appContext})),t.createElement("div",{style:{display:"table-cell",overflow:"hidden"}},t.createElement("div",{style:{fontWeight:"bold"}},t.createElement(Reamaze.Conversations.TemplateText,{text:i})),o&&t.createElement(Reamaze.Conversations.TemplateText,{text:o}))))))}.bind(this)),t.createElement("div",null,e)},render:function(){var e=this.props.appContext.brand.styles;return t.createElement("div",{className:"template-list"},t.createElement("style",null,"\n              .template-list .template-list-item:hover {\n                border-left: 1px solid "+e.headerBgColor+" !important;\n              }\n            "),t.createElement("div",{className:"card-body full"},this.renderList()))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateText=r({displayName:"Reamaze.Conversations.TemplateText",propTypes:{text:i.string.isRequired},render:function(){return t.createElement("div",null,this.props.text)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TypingMessage=r({displayName:"Reamaze.Conversations.TypingMessage",propTypes:{user:i.object.isRequired,appContext:i.object.isRequired},shouldComponentUpdate:function(e){return this.props.user.id!=e.user.id},render:function(){return t.createElement("li",{id:"typing-message-"+this.props.user.id,className:"message typing"+(this.props.user.displayAsStaff?"":" customer")},t.createElement("div",{className:"message-user-image"},t.createElement("img",{src:this.props.user.avatarUrl,alt:this.props.user.name})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},t.createElement("div",{className:"message-wrap2"},t.createElement("div",{className:"message-body"},t.createElement("div",{className:"typing-indicator-dots"},t.createElement("span",{className:"one"},"."),t.createElement("span",{className:"two"},"."),t.createElement("span",{className:"three"},"."))))),t.createElement("div",{className:"message-meta"},t.createElement("i",null,this.props.appContext.brand.preferences.trans_chat_typing.replace(/\{\{ user \}\}/,this.props.user.name)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Hub"),Reamaze.Hub.ACTIONS={};var o=function(e,t){return t.type,null};Reamaze.Hub.App=r({displayName:"Reamaze.Hub.App",mixins:[TimerMixin],propTypes:{chatIsLive:i.bool,enableKb:i.bool,currentUser:i.object,active:i.bool,onAppMounted:i.func,contactHeader:i.string,conversations:i.object,conversationsFetched:i.bool,appContext:i.object.isRequired,label:i.any,category:i.string},contextTypes:{window:i.object},getDefaultProps:function(){return{}},getInitialState:function(){var t=new Reamaze.Dispatcher,n=function(t){var n=e.extend({},this.state);n.effects=[],(n=o(n,t))&&this.setState(n)}.bind(this);return t.register(n),this.props.appContext.dispatcher.register(n),{dispatcher:t,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};if(t.currentUser!=this.state.currentUser||t.inView!=this.state.inView||t.chatIsLive!=this.state.chatIsLive){if(!this.state.inView&&t.inView&&this.checkRedirectToConversationsNew())return;this.setState(t)}},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,1e4),this.state.inView&&(this.checkRedirectToConversationsNew()||Reamaze.Analytics.track("Hub Shown"))},componentDidUpdate:function(e,t){this.state.inView&&!t.inView&&Reamaze.Analytics.track("Hub Shown")},checkRedirectToConversationsNew:function(){var e=this.props.conversations&&!!Object.keys(this.props.conversations).length,t=this.props.appContext.apps,n=this.props.enableKb&&this.props.appContext.brand.kb&&t.faq&&t.faq.enabled,r=Object.keys(t).some(function(e){return"faq"!=e&&!!t[e].enabled});return!(e||n||r)&&(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{noback:!0}}}),!0)},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},goToStatus:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index",routeParams:{noback:!0}}})},getBanner:function(){if(!(this.props.appContext.brand.activeIncidents.length>0))return null;var e=this.props.appContext.brand.activeIncidents.reduce(function(e,t,n){return 0===n?t.title:e+", "+t.title},"");return t.createElement("div",{className:"alert alert-warning",style:{margin:"20px 20px 0 20px",paddingLeft:"19px",paddingRight:"14px",display:"flex"}},t.createElement("span",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:1}},e)," ",t.createElement("a",{href:"javascript:void(0)",style:{textAlign:"right"},onClick:this.goToStatus},this.props.appContext.brand.preferences.trans_status_view_status_button))},getContent:function(){var n=[],r=this.props.appContext.apps;return this.props.enableKb&&this.props.appContext.brand.kb&&r.faq&&r.faq.enabled&&n.push(t.createElement(Reamaze.Shared.Card,{id:"search-kb-card",key:"search-kb-card",appContext:this.props.appContext,loading:!1},t.createElement("style",null,"\n          #search-kb-card .rmzfa-search {\n            position: absolute;\n            top: 3px;\n            right: 0px;\n            color: #bbb;\n          }\n        "),t.createElement("div",{className:"card-header"},r.faq&&r.faq.header?r.faq.header:this.props.appContext.brand.preferences.trans_hub_faq_header),t.createElement("div",{className:"card-body"},t.createElement("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target).find("input.search").val();return Reamaze.Analytics.track("Hub:FAQ Search",n),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?q="+encodeURIComponent(n)}}}),!1}.bind(this)},t.createElement("input",{type:"text",className:"search",placeholder:r.faq&&r.faq.placeholder?r.faq.placeholder:this.props.appContext.brand.preferences.trans_hub_faq_placeholder}),t.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),t.createElement("button",{className:"btn btn-link fas rmzfa rmzfa-search"}))))),r.orders&&r.orders.enabled&&n.push(t.createElement(Reamaze.Hub.Orders.App,{key:"orders-card",appContext:this.props.appContext,currentUser:this.props.currentUser})),this.props.conversations&&!!Object.keys(this.props.conversations).length&&n.push(t.createElement(Reamaze.Shared.Card,{id:"conversation-list-card",key:"conversation-list-card",appContext:this.props.appContext,loading:!this.props.conversationsFetched},t.createElement("div",{className:"card-header"},r.recentConversations&&r.recentConversations.header?r.recentConversations.header:this.props.appContext.brand.preferences.trans_hub_conversations_header),t.createElement("div",{className:"card-body full"},t.createElement("div",{style:{marginTop:"-5px"}},t.createElement(Reamaze.Conversations.ConversationList,{conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,onMount:function(){},appContext:this.props.appContext}))))),n},render:function(){if(!this.props.active)return null;this.props.conversations&&Object.keys(this.props.conversations).length;return t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement("style",null,"\n\n        "),t.createElement(Reamaze.Shared.Header,{chatIsLive:this.state.chatIsLive,enableKb:this.props.enableKb,header:this.props.contactHeader,allowHtmlHeader:!0,appContext:this.props.appContext}),t.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed"},this.getBanner(),t.createElement("div",{id:"content-inner",style:{padding:"20px 0 10px 0"}},this.getContent()),t.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",paddingTop:"5px",paddingBottom:"5px"}})),t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,buttonMode:!0,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.App=r({mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired},contextTypes:{window:i.object},getDefaultProps:function(){return{}},getInitialState:function(){return{ordersFetched:!1,orders:[],order:null,route:"index"}},componentDidMount:function(){this.setTimeout(this.fetchOrders.bind(this,3),0)},fetchOrders:function(t){this.props.currentUser.isSSOUser()?e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:{limit:t,sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({ordersFetched:!0,orders:e.orders||[]})}.bind(this),crossDomain:!0}):this.setState({orders:[],ordersFetched:!0})},showAllOrders:function(){Reamaze.Analytics.track("Hub:Orders View All"),this.setState({route:"allOrders",ordersFetched:!1},this.fetchOrders.bind(this,100))},findOrder:function(t,n){return Reamaze.Analytics.track("Hub:Orders Search"),e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:e.extend({},t,{sparams:e.param({sso:this.props.currentUser.ssoData()})}),success:function(e){e.orders[0]?this.setState({order:e.orders[0],route:"search"}):n()}.bind(this),error:n,crossDomain:!0}),!1},goToIndex:function(){this.setState({route:"index"})},getContent:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences;return"index"==this.state.route||"allOrders"==this.state.route?this.state.orders.length>0?t.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:"allOrders"==this.state.route?this.state.orders:this.state.orders.slice(0,2),currentUser:this.props.currentUser}):t.createElement("div",{style:{padding:"0 20px"}},e.orders.no_orders||n.trans_hub_orders_no_orders):"search"==this.state.route?this.state.order?t.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:[this.state.order],currentUser:this.props.currentUser}):t.createElement(Reamaze.Hub.Orders.FindOrder,{appContext:this.props.appContext,findOrder:this.findOrder,backButton:this.goToIndex}):void 0},getFooter:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences;return"index"==this.state.route||"allOrders"==this.state.route?t.createElement("div",{className:"card-footer"},"index"==this.state.route&&this.state.orders.length>2&&t.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{marginRight:"0.8em"},onClick:function(){this.showAllOrders()}.bind(this)},e.orders.order_history_button_text||n.trans_hub_orders_order_history_button_text),t.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||n.trans_hub_orders_find_order_button_text),"allOrders"==this.state.route&&t.createElement("a",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},n.trans_popup_back)):"search"==this.state.route&&this.state.order?t.createElement("div",{className:"card-footer"},t.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||n.trans_hub_orders_find_order_button_text),t.createElement("a",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},n.trans_popup_back)):void 0},render:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences;return t.createElement(Reamaze.Shared.Card,{id:"orders-card",appContext:this.props.appContext,loading:!this.state.ordersFetched},t.createElement("style",null,"\n        #orders-card input {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        #orders-card input:focus {\n          opacity: 1;\n        }\n      "),t.createElement("div",{className:"card-header"},e.orders.header||n.trans_hub_orders_header),t.createElement("div",{className:"card-body full"},this.getContent()),this.getFooter())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.FindOrder=r({displayName:"Reamaze.Hub.Orders.FindOrder",mixins:[TimerMixin],getInitialState:function(){return{loading:!1,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var r=this.props.appContext.apps,i=this.props.appContext.brand.preferences;this.props.appContext.brand.styles;return t.createElement("form",{ref:"form",onSubmit:function(t){return t.preventDefault(),t.stopPropagation(),e(n.findDOMNode(this.refs.form)).find(":focus").blur(),this.setState({loading:!0}),this.props.findOrder({orderEmail:this.refs.orderEmail.value,orderNumber:this.refs.orderNumber.value},function(){this.setState({error:!0,loading:!1})}.bind(this)),!1}.bind(this),disabled:this.state.loading,className:"rmz-fade "+(this.state.visible?"in":"")},t.createElement("div",{style:{opacity:this.state.loading?"0.6":1,padding:"0 20px"}},t.createElement("div",null,t.createElement("input",{type:"text",name:"orderNumber",ref:"orderNumber",placeholder:r.orders.order_number_placeholder||i.trans_hub_orders_order_number_placeholder,required:!0})," ",t.createElement("br",null),t.createElement("input",{type:"email",name:"email",ref:"orderEmail",placeholder:r.orders.order_email_placeholder||i.trans_hub_orders_order_email_placeholder,required:!0})),t.createElement("div",null,t.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),t.createElement("button",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{paddingTop:"8px"},disabled:this.state.loading},t.createElement("i",{className:"fas rmzfa rmzfa-search"})),this.props.backButton&&t.createElement("a",{className:"btn btn-link",onClick:this.props.backButton,style:{marginLeft:"10px"}},i.trans_popup_back),this.state.error&&t.createElement("span",{style:{marginLeft:"1em",color:"#ea4d4a"}},t.createElement("i",{className:"rmzfa fas rmzfa-exclamation-circle"})," ",r.orders.find_order_error||i.trans_hub_orders_find_order_error))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderList=r({displayName:"Reamaze.Hub.Orders.OrderList",mixins:[TimerMixin],propTypes:{orders:i.array,appContext:i.object},getDefaultProps:function(){return{orders:[]}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.onFetched()},componentWillReceiveProps:function(){},onFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var e=this.props.appContext.brand.styles;return t.createElement("div",null,t.createElement("style",null,"\n          #order-list {\n            margin-top: -5px;\n          }\n          #order-list li {\n            cursor: pointer;\n            border-left: 1px solid transparent;\n            transition: all 0.25s linear;\n            padding: 12px 20px;\n          }\n          #order-list li:hover {\n            border-left: 1px solid "+e.headerBgColor+";\n          }\n          #order-list li > a {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: nowrap;\n            -ms-flex-wrap: nowrap;\n            -ms-flex-pack: justify;\n            justify-content: space-between;\n            color: #333;\n          }\n          #order-list li .right {\n            text-align: right;\n          }\n          #order-list li .meta {\n            opacity: 0.7;\n          }\n          #order-list .shipments, #order-list .note {\n            margin-top: 3px;\n          }\n          #order-list .note .rmzfa {\n            margin-right: 5px;\n            opacity: 0.7;\n            float: left;\n            margin-top: 1px;\n          }\n          #order-list .shipments .shipment {\n            margin-left: 15px;\n            margin-top: 3px;\n          }\n        "),t.createElement("ul",{id:"order-list",className:"rmz-fade "+(this.state.visible?"in":"")},this.props.orders.map(function(e){return t.createElement(Reamaze.Hub.Orders.OrderListItem,{key:e.id,order:e,appContext:this.props.appContext,currentUser:this.props.currentUser})}.bind(this))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderListItem=r({displayName:"Reamaze.Hub.Orders.OrderListItem",getInitialState:function(){return{fetching:!1,shipments:null}},fetchShipments:function(){this.setState({fetching:!0},function(){e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders/"+this.props.order.id+"/shipments",type:"GET",data:{sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({fetching:!1,shipments:e.shipments||[]})}.bind(this),error:function(){this.setState({fetching:!1})},crossDomain:!0})}.bind(this))},render:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences,r=this.props.appContext.brand.styles,i=Reamaze.Utils.pSBC(.95,r.headerBgColor)||"#fafafa",o=r.widgetColor;return t.createElement("li",null,t.createElement("a",{href:this.props.order.url?this.props.order.url:"javascript:;",target:this.props.order.url?"_blank":"_self",onClick:function(){Reamaze.Analytics.track("Hub:Orders Order Clicked"),"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&this.fetchShipments()}.bind(this)},t.createElement("div",null,t.createElement("div",{style:{color:o}},e.orders.order_name_prefix||n.trans_hub_orders_order_name_prefix," ",this.props.order.name,this.props.order.url&&t.createElement("i",{className:"rmzfa fas rmzfa-external-link-alt",style:{margin:0,fontSize:"13px",position:"relative",bottom:"1px"}})),t.createElement("div",{className:"meta",style:{textDecoration:"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments?"underline":"none"}},e.orders["fulfillment_"+this.props.order.status]||n["trans_hub_orders_fulfillment_"+this.props.order.status]||this.props.order.status||""," ","bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&t.createElement("span",null,"\xbb"))),t.createElement("div",{className:"right"},t.createElement("div",{className:"meta"},new Date(this.props.order.date).toLocaleDateString()),t.createElement("div",null,this.props.order.total))),e.orders.enable_notes&&this.props.order.note&&t.createElement("div",{className:"note"},t.createElement("i",{className:"rmzfa far rmzfa-sticky-note"}),t.createElement("div",{dangerouslySetInnerHTML:{__html:Reamaze.Utils.simpleFormat(this.props.order.note)}})),this.state.fetching&&t.createElement("div",null,t.createElement(Reamaze.Spinner,{xColor:r.widgetColor,bgColor:i,style:{margin:"1em auto",width:"30px",transform:"scale(0.8)"}})),this.state.shipments&&t.createElement("div",{className:"shipments"},t.createElement("div",null,e.orders.shipments||n.trans_hub_orders_shipments),this.state.shipments.map(function(r,i){return t.createElement("div",{key:i,className:"shipment"},i+1,". ",t.createElement("a",{href:r.url?r.url:"javascript:;",target:"_blank"},r.provider," ",r.tracking_number||e.orders.no_tracking_number||n.trans_hub_orders_no_tracking_number))}.bind(this))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.KB"),Reamaze.KB.App=r({mixins:[TimerMixin],propTypes:{enableKb:i.bool,currentUser:i.object,active:i.bool,popupOptions:i.object,onAppMounted:i.func,conversations:i.object,appContext:i.object.isRequired,chatIsLive:i.bool},contextTypes:{window:i.object},getDefaultProps:function(){return{}},getInitialState:function(){return{kbLoaded:!1}},componentWillReceiveProps:function(t){this.props.active&&!t.active&&e(this.context.window).focus()},componentDidMount:function(){this.props.onAppMounted(),this.props.active&&this.props.appContext.shoutbox.open&&Reamaze.Analytics.track("KB Shown")},componentDidUpdate:function(e){!this.props.active||!this.props.appContext.shoutbox.open||e.active&&e.appContext.shoutbox.open||Reamaze.Analytics.track("KB Shown")},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getHeader:function(){return t.createElement("div",{id:"nav-c-header"},t.createElement("a",{href:"javascript:;",onClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?rl="+Date.now()}}})}.bind(this)},this.props.appContext.brand.preferences.trans_kb_header))},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getContent:function(){var n,r=e.param({sso:this.props.currentUser.ssoData(),popup:1}),i=this.getPath();n=(i=i+(i.indexOf("?")>0?"&":"?")+r).match(/^http/)?i:this.props.appContext.baseUrl+i;var o={width:"100%",height:"100%",overflowY:"hidden"},a={position:"relative"};return t.createElement("div",{style:o},!this.state.kbLoaded&&t.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),t.createElement("iframe",{style:a,src:n,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({kbLoaded:!0})}.bind(this)}))},onNewMessageSubmit:function(t){if(!this.props.appContext._preview){var n=t.a_comment_body;delete t.a_comment_body,data={message:t,a_comment_body:n},this.props.currentUser&&(data.sparams=e.param({sso:this.props.currentUser.ssoData()}));var r=Math.floor(Date.now()/1e3),i=Reamaze.ec("0"+r);return data._zt=i,data._zt2=r,data._url=window.location.href,data._browser=Reamaze.Utils.massageUserAgent(window.navigator),data.chat=this.props.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+i,data:data}}),!1}},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement(Reamaze.KB.Css,null),t.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},t.createElement("div",{style:{display:"table",width:"100%"}},t.createElement("div",{style:{display:"table-row"}},t.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},t.createElement("div",null,function(){if(this.props.conversations&&Object.keys(this.props.conversations).length>0){var e=0;for(var n in this.props.conversations)this.props.conversations[n].unread&&e++;return t.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations},t.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),e>0&&t.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return t.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked},t.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),t.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),t.createElement("div",{className:"nav-c-r"})))),t.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),t.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid #f0f0f0",background:"#fff"}})),t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n){e.namespace("Reamaze.KB"),Reamaze.KB.Css=n({shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header #nav-c-header a:hover {\n          text-decoration: underline;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        .rmz-fade {\n          transition: opacity 150ms ease-in;\n          opacity: 0.01\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Live"),Reamaze.Live.App=r({displayName:"Reamaze.Live.App",mixins:[TimerMixin],propTypes:{currentUser:i.object,appContext:i.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){var e=function(e){e.type==Reamaze.ACTIONS.USER_TRANSITION&&this.onUserTransition(e.payload.fromAnonymousId)}.bind(this);return this.props.appContext.dispatcher.register(e),{liveId:null}},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.checkInterval=this.setInterval(this.checkSocked,100)},componentWillUnmount:function(){this.socked&&this.socked.disconnect()},checkSocked:function(){
window.Socked&&this.checkInterval&&(this.clearInterval(this.checkInterval),this.checkInterval=null,this.initSocked())},onUserTransition:function(e){this.socked&&this.socked.disconnect(),this.socked&&this.socked.connect(),this.state.channel.once("internal:subscription_success",function(){this.state.channel.trigger("private-user-transitioned",{fromAnonymousId:e})}.bind(this))},initSocked:function(){if(this.canLoadLive()){this.socked=new Socked(this.props.appContext.brand.url,{host:"ws.reamaze.com",authUrl:this.props.appContext.baseDataUrl+"/data/socked/auth",auth:{params:{sparams:function(){return e.param({sso:this.props.currentUser.ssoData()})}.bind(this),meta:function(){return JSON.stringify({url:window.location.href})}},callback:function(e){e.userId&&e.id&&e.id!=e.anonymous_id&&(this.props.currentUser.set("_id",e.userId),this.props.currentUser.set("name",e.name)),this.setState({liveId:e.id}),this.props.currentUser.setAnonymousId(e.anonymous_id),e.email&&this.props.currentUser.set("email",e.email)}.bind(this)},autoConnect:!1,reconnectionAttempts:3,reconnectionDelay:2500,randomizationFactor:.8}),this.socked.on("connected",function(){try{if(!this.state.channel){var e=this.socked.subscribe("live"),t=function(){var t,n=window.location.href.replace(window.location.search,"");try{t=JSON.parse(Reamaze.localStorage.getItem("rmz-live-url"))}catch(i){}var r=(new Date).getTime();(!t||t.url!=n||r>=t.ts+12e4)&&(e.event("pageview",{url:n}),Reamaze.localStorage.setItem("rmz-live-url",JSON.stringify({url:n,ts:r})))};e.subscribed?t():e.once("internal:subscription_success",function(){t(),this.onGetCart()}.bind(this)),e.on("private-cue",this.onCue),e.on("private-get-cart",this.onGetCart.bind(this,!0)),e.on("private-portal",this.startMirroring),this.setState({channel:e})}}catch(n){console.log(n)}}.bind(this));try{this.socked.connect()}catch(t){console.log(t)}}},onCue:function(e){Reamaze.cue(e.data.cue)},onGetCart:function(t){window.Shopify&&window.Shopify.shop?e.ajax({url:"/cart.json",dataType:"json",accepts:"application/json",success:function(e){this.state.channel.trigger("private-cart-resp",{cart:e})}.bind(this),error:function(e,t,n){this.state.channel.trigger("private-cart-resp",{error:"Unable to fetch cart",errorString:n})}.bind(this)}):t&&this.state.channel.trigger("private-cart-resp",{error:"Page is not a Shopify store."})},canLoadLive:function(){return!this.props.appContext.brand||!1!==this.props.appContext.brand.allowLiveView},startMirroring:function(){if(this.props.appContext.brand&&!1===this.props.appContext.brand.allowPeek||!this.state.liveId)return!1;this.portal||(this.portal=new PortalClient(this.socked,"presence-portal-"+(this.state.liveId||this.props.currentUser.getAnonymousId()),this.getPortalId())),this.portal.start()},stopMirroring:function(){this.portal&&this.portal.end()},getPortalId:function(){var e;return(e=Reamaze.sessionStorage.getItem("portalId"))||(e=Math.floor(4294967296*(1+Math.random())).toString(16).substring(1),Reamaze.sessionStorage.setItem("portalId",e)),e},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze.Mixins"),Reamaze.Mixins.Styles={getResetCss:function(){return' /* reset */\n        html {\n          box-sizing: border-box;\n        }\n        *, *:before, *:after {\n          box-sizing: inherit;\n        }\n        html, body, .frame-root, .frame-root > div, .frame-content, .frame-content {\n          height: 100%;\n          width: 100%;\n        }\n        input.disabled, textarea.disabled {\n          background: #eee;\n        }\n        html, body, div, span, applet, object, iframe,\n        h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n        a, abbr, acronym, address, big, cite, code,\n        del, dfn, em, img, ins, kbd, q, s, samp,\n        small, strike, strong, sub, sup, tt, var,\n        b, u, i, center,\n        dl, dt, dd, ol, ul, li,\n        fieldset, form, label, legend,\n        table, caption, tbody, tfoot, thead, tr, th, td,\n        article, aside, canvas, details, embed,\n        figure, figcaption, footer, header, hgroup,\n        menu, nav, output, ruby, section, summary,\n        time, mark, audio, video {\n        \tmargin: 0;\n        \tpadding: 0;\n        \tborder: 0;\n        \tfont-size: 100%;\n        \tfont: inherit;\n        \tvertical-align: baseline;\n        }\n        /* HTML5 display-role reset for older browsers */\n        article, aside, details, figcaption, figure,\n        footer, header, hgroup, menu, nav, section {\n        \tdisplay: block;\n        }\n        body {\n        \tline-height: 1;\n        }\n        ol, ul {\n        \tlist-style: none;\n        }\n        blockquote, q {\n        \tquotes: none;\n        }\n        blockquote:before, blockquote:after,\n        q:before, q:after {\n        \tcontent: \'\';\n        \tcontent: none;\n        }\n        table {\n        \tborder-collapse: collapse;\n        \tborder-spacing: 0;\n        }\n        a {\n          text-decoration: none;\n        }\n\n\n        /* custom reset css */\n        input, button, select, textarea {\n          font-family: "Nunito",Helvetica,Arial,sans-serif;\n          font-size: 14px;\n        }\n        input:focus, button:focus {\n          outline: none;\n        }\n        body {\n          line-height: 1.35;\n          font-size: 14px;\n          -webkit-text-size-adjust: 100%;\n        }\n        a:hover, body button:hover {\n          opacity: 0.8;\n        }\n        body .anim-btn {\n          transition: all 0.2s linear;\n          -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n        }\n        body .anim-btn-shadow:hover, body .anim-btn-shadow:focus {\n          box-shadow: 0px 10px 20px 0px rgba(0,0,0,0.07);\n        }\n        body .anim-btn:hover, body .anim-btn:focus {\n          transform: translate3d(0,-3px,0);\n        }\n        b, strong, h1, h2, h3, h4, h5, h6 {\n          font-weight: bold;\n        }\n        i, em {\n          font-style: italic;\n        }\n        a {\n          word-wrap: break-word;\n        }\n        blockquote {\n          padding: 0px 0 0 10px;\n          margin: 0 0 15px;\n          border-left: 2px solid #ddd;\n        }\n        h1 {\n          font-size: 2em;\n          margin: .5em 0;\n        }\n        h2 {\n          font-size: 1.5em;\n          margin: .67em 0;\n        }\n        h3 {\n          font-size: 1.17em;\n          margin: .75em 0;\n        }\n        h4 {\n          margin: .83em 0;\n        }\n        h5 {\n          font-size: 0.83em;\n          margin: 1.12em 0;\n        }\n        h6 {\n          font-size: 0.75em;\n          margin: 1.5em 0;\n        }\n\n        .btn {\n          display: inline-block;\n          padding: 6px 25px;\n          margin-bottom: 0;\n          line-height: 20px;\n          text-align: center;\n          vertical-align: middle;\n          cursor: pointer;\n          margin: 0px;\n          border-radius: 20px;\n        }\n        .btn.disabled, body .btn[disabled] {\n          opacity: 0.65;\n          filter: alpha(opacity=65);\n          -webkit-box-shadow: none;\n          -moz-box-shadow: none;\n          box-shadow: none;\n          background-image: none;\n          cursor: default;\n        }\n        .btn.btn-link {\n          border: none;\n          background: none;\n          text-decoration: underline;\n          padding: 5px 13px;\n        }\n        select,\n        textarea,\n        input[type="text"],\n        input[type="password"],\n        input[type="datetime"],\n        input[type="datetime-local"],\n        put[type="date"],\n        input[type="month"],\n        input[type="time"],\n        input[type="week"],\n        input[type="number"],\n        input[type="email"],\n        input[type="url"],\n        input[type="search"],\n        input[type="tel"],\n        input[type="color"],\n        .uneditable-input {\n          display: inline-block;\n          height: 37px;\n          padding: 10px 6px 4px;\n          margin-bottom: 10px;\n          font-size: 14px;\n          line-height: 20px;\n          vertical-align: middle;\n          outline: none;\n        }\n        input[placeholder].placeholder, textarea[placeholder].placeholder {\n          color: #aaa;\n        }\n      '},getBrandCss:function(e){var t=e.headerBgColor,n=e.buttonBgColor;return e.gradient&&(t="linear-gradient(135deg, "+t+" 0%, "+(Reamaze.Utils.pSBC(.3,t)||t)+" 100%)",n="linear-gradient(135deg, "+n+" 0%, "+(Reamaze.Utils.pSBC(.3,n)||n)+" 100%)"),"body #header {\n        background: "+t+";\n        color: "+e.headerFontColor+";\n        font-size: 1.2em;\n      }\n\n      body #header a,\n      body #header a:visited,\n      body #header a:hover {\n        color: "+e.headerFontColor+";\n      }\n\n      body a,\n      body a:visited,\n      body a:hover {\n        color: "+e.bodyLinkColor+";\n      }\n      body {\n        font-family: "+Reamaze.Styles["default"].bodyFont+";\n      }\n      body .btn,\n      body a.btn,\n      body a.btn:visited,\n      body a.btn:hover {\n        background: "+n+";\n        border: none;\n        color: "+e.buttonFontColor+";\n        border-radius: "+e.buttonBorderRadius+";\n      }\n      body .btn.btn-link {\n        color: "+e.bodyLinkColor+";\n        text-decoration: none;\n      }\n      body .btn.btn-link:hover {\n        background: none;\n        color: "+e.bodyLinkColor+';\n        text-decoration: underline;\n      }\n      body select,\n      body textarea,\n      body input[type="text"],\n      body input[type="password"],\n      body input[type="datetime"],\n      body input[type="datetime-local"],\n      body input[type="date"],\n      body input[type="month"],\n      body input[type="time"],\n      body input[type="week"],\n      body input[type="number"],\n      body input[type="email"],\n      body input[type="url"],\n      body input[type="search"],\n      body input[type="tel"],\n      body input[type="color"],\n      body .uneditable-input,\n      body .faux-input,\n      body label.checkbox {\n        background: '+e.inputBgColor+";\n        border: none;\n        border-bottom: "+e.inputBorder+";\n        color: "+e.inputFontColor+";\n      }\n      body select {\n        -webkit-appearance: none;\n        -webkit-border-radius: 0px;\n        background: url(\"data:image/svg+xml;utf8,<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='24' height='24' viewBox='0 0 24 24'><path fill='#444' d='M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z'></path></svg>\");\n        background-position: 100% 50%;\n        background-repeat: no-repeat;\n      }\n      body #body-container textarea {\n        border: "+e.inputBorder+";\n      }\n      "}},function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications");var DATA_KEY="notifications_st",notificationIdx=0;$jq(document).on("Reamaze.init",function(){notificationIdx=Reamaze.sessionStorage.getItem("notificationIdx")||0});var Statuses={CLOSED:0,CLICKED:1,VIEWED:2,EXPIRED:3},NotificationStatuses=function(){this._notificationStatuses={},this._justViewed={};try{var e=JSON.parse(Reamaze.localStorage.getItem(DATA_KEY));this._notificationStatuses=e||{}}catch(t){}return this};NotificationStatuses.prototype.isClicked=function(e){return this._notificationStatuses[e.id]==Statuses.CLICKED},NotificationStatuses.prototype.markClicked=function(e){this._notificationStatuses[e.id]=Statuses.CLICKED,this.cache()},NotificationStatuses.prototype.isViewed=function(e){return this._notificationStatuses[e.id]==Statuses.VIEWED},NotificationStatuses.prototype.isJustViewed=function(e){return!!this._justViewed[e.id]},NotificationStatuses.prototype.markViewed=function(e){this._notificationStatuses[e.id]=this._notificationStatuses[e.id]||Statuses.VIEWED,this._justViewed[e.id]=1,this.cache()},NotificationStatuses.prototype.isClosed=function(e){return this._notificationStatuses[e.id]==Statuses.CLOSED},NotificationStatuses.prototype.markClosed=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.CLOSED}.bind(this)),this.cache()},NotificationStatuses.prototype.isExpired=function(e){return this._notificationStatuses[e.id]==Statuses.EXPIRED},NotificationStatuses.prototype.markExpired=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.EXPIRED}.bind(this)),this.cache()},NotificationStatuses.prototype.renew=function(e){delete this._notificationStatuses[e.id],this.cache()},NotificationStatuses.prototype.cache=function(){Reamaze.localStorage.setItem(DATA_KEY,JSON.stringify(this._notificationStatuses))},Reamaze.Notifications.ACTIONS={CLOSE_NOTIFICATION:"CLOSE_NOTIFICATION",CLICK_NOTIFICATION:"CLICK_NOTIFICATION",VIEW_NOTIFICATION:"VIEW_NOTIFICATION",CREATE_NOTIFICATIONS:"CREATE_NOTIFICATIONS",REMOVE_NOTIFICATIONS:"REMOVE_NOTIFICATIONS",CLOSE_ALL_NOTIFICATIONS:"CLOSE_ALL_NOTIFICATIONS",UPDATE_DIMENSIONS:"UPDATE_DIMENSIONS",ACKNOWLEDGE_NOTIFICATION:"ACKNOWLEDGE_NOTIFICATION"},Reamaze.Notifications.EFFECTS={CALLBACK:"CALLBACK",TRACK_EVENT:"TRACK_EVENT"};var appStateReducer=function(state,action){switch(action.type){case Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION:return state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Closed",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:return action.payload.closeNotification&&(state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses)),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Button Clicked",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS:return state.notificationStatuses.markClosed(state.notifications.map(function(e){return e.id})),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION:return state.notificationStatuses.markViewed(action.payload),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Shown",label:action.payload.name||action.payload.id,nonInteraction:!0}}),state;case Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION:return action.payload.disableCueClick?null:(state.notificationStatuses.markClicked(action.payload),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClick&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClick}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Clicked",label:action.payload.name||action.payload.id}}),state);case Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION:return state.notificationStatuses.markExpired([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return action.payload.forEach(function(notification){notification.id||(notification.id="_rmz-"+notificationIdx++%20,notification.renew=!0,Reamaze.sessionStorage.setItem("notificationIdx",notificationIdx)),notification.timestamp||(notification.timestamp=Date.now()),notification.onClick||(notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{}})}.bind(this)))}),state.notifications=notificationsReducer([].concat(state.notifications),action.payload,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS:var newNotifications=[],notificationIds=action.payload;return state.notifications.forEach(function(e){-1===notificationIds.indexOf(e.id)&&newNotifications.push(e)}),state.notifications=newNotifications,state;case Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS:return state.dimensions.width==action.payload.width&&state.dimensions.height==action.payload.height?null:(state.dimensions=action.payload,state);case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:return!action.payload.props.unread&&action.payload.props.outboundData&&(state.notificationStatuses.markClicked({id:action.payload.props.outboundData.id}),state.notifications=notificationsReducer([].concat(state.notifications),[],state.notificationStatuses)),state;default:return null}},appEffectsHandler=function(e){switch(e.type){case Reamaze.Notifications.EFFECTS.CALLBACK:"function"==typeof e.payload&&e.payload();break;case Reamaze.Notifications.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},notificationsReducer=function(e,t,n){var r={};return e.concat(t).forEach(function(e){e.renew&&(n.renew(e),delete r[e.id],delete e.renew),"undefined"==typeof e.sound&&(e.sound=!0),e.timestamp||(e.timestamp=Date.now());var t=r[e.id],i=n.isClosed(e),o=n.isExpired(e),a=n.isClicked(e),s=n.isViewed(e)&&!n.isJustViewed(e);t||i||a||o||e["transient"]&&s||(r[e.id]=e)}),Object.keys(r).map(function(e){return r[e]})};Reamaze.Notifications.App=createReactClass({displayName:"Reamaze.Notifications.App",mixins:[TimerMixin],propTypes:{anchor:PropTypes.object,playSound:PropTypes.func,updateNotificationCount:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object},getDefaultProps:function(){return{anchor:{bottom:22,right:22}}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=$jq.extend({},this.state);t.effects=[],(t=appStateReducer(t,e))&&(this.setState(t),t.effects.forEach(appEffectsHandler.bind(this)))}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,notifications:[],notificationStatuses:new NotificationStatuses,dimensions:{width:0,height:0}}},componentDidUpdate:function(e,t){t.notifications.length!=this.state.notifications.length&&this.props.updateNotificationCount(this.state.notifications.length)},componentDidMount:function(){this.props.updateNotificationCount(this.state.notifications.length)},getNotificationsToDisplay:function(){if(0==this.state.notifications.length)return[];var e=this.state.notifications;return e=(e=e.sort(function(e,t){return e.timestamp==t.timestamp?0:e.timestamp<t.timestamp?1:-1})).slice(0,this.props.appContext.fullScreen?1:3),this.props.anchor.bottom&&(e=e.reverse()),e||[]},getNotificationPrompts:function(){return this.getNotificationsToDisplay().map(function(e){return React.createElement(Reamaze.Notifications.Prompt,{anchor:this.props.anchor,playSound:e.sound?this.props.playSound:null,closeFunc:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION,payload:e})}.bind(this,e),buttonFunc:function(e,t,n){this.props.appContext._preview||this.props.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION,payload:$jq.extend({buttonClicked:t,closeNotification:n},e)})}.bind(this,e),id:e.id,outboundConversations:this.props.outboundConversations,message:e.message,buttons:e.buttons,user:e.user,size:e.size,onClick:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION,payload:e})}.bind(this,e),onNotificationViewed:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION,payload:e})}.bind(this,e),onNotificationExpired:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION,payload:e})}.bind(this,e),duration:e.duration||null,key:"notification-"+e.id,persisted:e.persisted||null,appContext:this.props.appContext})}.bind(this))},getOffset:function(e){if(e)return parseInt(e,10)},render:function(){if(this.props.appContext.shoutbox.open||!this.props.appContext.brand||!this.props.appContext.brand.name)return null;var e=this.getOffset(this.props.anchor.left),t=this.getOffset(this.props.anchor.right),n=this.getOffset(this.props.anchor.top),r=this.getOffset(this.props.anchor.bottom);this.props.appContext.fullScreen&&(e=0,t=0,n=this.props.anchor.top!=undefined?0:undefined,r=this.props.anchor.bottom!=undefined?0:undefined);var i=this.getNotificationPrompts();return i.length?React.createElement("div",{id:"rmz-notify-prompts"},React.createElement("style",null,"\n          #rmz-notifications {\n            position: fixed;\n            z-index: 2147483647;\n            left: "+(e!=undefined?e+"px":"auto")+";\n            right: "+(t!=undefined?t+"px":"auto")+";\n            top: "+(n!=undefined?n+"px":"auto")+";\n            bottom: "+(r!=undefined?r+"px":"auto")+";\n            "+(this.props.appContext.fullScreen?"":"margin-right: -20px;")+"\n            width: "+(this.props.appContext.fullScreen?"100%":this.state.dimensions.width+"px")+";\n            height: "+this.state.dimensions.height+"px;\n          }\n          "),React.createElement("div",{id:"rmz-notifications"},React.createElement(Reamaze.Frames.BasicFrame,{appContext:this.props.appContext},React.createElement("style",null,"\n              .reamaze-notify-prompt {\n                background: #fff;\n                margin: 15px 0;\n                position: relative;\n                border-radius: 15px 0;\n                box-shadow: 0 4px 13px 0px rgba(0,0,0,0.15);\n                border-bottom: 1px solid "+this.props.appContext.brand.styles.widgetColor+";\n              }\n            "),React.createElement(Reamaze.Notifications.NotificationsList,{dispatcher:this.state.dispatcher,notifications:i,hAlign:this.props.anchor.left!=undefined?"left":"right",vAlign:this.props.anchor.top!=undefined?"top":"bottom",appContext:this.props.appContext})))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){var o=ReactTransitionGroup.CSSTransitionGroup;e.namespace("Reamaze.Notifications"),Reamaze.Notifications.NotificationsList=r({displayName:"Reamaze.Notifications.NotificationsList",mixins:[TimerMixin],propTypes:{notifications:i.array,dispatcher:i.object,hAlign:i.string,vAlign:i.string,appContext:i.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{renderNotifications:!1}},componentDidUpdate:function(){this.updateDimensions(),this.setTimeout(function(){this.updateDimensions()}.bind(this),400)},componentDidMount:function(){this.setTimeout(function(){this.setState({renderNotifications:!0})}.bind(this),500)},cachedWidth:0,cachedHeight:0,updateDimensions:function(){var e=n.findDOMNode(this.refs.notifications).offsetWidth,t=n.findDOMNode(this.refs.notifications).offsetHeight;this.cachedHeight==t&&this.cachedWidth==e||(this.cachedWidth=e,this.cachedHeight=t,this.props.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS,payload:{width:e+80,height:t+40}}))},getStyleTag:function(){return t.createElement("style",null,"\n        .reamaze-notify-prompt.rmz-prompt-enter,\n        .reamaze-notify-prompt.rmz-prompt-appear {\n          opacity: 0;\n        }\n        .reamaze-notify-prompt.rmz-prompt-enter-active,\n        .reamaze-notify-prompt.rmz-prompt-appear-active,\n        .reamaze-notify-prompt {\n          transition: opacity 0.4s linear;\n          opacity: 1;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave {\n          opacity: 1;\n          transition: opacity 0.4s linear;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave-active {\n          opacity: 0;\n        }\n      ")},render:function(){var e={position:"absolute",padding:"0 20px 0 50px"};"left"==this.props.hAlign?e.left=0:e.right=0,"top"==this.props.vAlign?e.top=0:e.bottom=0;var n=this.state.renderNotifications?this.props.notifications:[];return t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{id:"notifications",ref:"notifications"},t.createElement(o,{transitionName:"rmz-prompt",transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:400},n)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications"),Reamaze.Notifications.PROMPT_SIZES={preview:{width:300,truncateAt:150,avatarSize:40,mobileAvatarSize:32},small:{width:260,truncateAt:150,avatarSize:40,mobileAvatarSize:32},full:{width:300,truncateAt:300,avatarSize:40,mobileAvatarSize:32}},Reamaze.Notifications.Prompt=createReactClass({displayName:"Reamaze.Notifications.Prompt",mixins:[TimerMixin],propTypes:{closeFunc:PropTypes.func,buttonFunc:PropTypes.func,id:PropTypes.string,message:PropTypes.string,user:PropTypes.object,playSound:PropTypes.func,onClick:PropTypes.func,buttons:PropTypes.array,onNotificationViewed:PropTypes.func,onNotificationExpired:PropTypes.func,duration:PropTypes.number,size:PropTypes.oneOf(["preview","full","small"]),persisted:PropTypes.bool,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getDefaultProps:function(){return{size:"full",persisted:!1}},componentDidMount:function(){this.props.playSound&&this.props.playSound(),this.setTimeout(this.props.onNotificationViewed,1),this.props.duration&&this.props.duration>0&&this.setTimeout(this.props.onNotificationExpired,1e3*this.props.duration+400)},render:function(){var e={top:"8px",right:"5px",padding:"7px",size:12},t=Reamaze.Notifications.PROMPT_SIZES[this.props.size].width;return React.createElement("div",{className:"reamaze-notify-prompt "+(this.props.persisted?"persisted":""),style:{width:this.props.appContext.fullScreen?"100%":t+"px"}},this.props.appContext.fullScreen&&React.createElement("style",null,"\n              .reamaze-notify-prompt .reamaze-close-x span {\n                position: relative;\n                display: block;\n                top: 50%;\n                margin-top: -12px;\n              }\n            "),React.createElement(Reamaze.Popup.CloseX,_extends({ref:"popupCloseX",onClick:this.props.closeFunc},e)),React.createElement("div",{style:{height:"100%"}},React.createElement(Reamaze.Notifications.PromptContent,this.props)))}}),Reamaze.Notifications.PromptContent=createReactClass({displayName:"Reamaze.Notifications.PromptContent",propTypes:{id:PropTypes.string,width:PropTypes.number,closeFunc:PropTypes.func,buttonFunc:PropTypes.func,message:PropTypes.string,user:PropTypes.object,onClick:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getAvatars:function(e){if(e&&e.length){e=e.slice(0,3);var t=Reamaze.Notifications.PROMPT_SIZES[this.props.size],n=this.props.appContext.fullScreen?t.mobileAvatarSize:t.avatarSize;return e.map(function(e,t){return React.createElement("img",{src:e,key:"avatar-"+t,className:"rmz-prompt-avatar-"+t,style:{width:n+"px",height:n+"px",borderRadius:n+"px"}})}.bind(this))}return null},getButtons:function(){if(!this.props.buttons||!this.props.buttons.length)return null;var idx=0;return React.createElement("div",{style:{marginTop:"1.2em",textAlign:"center"}},this.props.buttons.map(function(button){var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText};return button.url&&(buttonProps.href=button.url,button.target?buttonProps.target=button.target:buttonProps.target="_blank"),button.script?buttonProps.onClick=function(event){event.stopPropagation(),this.props.buttonFunc(button,!0),eval(button.script)}.bind(this):button.url?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!1)}.bind(this):button.response?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),this.props.appContext._preview||(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.props.outboundConversations.getConversation(this.props.id).slug}}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:{body:buttonText}},slug:this.props.outboundConversations.getConversation(this.props.id).slug}}))}.bind(this):button.dismiss?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0)}.bind(this):button.pushprompt&&(buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),Reamaze.promptPushPermissions()}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this)))},render:function(){var e=this.props.message||"",t=Reamaze.Notifications.PROMPT_SIZES[this.props.size].truncateAt,n=Reamaze.Utils.getUserDisplayDetails(this.props.user,this.props.appContext.brand,this.props.appContext.faces),r="15px 20px",i=$jq("<textarea/>").html(e).text(),o=i.substr(0,t)+(i.length>t?String.fromCharCode(8230):""),a=$jq("<textarea/>").text(o).html(),s=Reamaze.Utils.simpleFormat(a);return React.createElement("div",{style:{width:"100%",height:"100%"}},React.createElement("style",null,"\n            .rmz-prompt-content:hover {\n              opacity: 0.8;\n            }\n            .rmz-prompt-content p {\n              margin-bottom: 0.5em;\n            }\n            .rmz-prompt-content p:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-content .btn {\n              margin-bottom: 10px;\n              width: 100%;\n            }\n            .rmz-prompt-content .btn:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-avatars img {\n              left: -"+(this.props.appContext.fullScreen?"40":"48")+"px;\n              box-shadow: rgba(0, 0, 0, 0.1) 0px 3px 5px 1px;\n              background: #fff;\n              padding: 1px;\n              position: absolute;\n            }\n            .rmz-prompt-avatar-0 {\n              bottom: 0;\n              z-index: 3;\n            }\n            .rmz-prompt-avatar-1 {\n              bottom: 20px;\n              z-index: 2;\n            }\n            .rmz-prompt-avatar-2 {\n              bottom: 40px;\n              z-index: 1;\n            }\n            .rmz-prompt-user-name {\n              margin-bottom: 0.4em;\n              padding-right: 10px;\n              font-weight: bold;\n              font-size: 0.95em;\n            }\n          "),React.createElement("div",{className:"rmz-prompt-content",onClick:this.props.onClick,style:{width:"100%",height:"100%",cursor:"pointer"}},React.createElement("div",{style:{position:"relative"}},React.createElement("div",{style:{padding:r,overflow:"hidden"}},React.createElement("div",{ref:"promptBody"},n&&n.name&&React.createElement("div",{className:"rmz-prompt-user-name"},React.createElement("span",null,n.name)),React.createElement("div",{dangerouslySetInnerHTML:{__html:s},style:{opacity:"0.65",lineHeight:"1.4em",overflow:"hidden",wordWrap:"break-word"}}),this.getButtons())),n&&n.avatarUrls&&n.avatarUrls.length&&React.createElement("div",{className:"rmz-prompt-avatars"},this.getAvatars(n.avatarUrls)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i,o){e.namespace("Reamaze.Outbounds");var a="ob";Reamaze.Outbounds.ACTIONS={CREATE_OUTBOUND_CONVERSATION:"CREATE_OUTBOUND_CONVERSATION",DELETE_OUTBOUND_CONVERSATION:"DELETE_OUTBOUND_CONVERSATION"},Reamaze.Outbounds.App=r({displayName:"Reamaze.Outbounds.App",mixins:[TimerMixin],propTypes:{currentUser:i.object,outbounds:i.array,appContext:i.object.isRequired},getDefaultProps:function(){return{outbounds:[]}},getInitialState:function(){var e;try{e=JSON.parse(Reamaze.localStorage.getItem(a+".triggered"))||{}}catch(n){e={}}var t=Reamaze.sessionStorage.getItem("siteVisitTime");return t||(t=(new Date).getTime(),Reamaze.sessionStorage.setItem("siteVisitTime",t)),{triggered:e,pageVisitTime:(new Date).getTime(),leavingSite:!1,siteVisitTime:t}},componentDidUpdate:function(){this.setupRulesListeners(),
this.processOutbounds()},componentDidMount:function(){this.setupRulesListeners(),this.setTimeout(this.processOutbounds,0),this.setInterval(this.processOutbounds,6e4)},componentWillUnmount:function(){this.pageExitTracker&&this.pageExitTracker.disable()},pageExitTracker:null,updateInterval:null,setupRulesListeners:function(){var e=!1,t=!1;this.props.outbounds.forEach(function(n){n.rules&&n.rules.forEach(function(n){"leavingSite"==n.type?e=!0:"timeOnPage"==n.type||"timeOnSite"==n.type?t=!0:"inOfficeHour"!=n.type||this.props.appContext.brand&&"undefined"!=typeof this.props.appContext.brand.inOffice||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})}.bind(this))}.bind(this)),e&&this.setupPageExitTracker(),t&&!this.updateInterval&&(this.updateInterval=this.setInterval(this.forceUpdate,2e3))},setupPageExitTracker:function(){this.pageExitTracker||(this.pageExitTracker=o(!1,{delay:100,sensitivity:40,aggressive:!0,callback:function(){this.setState({leavingSite:!0},function(){this.setTimeout(function(){this.pageExitTracker&&this.pageExitTracker.enable(),this.setState({leavingSite:!1})}.bind(this),2e3)}.bind(this))}.bind(this)}))},processOutbounds:function(){var e=this.getRuleContext(),t=JSON.parse(JSON.stringify(this.state.triggered)),n=0,r={};this.props.outbounds.forEach(function(i){if(r[i.id]=1,!t[i.id]){if(!this.props.appContext._preview&&i.start&&new Date(i.start)>new Date)return;if(!this.props.appContext._preview&&i.end&&new Date(i.end)<new Date)return;var o=new Reamaze.Outbounds.Rules(i.rules,e).check(),a=!i.buttons||!i.buttons.some(function(e){return e.pushprompt})||Reamaze.eligibleForPushPrompt();(this.props.appContext._preview||o&&a)&&(this.triggerOutbound(i),n++,t[i.id]=1)}}.bind(this)),n>0&&(Reamaze.localStorage.setItem(a+".triggered",JSON.stringify(t)),this.setState({triggered:t}));var i=this.props.outboundConversations.getOutboundConversations();Object.keys(i).forEach(function(e){i[e].auto&&(!r[e]||i[e].expires&&new Date(i[e].expires)<new Date)&&this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:e}})}.bind(this))},triggerOutbound:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION,payload:{outbound:e}})},getRuleContext:function(){return{pageVisitTime:this.state.pageVisitTime,siteVisitTime:this.state.siteVisitTime,leavingSite:this.state.leavingSite,user:this.props.currentUser,inOfficeHour:this.props.appContext.brand.inOffice,isMobileBrowser:this.props.appContext.isMobileBrowser}},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes,ouibounce),function(){jQuery.namespace("Reamaze.Outbounds");var e={equals:function(e,t){return e==t},notEquals:function(e,t){return!this.equals(e,t)},contains:function(e,t){return e&&t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},doesNotContain:function(e,t){return!this.contains(e,t)},between:function(e,t){return e>=t[0]&&e<=t[1]},lessThan:function(e,t){return e<t},greaterThan:function(e,t){return e>t},isTrue:function(e){return!!e},isFalse:function(e){return!e}};Reamaze.Outbounds.Rules=function(e,t){this.rules=e,this.context=t},Reamaze.Outbounds.Rules.prototype={url:function(t){return e[t.op](window.location.href,t.value)},identified:function(t){return e[t.op](this.context.user.isIdentified())},timeOnPage:function(t){return e[t.op]((new Date).getTime()-this.context.pageVisitTime,1e3*this.getRuleValueInSeconds(t.value))},timeOnSite:function(t){return e[t.op]((new Date).getTime()-this.context.siteVisitTime,1e3*this.getRuleValueInSeconds(t.value))},referrer:function(t){return e[t.op](document.referrer,t.value)},date:function(t){return e[t.op](new Date,new Date(t.value))},leavingSite:function(t){return e[t.op](this.context.leavingSite)},customFunc:function(t){return e[t.op](t.func(),t.value)},customValue:function(t){return e[t.op](t.customValue,t.value)},nthVisit:function(t){return e[t.op](this.context.user.get("visits")||1,t.value)},deviceType:function(t){return e[t.op](this.context.isMobileBrowser?"mobile":"desktop",t.value)},inOfficeHour:function(t){return e[t.op](this.context.inOfficeHour)},getRuleValueInSeconds:function(e){switch((e+="").slice(-1)){case"h":return 3600*parseInt(e.slice(0,-1),10);case"m":return 60*parseInt(e.slice(0,-1),10);default:return parseInt(e,10)}},check:function(){try{if(this.rules)for(var e=0;e<this.rules.length;e++){var t=this.rules[e];if(!this[t.type]||!this[t.type](t))return!1}return!0}catch(n){return console.log("Rules#check error - "+n.message),!1}}}}(),function(e,t,n,r,i){e.namespace("Reamaze.Popup"),Reamaze.Popup.BrandedFrame=r({displayName:"Reamaze.Popup.BrandedFrame",mixins:[Reamaze.Mixins.Styles],propTypes:{ping:i.object,hidden:i.bool,appContext:i.object.isRequired},getDefaultProps:function(){return{simple:!1,hidden:!1}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){this.props.ping||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},render:function(){if(this.props.ping){var e="rmz-shoutbox-frame-container",r=function(t){t.documentElement.style="height: 100%; width: 100%;";var n=document.createElement("base");n.href=this.props.appContext.baseDataUrl,n.target="_parent",t.head.appendChild(n);var r=document.createElement("link");r.href="https://fonts.googleapis.com/css?family=Nunito:400,700",r.rel="stylesheet";var i=document.createElement("link");i.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",i.rel="stylesheet";var o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",t.head.appendChild(r),t.head.appendChild(i),t.head.appendChild(o);var a=document.createElement("div");a.className="frame-root",t.body.className=e,t.body.style="height:100%;width:100%;width:100vw;overflow:hidden;",t.body.appendChild(a)}.bind(this),i={width:"100%",height:"100%"};return this.props.hidden||(i.opacity=1),t.createElement("div",{style:i,className:e},t.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(n.findDOMNode(e).style.setProperty("width","100%","important"),n.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:r,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))}return null},getStyleTag:function(){return t.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return t.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return t.createElement("style",null,this.getResetCss(),"/* popup css */\n          #content-container {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content-container.content-flex {\n            display: flex;\n            display: -webkit-box;\n            display: -moz-box;\n            display: -webkit-flex;\n            display: -ms-flexbox;\n            flex-direction: column;\n            -webkit-box-direction: normal;\n            -webkit-box-orient: vertical;\n            -moz-box-direction: normal;\n            -moz-box-orient: vertical;\n            -webkit-flex-direction: column;\n            -ms-flex-direction: column;\n          }\n          #content-container.content-flex #header, #content-container.content-flex #footer {\n            -webkit-flex-shrink: 0;\n            -moz-flex-shrink: 0;\n            flex-shrink: 0;\n            -ms-flex: 0 1 auto;\n          }\n          #content-container.content-flex #content {\n            flex-grow: 1;\n            -webkit-box-flex: 1;\n            -moz-box-flex: 1;\n            -webkit-flex-grow: 1;\n            -ms-flex: 1 1 auto;\n          }\n          #content-container.content-flex #content.no-grow {\n            flex-grow: 0;\n            -webkit-box-flex: 0;\n            -moz-box-flex: 0;\n            -webkit-flex-grow: 0;\n            -ms-flex: 0 1 auto;\n          }\n          body {\n            background: white;\n            color: #333;\n            -webkit-overflow-scrolling: touch;\n          }\n          #header {\n            padding: 15px 35px;\n          }\n          #content {\n            overflow-x: hidden;\n            overflow-y: auto;\n            margin-right: 2px;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content.attributed #content-inner {\n            min-height: calc(100% - 28px);\n          }\n          #footer {\n            background: #fff;\n            border-top: 1px solid #f0f0f0;\n            padding: 10px 0;\n            box-shadow: 0px 41px 20px 40px rgba(0,0,0,0.05);\n          }\n          ::-webkit-scrollbar {\n            width: 5px;\n            background: #fff;\n          }\n          ::-webkit-scrollbar-button {\n            height: 0;\n            width: 0;\n            display: none;\n          }\n          ::-webkit-scrollbar-corner {\n            background: transparent;\n          }\n          ::-webkit-scrollbar-thumb {\n            border-radius: 8px;\n            box-shadow: inset 0 -3px 0 0 #fff, inset 0 3px 0 0 #fff;\n            background-color: #dededecc;\n          }\n        ")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.CloseX=n({displayName:"Reamaze.Popup.CloseX",propTypes:{zIndex:r.number,color:r.string,top:r.any,right:r.any,onClick:r.func,height:r.string,width:r.string,lineHeight:r.string,fontSize:r.string,textAlign:r.string,padding:r.string},getDefaultProps:function(){return{zIndex:2147483647,color:"#ccc",top:"12px",right:"12px",padding:"0px",size:13,margin:0}},render:function(){return t.createElement("a",{style:this.getStyles(),className:"reamaze-close-x anim-btn",onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onClick(e)}.bind(this),href:"javascript:;"},t.createElement("svg",{width:this.props.size+2,height:this.props.size+2,style:{width:this.props.size+2+"px",height:this.props.size+2+"px"}},t.createElement("g",null,t.createElement("path",{style:{stroke:this.props.color,fill:"rgba(0,0,0,0)",strokeWidth:2},d:"M 1,1 L "+this.props.size+","+this.props.size+" M "+this.props.size+",1 L 1,"+this.props.size}))))},getStyles:function(){return{position:"absolute",right:this.props.right,top:this.props.top,zIndex:this.props.zIndex,color:this.props.color,cursor:"pointer",display:"block",textDecoration:"none",padding:this.props.padding,margin:this.props.margin}}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.Popup=n({displayName:"Reamaze.Popup.Popup",mixins:[TimerMixin],propTypes:{zIndex:r.number,width:r.oneOfType([r.string,r.number]),height:r.oneOfType([r.string,r.number]),maxHeight:r.oneOfType([r.string,r.number]),minHeight:r.oneOfType([r.string,r.number]),xColor:r.string,anchor:r.any,onComponentDidMount:r.func,supportsFullScreen:r.bool,appContext:r.object.isRequired},getDefaultProps:function(){return{zIndex:2147483647,width:600,height:550,maxHeight:600,minHeight:0,xColor:"#bbb",supportsFullScreen:!0}},getInitialState:function(){return{guid:"popup-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),newlyMounted:!0}},componentDidMount:function(){this.setTimeout(function(){this.setState({newlyMounted:!1})}.bind(this),1)},render:function(){var e=this.getStyles(),n=this.getStyleTag(),r=this.props.anchor?"anchored":"";return r=r+" "+this.state.guid,this.props.appContext.shoutbox.open&&!this.state.newlyMounted&&(r+=" visible"),t.createElement("div",{id:"reamaze-popup",className:r},n,this.props.anchor?null:t.createElement("div",{id:"reamaze-overlay"}),t.createElement("div",{id:"reamaze-wrapper",style:e.wrapper},t.createElement("div",{id:"reamaze-container"},this.props.children)))},getStyles:function(){var e={wrapper:{}};return this.props.anchor&&(e.wrapper.marginLeft=0,this.props.appContext.fullScreen?(e.wrapper.left=0,e.wrapper.right=0,e.wrapper.top=this.props.anchor.top?0:"auto",e.wrapper.bottom=this.props.anchor.bottom?0:"auto"):(e.wrapper.left=this.props.anchor.left?this.props.anchor.left:"auto",e.wrapper.right=this.props.anchor.right?this.props.anchor.right:"auto",e.wrapper.top=this.props.anchor.top?this.props.anchor.top:"auto",e.wrapper.bottom=this.props.anchor.bottom?this.props.anchor.bottom:"auto",this.props.appContext.shoutbox.open&&(this.props.anchor.bottom?e.wrapper.bottom=parseInt(this.props.anchor.bottom,10)+"px":e.wrapper.top=parseInt(this.props.anchor.top,10)+"px"))),e},getStyleTag:function(){var e,n="";this.props.anchor&&this.props.anchor.top?n+="top ":n+="bottom ",this.props.anchor&&this.props.anchor.left?n+="left ":n+="right ",e=this.props.anchor.bottom?parseInt(this.props.anchor.bottom,10)+20:this.props.anchor.top?parseInt(this.props.anchor.top,10)+20:this.props.appContext._preview?60:100;var r="0 20px";return this.props.appContext.fullScreen&&(r=0),t.createElement("style",null,"#reamaze-overlay {          position: fixed;          left: 0px;          right: 0px;          top: 0px;          bottom: 0px;          background: rgba(0, 0, 0, 0.0);          transition: background 0.55s;          z-index: -10000000;        }        .visible #reamaze-overlay {          background: rgba(0, 0, 0, 0.3);        }        ."+this.state.guid+".visible #reamaze-overlay {          z-index:"+this.props.zIndex+";        }                #reamaze-wrapper {          position:fixed;          left:50%;          top:0px;          box-sizing: content-box;          border-radius: "+r+";          transition: opacity 0.35s, top 0.35s, transform 0.35s, z-index 0.35s;          opacity: 0;          z-index: -10000000;        }        .anchored #reamaze-wrapper {          padding: 0px;          max-width: 425px;          perspective: 425px;          transform: scale(0.0001);        }        .visible #reamaze-wrapper {          top: "+(this.props.appContext._preview?"30px":"70px")+";          opacity: 1;          transform: scale(1);        }        ."+this.state.guid+" #reamaze-wrapper {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          min-height: 300px;          max-height: calc(100% - "+e+"px);          margin-left: -"+(this.props.width/2+10)+"px;        }        ."+this.state.guid+".anchored #reamaze-wrapper {          transform-origin: "+n+";        }        ."+this.state.guid+".visible #reamaze-wrapper {          z-index: "+this.props.zIndex+";        }        .visible.anchored #reamaze-wrapper {          top: auto;          bottom: 60px;          opacity: 1;        }        #reamaze-wrapper iframe {          margin: 0;        }        #reamaze-wrapper iframe,        #reamaze-wrapper #reamaze-container {          border-radius: "+r+";          overflow: hidden;          display: block;        }        .anchored #reamaze-wrapper iframe,        .anchored #reamaze-wrapper #reamaze-container        {          border-radius: "+r+";          max-width: 425px;          overflow: hidden;          transition: transform 0.35s;        }        .anchored #reamaze-wrapper #reamaze-container {          transform: rotateX(-40deg) skewX(30deg);        }        ."+this.state.guid+".anchored #reamaze-wrapper  #reamaze-container {          transform-origin: "+n+";        }        .anchored #reamaze-wrapper iframe        {          height: 100%;        }        #reamaze-wrapper #reamaze-container .reamaze-close-x {          transition: all 0.2s linear;          -webkit-backface-visibility: hidden;          backface-visibility: hidden;        }        #reamaze-wrapper #reamaze-container .reamaze-close-x:hover {          transform: translate3d(0,-3px,0);          opacity: 0.8;        }        #reamaze-container {          position: relative;          background: white;          box-shadow: 0 33px 50px 0 rgba(0,0,0,0.12);        }        ."+this.state.guid+" #reamaze-container {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          max-height: 100%;          min-height:"+this.props.minHeight+"px;        }        .visible.anchored #reamaze-wrapper #reamaze-container {          transform: none;        }        "+(!this.props.appContext._preview&&this.props.supportsFullScreen?"@media (max-width: 767px) {          ."+this.state.guid+" #reamaze-wrapper,          ."+this.state.guid+".anchored #reamaze-wrapper {            top: 300px;            padding: 0px;            transition: top 0.6s, opacity 0.35s;          }          ."+this.state.guid+".visible #reamaze-wrapper,          ."+this.state.guid+".visible.anchored #reamaze-wrapper {            position: fixed;            top: 0px;            left: 0px;            right: 0px;            bottom: 0px;            margin-left: 0px;            width: 100%;            max-width: 100%;            max-height: 100%;            padding: 0px;            box-sizing: border-box;            border-radius: 0;          }          ."+this.state.guid+".anchored #reamaze-wrapper iframe,          ."+this.state.guid+".anchored #reamaze-wrapper #reamaze-container,          ."+this.state.guid+".visible #reamaze-container {            max-width: 100%;            width: 100%;          }          #reamaze-wrapper iframe,          #reamaze-wrapper #reamaze-container,          .anchored #reamaze-wrapper iframe,          .anchored #reamaze-wrapper #reamaze-container {            border-radius: 0;          }          #reamaze-wrapper .rmz-shoutbox-frame-container {            overflow: hidden;            border-radius: "+r+";            transform: translateZ(0);          }        }":"")+"      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.Spinner=n({displayName:"Reamaze.Popup.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{}}},shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("div",{style:this.props.style,className:"reamaze-popup-spinner"},this.getStyleTag(),t.createElement(Reamaze.Spinner,{xColor:this.props.xColor}))},getStyleTag:function(){this.props.xColor;return t.createElement("style",null,".reamaze-popup-spinner {          margin: -15px 0 0 -15px;          width: 30px;          height: 30px;          position: absolute;          top: 50%;          left: 50%;        }      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.Attribution=n({displayName:"Reamaze.Attribution",propTypes:{appContext:r.object.isRequired},shouldComponentUpdate:function(){return!1},getAttributionUrl:function(){var e="https://www."+this.props.appContext.appDomain+"/embeddable";return this.props.appContext.brand.url&&(e+="/"+this.props.appContext.brand.url),e},render:function(){if(!1===this.props.appContext.brand.attribution)return null;var n=e.extend({},{textAlign:"right",fontSize:"9px",padding:"0px 10px",textTransform:"uppercase",letterSpacing:"1px",zIndex:1},this.props.style||{});return t.createElement("div",{className:"attribution",style:n},t.createElement("style",null,'\n            .attribution span, .attribution a, .attribution a:hover, .attribution a:visited {\n              color: #CACACA;\n              font-family: "Nunito",Helvetica,Arial,sans-serif;\n            }\n            .attribution .attrib-name {\n              font-weight: bold;\n              font-size: 13px;\n              letter-spacing: 0px;\n              text-transform: lowercase;\n            }\n          '),this.props.appContext.fullScreen||!1===this.props.link?t.createElement("span",null,"We run on ",t.createElement("span",{className:"attrib-name"},"Re:amaze")):t.createElement("a",{tabIndex:"-1",href:this.getAttributionUrl(),target:"_blank"},"We run on ",t.createElement("span",{className:"attrib-name"},"Re:amaze")))}})}(jQuery,React,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.Dispatcher=function(){return this._dispatcher=new Flux.Dispatcher,this.dispatch=function(e){setTimeout(function(){_support&&_support._debug&&console.log(e),this._dispatcher.dispatch(e)}.bind(this),0)},this.register=function(e){return this._dispatcher.register(e)},this.unregister=function(e){return this._dispatcher.unregister(e)},this.waitFor=function(e){return this._dispatcher.waitFor(e)},this},jQuery.namespace("Reamaze"),Reamaze.GlobalErrorStates={},Reamaze.ConversationErrorStates={CONTACT_FORM_FIELDS_NAME_INVALID:0,CONTACT_FORM_FIELDS_EMAIL_INVALID:1},Reamaze.ErrorMap=function(e){for(var t=[],n=0;n<e.errors.length;n++);for(n=0;n<e.messages.length;n++){message=e.messages[n];for(var r=0;r<message.errors;r++);for(r=0;r<message.user.errors.length;r++);for(r=0;r<message.login.errors.length;r++)switch(error=message.login.errors[r],error){case"Email is invalid":t.push(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)}}return t},function(e,t,n,r,i){e.namespace("Reamaze.Frames"),Reamaze.Frames.Callbacks={};var o="undefined"!=typeof window&&window.console,a=function(){},s=a,p=a,c=e.extend;if(o){var l=console.error;s=function(){console.error=function(e){/<head>/.test(e)||l.call(console,e)}},p=function(){console.error=l}}Reamaze.Frames.Frame=r({displayName:"Reamaze.Frames.Frame",mixins:[TimerMixin],propTypes:{style:i.object,head:i.node,initialContent:i.func,mountTarget:i.string,contentDidMount:i.func,contentDidUpdate:i.func,frameId:i.string},getDefaultProps:function(){return{initialContent:function(e){var t=document.createElement("style");t.innerHTML="body { background: transparent; }",e.head.appendChild(t);var n=document.createElement("div");n.className="frame-root",e.body.appendChild(n)},contentDidMount:function(){},contentDidUpdate:function(){}}},render:function(){var e=c({},this.props);return delete e.head,delete e.initialContent,delete e.mountTarget,delete e.contentDidMount,delete e.contentDidUpdate,delete e.children,delete e.frameId,t.createElement("iframe",c({allowFullScreen:"true",allowtransparency:"true"},e,{children:undefined}))},componentDidMount:function(){this._isMounted=!0,this.renderFrameContents()},componentsRendered:!1,renderFrameContents:function(){if(this._isMounted){var r=function(e){if(e||(e=0),!(e>=3)){s();var t=a?this.props.contentDidMount:this.props.contentDidUpdate,i=this.getMountTarget();try{n.unstable_renderSubtreeIntoContainer(this,o,i,t)}catch(c){setTimeout(r.bind(this,e+1),300)}p(),this.componentsRendered=!0}}.bind(this),i=this.getDoc();if(i&&"complete"===i.readyState){Reamaze.Frames.Callbacks[this.props.frameId]=r,this.getWindow().frameId=this.props.frameId,this.getWindow().jQuery=Reamaze.jQuery;var o=t.createElement(Reamaze.Frames.FrameContent,{className:"frame-content",window:this.getWindow()},this.props.head,this.props.children),a=!this._setInitialContent;this._setInitialContent?this.componentsRendered&&r():(e(i).one("frameloaded",r),i.open(),i.defaultView&&(i.defaultView.frameId=this.props.frameId,i.defaultView.jQuery=Reamaze.jQuery),i.write("<!doctype html><html><head></head><body></body></html>"),i.close(),this.props.initialContent(i),this._setInitialContent=!0)}else this.setTimeout(this.renderFrameContents,0)}},getMountTarget:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]},getDoc:function(){return n.findDOMNode(this).contentDocument},getWindow:function(){return n.findDOMNode(this).contentWindow},componentDidUpdate:function(){this.renderFrameContents()},componentWillUnmount:function(){if(this._isMounted=!1,this.getDoc()){var e=this.getMountTarget();e&&n.unmountComponentAtNode(e)}}}),Reamaze.Frames.FrameContent=r({displayName:"Reamaze.Frames.FrameContent",propTypes:{window:i.object},childContextTypes:{window:i.object},getChildContext:function(){return{window:this.props.window}},render:function(){return t.createElement("div",null,this.props.children)}}),Reamaze.Frames.BasicFrame=r({displayName:"Reamaze.Frames.BasicFrame",mixins:[Reamaze.Mixins.Styles],getDefaultProps:function(){return{}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){},render:function(){var e=function(e){e.documentElement.style="height: 100%; width: 100%;";var t=document.createElement("base");t.target="_parent",e.head.appendChild(t);var n=document.createElement("link");n.href="https://fonts.googleapis.com/css?family=Nunito:400,700",n.rel="stylesheet";var r=document.createElement("link");r.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",r.rel="stylesheet";var i=document.createElement("script");i.type="text/javascript",i.defer=!0,i.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(i);var o=document.createElement("div");o.className="frame-root",e.body.appendChild(o)}.bind(this);return t.createElement("div",{style:{width:"100%",height:"100%"},className:this.props.className},t.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(n.findDOMNode(e).style.setProperty("width","100%","important"),n.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:e,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))},getStyleTag:function(){return t.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return t.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return t.createElement("style",null,this.getResetCss())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.OutboundConversations=function(){var e="ob_conv";this.outboundConversations={};try{this.outboundConversations=JSON.parse(Reamaze.localStorage.getItem(e))||{}}catch(t){}return this.getOutboundConversations=function(){return JSON.parse(JSON.stringify(this.outboundConversations))},this.removeOutboundConversation=function(e){delete this.outboundConversations[e],this.cache()},this.getOutboundConversationId=function(e){return"*ob_"+e},this.getConversations=function(){var e={};return Object.keys(this.outboundConversations).forEach(function(t){var n=this.getConversation(t);n&&(e[n.id]=n)}.bind(this)),e},this.getConversation=function(e){var t=this.getOutboundConversationId(e),n=this.outboundConversations[e];return n?n.conversationId?null:(n.user||(n.user={type:"team"}),n.user.displayAsStaff=!0,{slug:t,id:t,outbound:!0,enableOutboundCustomFields:n.enableCustomFields,disableCueClick:n.disableCueClick,outboundData:{id:e,name:n.name,message:n.message,user:n.user,timestamp:n.timestamp,buttons:n.buttons,live:n.live,botsEnabled:n.botsEnabled},unread:n.unread,loaded:!1,messages:[this.getConversationMessage(n)]}):null},this.getConversationMessage=function(e){var t=e.user;t.displayAsStaff=!0,t.avatarUrl=t.avatarUrl||(t.avatarUrls?t.avatarUrls[0]:null);var n={};return e.buttons&&e.buttons.length>0&&(n.buttons=e.buttons),{id:"*ob_msg",user:t,createdAt:new Date(e.timestamp),body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(e.message)),body_preview:e.message,system:!0,meta:n}},this.updateOutboundConversation=function(e){this.outboundConversations[e.outboundData.id]&&(this.outboundConversations[e.outboundData.id].unread=e.unread,e.id&&e.id!=this.getOutboundConversationId(e.outboundData.id)&&(this.outboundConversations[e.outboundData.id].conversationId=e.id,this.outboundConversations[e.outboundData.id].conversationSlug=e.slug),this.cache())},this.createOutboundConversation=function(e,t,n,r,i,o,a,s,p,c,l,u,d,h,f){!i&&this.outboundConversations[t]||(n||(n={type:"team"}),this.outboundConversations[t]={message:e,id:t,user:n,timestamp:r,unread:!0,buttons:o,onClickScript:a,persisted:!0,name:s,"transient":!!p,botsEnabled:!!l,live:!!c,auto:!!d,enableCustomFields:!!h,disableCueClick:!!f},u!==undefined&&(this.outboundConversations[t].expires=u),this.cache())},this.cache=function(){Reamaze.localStorage.setItem(e,JSON.stringify(this.outboundConversations))},this},function(e){e.namespace("Reamaze"),Reamaze.PushAgent=createReactClass({displayName:"Reamaze.PushAgent",propTypes:{appContext:PropTypes.object.isRequired,currentUser:PropTypes.object.isRequired,subscribed:PropTypes.bool},getDefaultProps:function(){return{subscribed:!0}},getInitialState:function(){return{supportsNotifications:"serviceWorker"in navigator&&"PushManager"in window,permission:"undefined"!=typeof Notification?Notification.permission:null}},componentDidMount:function(){this.state.supportsNotifications&&"granted"==this.state.permission&&this.registerServiceWorker()},registerServiceWorker:function(){var e=function(e){worker=null,e.installing?worker=e.installing:e.waiting?worker=e.waiting:e.active&&(worker=e.active),worker&&("activated"==worker.state?this.subscribeToken(e):worker.addEventListener("statechange",function(t){"activated"==t.target.state&&this.subscribeToken(e)}.bind(this)))}.bind(this);navigator.serviceWorker.register("/apps/reamaze/sdks/rmzServiceWorker.js").then(e)["catch"](function(){navigator.serviceWorker.register("/sdks/rmzServiceWorker.js").then(e)["catch"](function(){navigator.serviceWorker.register("/rmzServiceWorker.js").then(e)["catch"](function(){})})}),navigator.serviceWorker.ready.then(function(e){this.subscribeToken(e)}.bind(this))},subscribeToken:function(t){t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlB64ToUint8Array("BB4X1o9wQvuF7xVsk1NSgSLQlw-UB-NvdYvpc67vxa9GuHOKCBhXM9QyJUiaAAtSILVblrunLrQeuMOYImJuoI8")}).then(function(t){e.ajax({url:this.props.appContext.baseDataUrl+"/data/push_tokens.json",beforeSend:function(){},method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({sso:this.props.currentUser.ssoData(),push_token:{token:JSON.stringify(t.toJSON()),token_name:null,device_id:null,platform:"vapid",status:this.props.subscribed?"active":"paused"}}),success:function(){},error:function(){},complete:function(){}})}.bind(this))},urlB64ToUint8Array:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},render:function(){return!1}})}(jQuery,React);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){Reamaze.ACTIONS={PING:"PING",PING_LIVE_STATUS:"PING_LIVE_STATUS",UPDATE_PING_DATA:"UPDATE_PING_DATA",UPDATE_LIVE_STATUS:"UPDATE_LIVE_STATUS",ROUTE:"ROUTE",VIEW_CONVERSATION:"VIEW_CONVERSATION",OPEN_POPUP:"OPEN_POPUP",USER_TRANSITION:"USER_TRANSITION",BUILD_CONVERSATION:"BUILD_CONVERSATION",BUILD_MESSAGE:"BUILD_MESSAGE",SAVE_CONVERSATION:"SAVE_CONVERSATION",SHOW_PROMPT:"SHOW_PROMPT",REMOVE_PROMPT:"REMOVE_PROMPT"},Reamaze.EFFECTS={CREATE_MESSAGE_NOTIFICATION:"CREATE_MESSAGE_NOTIFICATION",PING_API:"PING_API",PING_LIVE_STATUS:"PING_LIVE_STATUS",CALL_UNREAD_CALLBACK:"CALL_UNREAD_CALLBACK",POPUP_OPENED:"POPUP_OPENED",CLEAR_ALL_NOTIFICATIONS:"CLEAR_ALL_NOTIFICATIONS",CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:"CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS",CREATE_OUTBOUND_NOTIFICATION:"CREATE_OUTBOUND_NOTIFICATION",DELETE_OUTBOUND_NOTIFICATION:"DELETE_OUTBOUND_NOTIFICATION",API_GET_CONVERSATIONS:"API_GET_CONVERSATIONS",API_GET_CONVERSATION:"API_GET_CONVERSATION",API_GET_BRAND_DATA:"API_GET_BRAND_DATA",API_POST_CONVERSATION:"API_POST_CONVERSATION",TRACK_EVENT:"TRACK_EVENT"};var calculateUnread=function(e){var t=0;return Object.keys(e).forEach(function(n){e[n].unread&&t++}),t},_route=function(e,t,n){var r=e.appContext.route,i=e.appContext.routeParams;return t==r&&JSON.stringify(n)==JSON.stringify(i)||(e.appContext.prevRoute=r,e.appContext.prevRouteParams=i),e.appContext.route=t,e.appContext.routeParams=n,e},rootStateReducer=function(e,t,n){switch(n.type){case Reamaze.ACTIONS.ROUTE:return e=_route(e,n.payload.route,n.payload.routeParams);case Reamaze.ACTIONS.PING:return e.pinging?null:(e.pinging=!0,{effects:[{type:Reamaze.EFFECTS.PING_API}]});case Reamaze.ACTIONS.UPDATE_PING_DATA:e.ping=n.payload;var r=Reamaze.Styles.fromBrand(e.ping?e.ping.brand:null,t.styles);for(var i in e.appContext.brand.styles=r,e.appContext.chatIsLive=n.payload.chatIsLive,n.payload.conversations)e.conversations[i]||(e.conversations[i]=n.payload.conversations[i])
;return e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.effects.push({type:Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS}),e.appContext.brand=$jq.extend({},e.appContext.brand||{},n.payload.brand,{staffAvatars:n.payload.staffAvatars,liveStaffAvatars:n.payload.liveStaffAvatars}),e;case Reamaze.ACTIONS.PING_LIVE_STATUS:return{effects:[{type:Reamaze.EFFECTS.PING_LIVE_STATUS}]};case Reamaze.ACTIONS.UPDATE_LIVE_STATUS:var o=!1;return e.appContext.chatIsLive!=n.payload.chatIsLive&&(o=!0),e.appContext.chatIsLive=n.payload.chatIsLive,e.appContext.brand&&(o||JSON.stringify(e.appContext.brand.liveStaffAvatars)==JSON.stringify(n.payload.liveStaffAvatars)||(o=!0),e.appContext.brand=$jq.extend({},e.appContext.brand,{liveStaffAvatars:n.payload.liveStaffAvatars})),o?e:null;case Reamaze.ACTIONS.VIEW_CONVERSATION:e=_route(e,"conversations:show",{slug:n.payload.slug});case Reamaze.ACTIONS.OPEN_POPUP:var a=n.payload||{};if("undefined"==typeof a.anchor&&(a.anchor=!!t.widgetOpts),a.anchor&&t.widgetOpts&&t.widgetOpts.position&&(a.anchor={},t.widgetOpts.position.top?a.anchor.top=parseInt(t.widgetOpts.position.top,10)+10+parseInt(t.widgetOpts.size,10):t.widgetOpts.position.bottom&&(a.anchor.bottom=parseInt(t.widgetOpts.position.bottom,10)+10+parseInt(t.widgetOpts.size,10)),t.widgetOpts.position.left?a.anchor.left=t.widgetOpts.position.left:t.widgetOpts.position.right&&(a.anchor.right=t.widgetOpts.position.right)),a.route)e=_route(e,a.route,a.routeParams||{});else if(a.path||e.appContext.route&&!n.payload.mode)a.path&&(e=_route(e,"kb:index",{path:a.path}));else{var s=n.payload.mode||t.popupOpts.mode,p="hub:index";"kb"==s||"faq"==s?p="kb:index":"contact"==s&&(p="conversations:new"),e=_route(e,p,null)}return"widget"==a.source&&e.appContext.shoutbox.open||(e.appContext.shoutbox.open=!a.minimized),e.popup=a,a.minimized||(e.effects.push({type:Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS}),e.messagePrompts={}),e.effects.push({type:Reamaze.EFFECTS.POPUP_OPENED,payload:{minimized:a.minimized}}),e;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return e.appContext.brand.name||e.fetchingBrandData||e.effects.push({type:Reamaze.EFFECTS.API_GET_BRAND_DATA}),e;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:var c=e.outboundConversations.getConversation(n.payload.id);return c&&c.unread&&((c=JSON.parse(JSON.stringify(c))).unread=!1,$jq.extend(e.conversations[c.slug],c),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.outboundConversations.updateOutboundConversation(e.conversations[c.slug])),e;default:return null}},conversationsStateReducer=function(e,t,n){switch(n.type){case Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED:n.payload.pendingSlug&&delete e.conversations[n.payload.pendingSlug];var r=e.currentUser.getAnonymousId(),i=r&&!n.payload.user.anonymous_id;e.currentUser.setAnonymousId(n.payload.user.anonymous_id),e.currentUser.set("_id",n.payload.user.id),e.currentUser.set("email",n.payload.user.email),e.currentUser.set("name",n.payload.user.name);var o=e.currentUser.getConversationTokens();o.push(n.payload.conversation.token),e.currentUser.setConversationTokens(o),e.conversations[n.payload.conversation.slug]=n.payload.conversation,e=_route(e,"conversations:show",{slug:n.payload.conversation.slug,id:n.payload.conversation.id});var a={action:(n.payload.conversation.isChat?"Chat":"Conversation")+" Started"};return n.payload.conversation.outboundData&&n.payload.conversation.outboundData.id&&(e.outboundConversations.updateOutboundConversation(n.payload.conversation),delete e.conversations[e.outboundConversations.getOutboundConversationId(n.payload.conversation.outboundData.id)],e.conversations[n.payload.conversation.slug].messages.unshift(e.outboundConversations.getConversationMessage(n.payload.conversation.outboundData)),a.label="From Cue "+(n.payload.conversation.outboundData.name||n.payload.conversation.outboundData.id)),e.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:a}),i&&e.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:r}}),e;case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:if(!n.payload.conversationSlug||!n.payload.props||!e.conversations[n.payload.conversationSlug])return null;var s=(d=e.conversations[n.payload.conversationSlug].messages).filter(function(e){return e.pending||e.errored});if(n.payload.props.messages&&(n.payload.props.messages=n.payload.props.messages.concat(s).sort(function(e,t){var n=new Date(e.createdAt),r=new Date(t.createdAt);return n<r?-1:n>r?1:0})),$jq.extend(e.conversations[n.payload.conversationSlug],n.payload.props),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),n.payload.props.outboundData&&n.payload.props.outboundData.id){var p=e.outboundConversations.getConversationMessage(n.payload.props.outboundData);e.conversations[n.payload.conversationSlug].messages[0].id!=p.id&&e.conversations[n.payload.conversationSlug].messages.unshift(p),e.outboundConversations.updateOutboundConversation(e.conversations[n.payload.conversationSlug])}return e;case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return $jq.extend(e.conversations[n.payload.conversationSlug],n.payload.props),e;case Reamaze.Conversations.ACTIONS.MESSAGE_CREATED:var c=!1,l=!1;if((e.conversations[n.payload.conversationSlug].messages||[]).forEach(function(e){e.id==n.payload.message.id&&(l=!0),e.user.displayAsStaff&&(c=!0)}),l)return;for(var u=n.payload.message,d=$jq.extend([],e.conversations[n.payload.conversationSlug].messages||[]),h=-1,f=0;f<d.length;f++)if("undefined"!=typeof d[f].requestId&&d[f].requestId===u.requestId){h=f;break}if(h>-1)d.splice(h,1,u);else{var m=-1;for(f=0;f<d.length;f++)if(d[f].created_at>=u.created_at){m=f;break}m>-1?d.splice(m,0,u):d.push(u)}if(e.conversations[n.payload.conversationSlug].messages=d,e.conversations[n.payload.conversationSlug].unread=!0,e.conversations[n.payload.conversationSlug].promptOptions=[],"conversations:show"==e.appContext.route&&e.appContext.routeParams.slug==n.payload.conversationSlug&&e.appContext.shoutbox.open&&e.appContext.documentVisible||(e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}})),e.currentUser.get("_id")!=n.payload.message.user.id)(u=n.payload.message).conversation={id:n.payload.conversationId,slug:n.payload.conversationSlug},e.appContext.shoutbox.open||(e.messagePrompts[u.conversation.id]=u),e.effects.push({type:Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION,payload:n.payload.message}),!c&&n.payload.message.user.displayAsStaff&&e.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:(e.conversations[n.payload.conversationSlug].isChat?"Chat":"Conversation")+" Staff First Response Received"}});return e;case Reamaze.Conversations.ACTIONS.MESSAGE_READ:return e.conversations[n.payload.conversationSlug].messages?(e.conversations[n.payload.conversationSlug].messages.forEach(function(e){if(e.id==n.payload.messageId)return e.viewed=!0,!1}),e):e;case Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED:return e.conversations[n.payload.conversationSlug].messages&&e.conversations[n.payload.conversationSlug].messages.length?(e.conversations[n.payload.conversationSlug].insertConversationStartedMessageId=e.conversations[n.payload.conversationSlug].messages.slice(-1)[0].id,e):e;case Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED:return e.conversations[n.payload.conversationSlug].messages?(e.conversations[n.payload.conversationSlug].messages.forEach(function(t){if(t.id==n.payload.messageId)return t.appreciated||n.payload.error||(e.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:"Message Appreciated"}}),t.appreciated=!0),!1}),e):e;case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS:return e.conversationsFetched?null:(e.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATIONS}),e);case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK:for(var g in n.payload)if((!e.conversations[g]||!e.conversations[g].loaded&&!e.conversations[g].fetching)&&(e.conversations[g]=n.payload[g],e.conversations[g].outboundData)){p=e.outboundConversations.getConversationMessage(e.conversations[g].outboundData);e.conversations[g].messages[0].id!=p.id&&e.conversations[g].messages.unshift(p)}return e.conversationsFetched=!0,e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;case Reamaze.Conversations.ACTIONS.GET_CONVERSATION:return e.conversations[n.payload.slug].fetching?null:(e.conversations[n.payload.slug].fetching=!0,e.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATION,payload:n.payload}),e);case Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK:if(e.conversations[n.payload.slug]=n.payload,e.conversations[n.payload.slug].outboundData){p=e.outboundConversations.getConversationMessage(e.conversations[n.payload.slug].outboundData);e.conversations[n.payload.slug].messages[0].id!=p.id&&e.conversations[n.payload.slug].messages.unshift(p)}return e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;case Reamaze.ACTIONS.BUILD_CONVERSATION:return e.conversations[n.payload.slug]={pending:!0,saving:!1,error:!1,slug:n.payload.slug,id:n.payload.slug,messages:[{id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(n.payload.data.message.body)),body_preview:n.payload.data.message.body,pendingData:n.payload.data}]},e=_route(e,"conversations:show",{slug:n.payload.slug});case Reamaze.ACTIONS.SAVE_CONVERSATION:var y=Math.floor(Date.now()/1e3),b=n.payload.formData;if(b.push({name:"_zt",value:Reamaze.ec("0"+y)}),b.push({name:"_zt2",value:y}),b.push({name:"_url",value:window.location.href}),b.push({name:"_browser",value:Reamaze.Utils.massageUserAgent(window.navigator)}),b.push({name:"_zc_field",value:"5b5cd0da3121fc53b4bc84d0c8af2e81"}),b.push({name:"sparams",value:$jq.param({sso:e.currentUser.ssoData()})}),v=e.conversations[n.payload.slug]){if(e.appContext._preview)return v.loaded=!0,v.pending=!1,e.conversations[n.payload.slug]=v,e;v.saving=!0,v.error=!1,e.conversations[n.payload.slug]=v;for(f=0;f<v.messages.length;f++)if(v.messages[f].pendingData&&!v.messages[f].user.displayAsStaff){u=v.messages[f];break}v.outbound&&v.outboundData&&b.push({name:"outbound_data_str",value:JSON.stringify(v.outboundData)}),b.push({name:"a_comment_body",value:u.pendingData.a_comment_body}),b.push({name:"conversation[messages_attributes][0][body]",value:u.pendingData.message.body}),u.pendingData.message.attachment_ids&&u.pendingData.message.attachment_ids.length>0&&u.pendingData.message.attachment_ids.forEach(function(e){b.push({name:"conversation[messages_attributes][0][attachment_ids][]",value:e})})}return e.effects.push({type:Reamaze.EFFECTS.API_POST_CONVERSATION,payload:{pendingSlug:n.payload.slug,formData:b}}),e;case Reamaze.ACTIONS.BUILD_MESSAGE:return(v=e.conversations[n.payload.slug])?(v.outbound&&(v.pending=!0,v.saving=!1,v.error=!1,v.messages.push({id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(n.payload.data.message.body)),body_preview:n.payload.data.message.body,pendingData:n.payload.data})),e.conversations[n.payload.slug]=v,e):null;case Reamaze.ACTIONS.SHOW_PROMPT:return e.conversations[n.payload.conversationSlug]?(e.conversations[n.payload.conversationSlug].promptOptions=n.payload.options,e):null;case Reamaze.ACTIONS.REMOVE_PROMPT:return e.conversations[n.payload.conversationSlug]?(e.conversations[n.payload.conversationSlug].promptOptions=null,e):null;case Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION:var v,x=n.payload.outbound;return e.outboundConversations.createOutboundConversation(x.message,x.id,x.user,Date.now(),!x.id,x.buttons,e.appContext._preview?"function() {}":x.onClickScript,x.name,!!x["transient"],!1,!!x.botsEnabled,x.end||0,!!x.auto,!!x.enableCustomFields,!!x.disableCueClick),(v=e.outboundConversations.getConversation(x.id))&&(e.conversations[v.id]=v),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION,payload:{outbound:x}}),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;case Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION:var C=n.payload.ids||[];return n.payload.id&&C.push(n.payload.id),C.forEach(function(t){var n=e.outboundConversations.getConversation(t);e.outboundConversations.removeOutboundConversation(t),n&&e.conversations[n.id]&&e.conversations[n.id].outbound&&delete e.conversations[n.id],e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION,payload:{id:t}})}),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;default:return null}},rootEffectsHandler=function(e){switch(e.type){case Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:if(this.state.conversations&&Object.keys(this.state.conversations).length>0){var t=[];Object.keys(this.state.conversations).forEach(function(e){var n=this.state.conversations[e];if(n.unread&&n.newFromStaff){var r=n.messages[0];r.conversation={id:n.id,slug:n.slug};var i=this.notificationFromMessagePrompt(r);i.sound=!0,t.push(i)}}.bind(this)),t.length>0&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:t})}break;case Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION:if(this.refs.notifications&&(!this.state.popup||!this.state.appContext.shoutbox.open)){var n=this.notificationFromMessagePrompt(e.payload);n.renew=!0,this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[n]})}this.playSound();break;case Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS});break;case Reamaze.EFFECTS.PING_API:$jq.ajax({url:this.props.baseDataUrl+"/data/ping?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){e.currentUser&&this.state.currentUser.set("_id",e.currentUser.id),this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_PING_DATA,payload:e})}.bind(this),complete:function(){this.state.pinging=!1}.bind(this)});break;case Reamaze.EFFECTS.PING_LIVE_STATUS:$jq.ajax({url:this.props.baseDataUrl+"/data/ping/live_status?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_LIVE_STATUS,payload:e})}.bind(this)});break;case Reamaze.EFFECTS.CALL_UNREAD_CALLBACK:"function"==typeof this.props.unreadCallbackFunc&&this.props.unreadCallbackFunc({count:e.payload.unreadCount});break;case Reamaze.EFFECTS.POPUP_OPENED:if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!e.payload.minimized){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);parseInt(r[1],10),parseInt(r[2],10);$jq("body").data("rmz-initial-pos",$jq("body").css("position")),$jq("body").data("rmz-initial-min-width",$jq("body").css("min-width")),$jq("body").data("rmz-initial-scroll",$jq("html").scrollTop()),$jq("body").data("rmz-initial-top",$jq("body").css("top")),$jq("body").data("rmz-initial-left",$jq("body").css("left")),$jq("body").data("rmz-initial-right",$jq("body").css("right")),$jq("body").css({position:"fixed"}),$jq("body").css({top:-$jq("body").data("rmz-initial-scroll"),left:0,right:0}),$jq("body").css({minWidth:"100%"}),$jq("meta[name=viewport]").length>=1&&(this.$metaNoZoom=$jq('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />'),this.$metaNoZoom.appendTo($jq("head")))}e.payload.minimized||$jq(window).trigger("Reamaze.popupOpened");break;case Reamaze.EFFECTS.API_GET_BRAND_DATA:$jq.ajax({url:"https://"+this.props.cdnDomain+"/data/brands/"+this.state.appContext.brand.url+"/ping",success:function(e){var t=this.state.appContext;t.brand=$jq.extend({},t.brand,e),this.setState({appContext:t})}.bind(this),complete:function(){this.setState({fetchingBrandData:!1})}.bind(this)});break;case Reamaze.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},conversationsEffectsHandler=function(effect){switch(effect.type){case Reamaze.EFFECTS.API_GET_CONVERSATIONS:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK,payload:e.conversations})}.bind(this)});break;case Reamaze.EFFECTS.API_GET_CONVERSATION:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations/"+effect.payload.slug+"?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK,payload:e.conversation})}.bind(this),complete:function(){this.state.conversations[effect.payload.slug].fetching=!1}.bind(this)});break;case Reamaze.EFFECTS.API_POST_CONVERSATION:$jq.ajax({url:this.state.appContext.baseDataUrl+"/data/conversations",type:"POST",data:effect.payload.formData,success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user,pendingSlug:effect.payload.pendingSlug}})}.bind(this),error:function(e){var t=this.state.conversations[effect.payload.pendingSlug];t.error=!0,t.errors=Reamaze.ErrorMap(e.responseJSON.conversation),t.saving=!1,this.setState({conversations:this.state.conversations})}.bind(this),crossDomain:!0});break;case Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION:var outbound=effect.payload.outbound,notification={message:outbound.message,name:outbound.name,id:outbound.id,buttons:outbound.buttons,user:outbound.user,onClickScript:this.state.appContext._preview?"function() {}":outbound.onClickScript,sound:outbound.sound,"transient":!!outbound["transient"],botsEnabled:!!outbound.botsEnabled,disableCueClick:!!outbound.disableCueClick,expires:outbound.end||0,isCue:!0};notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this)),this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[notification]});break;case Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[effect.payload.id]})}};Reamaze.ReamazeJS=createReactClass({displayName:"Reamaze.ReamazeJS",mixins:[TimerMixin],propTypes:{widgetOpts:PropTypes.any,popupOpts:PropTypes.object,baseUrl:PropTypes.string,baseDataUrl:PropTypes.string,account:PropTypes.string,appDomain:PropTypes.string,cdnDomain:PropTypes.string,pusherAppKey:PropTypes.string,currentUser:PropTypes.object,customFields:PropTypes.object,trans:PropTypes.object,font:PropTypes.string,contactMode:PropTypes.string,faces:PropTypes.array,unreadCallbackFunc:PropTypes.func,enableKb:PropTypes.bool,enableBrowserTabAlerting:PropTypes.bool,pushNotifications:PropTypes.bool,route:PropTypes.string,routeParams:PropTypes.object,styles:PropTypes.object,_preview:PropTypes.bool,brandData:PropTypes.object,outbounds:PropTypes.array,apps:PropTypes.object},pusher:null,getDefaultProps:function(){return{font:"normal normal 13px/17px Nunito, Helvetica, Arial, sans-serif"}},getInitialState:function(){var e={baseUrl:this.props.baseUrl,baseDataUrl:this.props.baseDataUrl,appDomain:this.props.appDomain,cdnDomain:this.props.cdnDomain,getPusher:this._getPusher,contactMode:this.props.contactMode,faces:this.props.faces,fullScreen:window.innerWidth<=767&&!this.props._preview,hasTouch:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,isMobileBrowser:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),_preview:this.props._preview,brand:$jq.extend({},this.props.brandData,{styles:Reamaze.Styles.fromBrand(this.props.brandData?this.props.brandData:null,this.props.styles),url:this.props.account}),shoutbox:{open:!1},customFields:this.props.customFields||{},route:this.props.route,routeParams:this.props.routeParams||{},prevRoute:this.props.route,prevRouteParams:{},apps:this.props.apps,documentVisible:!this.getDocumentHidden()},t=new Reamaze.Dispatcher;t.register(function(e){var t=$jq.extend({},this.state);t.effects=[];var n=(t=$jq.extend(null,rootStateReducer(t,this.props,e),conversationsStateReducer(t,this.props,e))).effects;delete t.effects,t&&Object.keys(t).length>0&&this.setState(t),n&&n.length>0&&(n.forEach(rootEffectsHandler.bind(this)),n.forEach(conversationsEffectsHandler.bind(this)))}.bind(this)),e.dispatcher=t;var n=new Reamaze.OutboundConversations,r={popup:null,messagePrompts:{},ping:null,unreadCount:0,currentUser:this.props.currentUser,notificationCount:0,outboundConversations:n,conversations:n.getConversations()||{},conversationsFetched:!1,hide:!1,outbounds:(this.props.outbounds||[]).map(function(e){return e.auto=!0,e}),appContext:e},i=document.createElement("audio");return this.audioSupported=!this.props.disableAudio&&!!(i.setAttribute&&i.canPlayType&&i.canPlayType("audio/mpeg;").replace(/no/,"")),r},componentDidUpdate:function(){this.state.popup||Reamaze.localStorage.removeItem("popup.page");try{Reamaze.localStorage.setItem("messagePrompts.state",JSON.stringify(this.state.messagePrompts))}catch(e){Reamaze.localStorage.removeItem("messagePrompts.state")}this.state.appContext.route?Reamaze.localStorage.setItem("route",this.state.appContext.route):Reamaze.localStorage.removeItem("route"),this.state.appContext.shoutbox.open?Reamaze.localStorage.removeItem("popup.minimized"):Reamaze.localStorage.setItem("popup.minimized",1);try{Reamaze.localStorage.setItem("routeParams",JSON.stringify(this.state.appContext.routeParams))}catch(e){Reamaze.localStorage.removeItem("routeParams")}this.subscribeConversationChannels()},componentDidMount:function(){this._resizeHandler=$jq.debounce(500,this._resizeHandler),$jq(window).on("resize",this._resizeHandler),$jq(window).on("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).on("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).on("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).on("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).on("Reamaze.openPopup",this._openPopupTrigger),$jq(window).on("Reamaze.closePopup",this._closePopupTrigger),$jq(window).on("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).on("Reamaze.pusherSetupComplete",function(){this.forceUpdate()}.bind(this)),$jq(window).on("Reamaze.notify",this.onNotify),$jq(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).on("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).on("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).on("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this._restoreState();var e=document.createElement("iframe");this.pusherIframe=e,e.style.setProperty("width",0,"important"),e.style.setProperty("height",0,"important"),e.style.display="none",document.body.appendChild(e);var t=e.contentDocument;t.open(),t.close();var n=document.createElement("script");n.type="text/javascript",n.src="https://js.pusher.com/4.0/pusher.min.js",t.head.appendChild(n);var r=function(){e.contentWindow.Pusher?Reamaze.setupPusher(e.contentWindow.Pusher):this.setTimeout(r,200)}.bind(this);r(),this.subscribeConversationChannels(),this.setInterval(this.pingForSSOUsers,12e4)},componentWillUnmount:function(){$jq(window).off("resize",this._resizeHandler),$jq(window).off("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).off("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).off("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).off("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).off("Reamaze.openPopup",this._openPopupTrigger),$jq(window).off("Reamaze.closePopup",this._closePopupTrigger),$jq(window).off("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).off("Reamaze.pusherSetupComplete"),$jq(window).off("Reamaze.notify",this.onNotify),$jq(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).off("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).off("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).off("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.pusher&&this.pusher.disconnect(),this.pusherIframe&&(document.body.removeChild(this.pusherIframe),Reamaze.Pusher=undefined)},handleVisibilityChange:function(){var e=this.state.appContext;this.state.appContext.documentVisible!=!this.getDocumentHidden()&&(e.documentVisible=!this.state.appContext.documentVisible,this.setState({appContext:e}))},getDocumentHidden:function(){try{if("hidden"in document)return document.hidden;for(var e=["webkit","moz","ms","o"],t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return document[e[t]+"Hidden"]}catch(n){}return null},pingForSSOUsers:function(){this.state.currentUser.isSSOUser()&&this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},toggleDisplayOnFullScreenElement:function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=!!e;$jq(e).parents("#reamaze-container").length&&(t=!1),this.setState({hide:t})},conversationsSubscribed:{},subscribeConversationChannels:function(){if(Reamaze.Pusher)for(var e=0,t=Object.keys(this.state.conversations).reduce(function(e,t){var n=this.state.conversations[t];return n&&n.id&&e.push(n),e}.bind(this),[]).sort(function(e,t){var n=new Date(e.messages&&e.messages.length>0?e.messages[e.messages.length-1].createdAt:e.last_message_timestamp),r=new Date(t.messages&&t.messages.length>0?t.messages[t.messages.length-1].createdAt:t.last_message_timestamp);return n==r?0:n<r?1:-1}),n=0;n<t.length&&!(e>=8);n++){var r=this._getPusher(),i=t[n],o=i.slug;if(!i.outbound&&!i.pending){var a=new Date;if(a.setMonth(a.getMonth()-2),!(i.messages&&i.messages.length>0&&i.messages[i.messages.length-1].createdAt&&new Date(i.messages[i.messages.length-1].createdAt)<a)){e+=1;var s="presence-conversation-"+i.id;if(!r.channel(s)||!this.conversationsSubscribed[o]){var p=r.subscribe(s);p.bind("pusher:subscription_succeeded",function(){this.state.conversations[o].botsEnabled&&!this.state.conversations[o].botHandoverTimestamp&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:o}})}.bind(this,p)),p.bind("pusher:member_added",function(){}.bind(this,p)),p.bind("show-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SHOW_PROMPT,payload:{conversationSlug:t.slug,options:t.options}})}.bind(this,p)),p.bind("remove-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.REMOVE_PROMPT,payload:{conversationSlug:t}})}.bind(this,p)),p.bind("messages/new",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,o,i.id)),p.bind("messages/show_conversation_started_message",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,o,i.id)),p.bind("messages/read",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_READ,payload:{conversationSlug:e,messageId:t.message_id}})}.bind(this,o)),p.bind("conversation/update",function(e,t){this.state.conversations[e];1==t.archived&&(props={status:"archived"},t.satisfactionRating&&(props.satisfactionRating=t.satisfactionRating),this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e,props:props}}))}.bind(this,o)),this.conversationsSubscribed[o]=!0}}}}},onNewOutbound:function(e,t){this.setState(function(e){var n=JSON.parse(JSON.stringify(e.outbounds||[]));return n.push(t),{outbounds:n}})},onRemoveOutbound:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:t}})},onRemoveAllOutbounds:function(){var e=this.state.outboundConversations.getOutboundConversations();if(e){var t=Object.keys(e);this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{ids:t}})}},_onWidgetRouteEvent:function(e,t){var n=_route(this.state,t.route,t.routeParams);this.setState({appContext:n.appContext})},playSound:function(){if(this.refs.newMessageSound){var e=ReactDOM.findDOMNode(this.refs.newMessageSound).play();e&&e.then(function(){})["catch"](function(){})}},getWidget:function(){if(this.props.widgetOpts){var e=$jq.extend(!0,{},this.props.widgetOpts);return e.color=this.state.appContext.brand.styles.widgetColor,e.gradient=this.state.appContext.brand.styles.gradient,e.iconColor=this.state.appContext.brand.styles.widgetIconColor,this.state.appContext.fullScreen&&(e.size=Math.max(.8*parseInt(e.size,10),44)),React.createElement(Reamaze.Widget.Widget,_extends({},e,{openPopupFunc:this._openPopup,closePopupFunc:this._closePopup,conversations:this.state.conversations,unreadCount:this.state.unreadCount,hideLabel:this.state.notificationCount>0,appContext:this.state.appContext,enableBrowserTabAlerting:this.props.enableBrowserTabAlerting}))}return null},getPopup:function(){if(!this.state.popup)return null;var e=[],t=$jq.extend({},this.props.popupOpts||{},this.state.popup);return e.push(React.createElement(Reamaze.Shoutbox,{popupOptions:t,ping:this.state.ping,conversations:this.state.conversations,conversationsFetched:this.state.conversationsFetched,enableKb:this.props.enableKb,currentUser:this.state.currentUser,closePopup:this._closePopup,key:"shoutbox",appContext:this.state.appContext,label:this.props.widgetOpts?this.props.widgetOpts.label:{}})),e},onNotify:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[t]})},_openPopupTrigger:function(e,t){this._openPopup.apply(this,[t])},_openPopup:function(e){e=e||{},this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:e})},_closePopupTrigger:function(){this._closePopup.apply(this,Array.prototype.slice.call(arguments).splice(1,arguments.length))},_closePopup:function(){this.state.appContext.shoutbox.open=!1,this.setState({appContext:this.state.appContext},function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&($jq("body").data("rmz-initial-pos")&&($jq("body").css({position:$jq("body").data("rmz-initial-pos")}),$jq("body").data("rmz-initial-pos",null)),$jq("body").data("rmz-initial-min-width")&&($jq("body").css({minWidth:$jq("body").data("rmz-initial-min-width")}),$jq("body").data("rmz-initial-min-width",null)),($jq("body").data("rmz-initial-scroll")||0===$jq("body").data("rmz-initial-scroll"))&&($jq("html").scrollTop($jq("body").data("rmz-initial-scroll")),$jq("body").data("rmz-initial-scroll",null)),($jq("body").data("rmz-initial-top")||0===$jq("body").data("rmz-initial-top"))&&($jq("body").css({top:$jq("body").data("rmz-initial-top")}),$jq("body").data("rmz-initial-top",null)),($jq("body").data("rmz-initial-left")||0===$jq("body").data("rmz-initial-left"))&&($jq("body").css({
left:$jq("body").data("rmz-initial-left")}),$jq("body").data("rmz-initial-left",null)),($jq("body").data("rmz-initial-right")||0===$jq("body").data("rmz-initial-right"))&&($jq("body").css({right:$jq("body").data("rmz-initial-right")}),$jq("body").data("rmz-initial-right",null)),this.$metaNoZoom&&(this.$metaNoZoom.remove(),this.$metaNoZoom=null)),Reamaze.Analytics.track("Shoutbox Closed")}),$jq(window).trigger("Reamaze.popupClosed")},_escKeyHandler:function(e){27==e.which&&this._closePopup()},_resizeHandler:function(){this.state.appContext.fullScreen=window.innerWidth<=767&&!this.state.appContext._preview,this.setState({appContext:this.state.appContext})},_kbTooltipHandler:function(e){e.preventDefault();var t,n=$jq(e.target),r=n.data("kbUrl"),i=n.data("kbArticle"),o=n.data("kbTopic"),a=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored");(o||i||r)&&((t=r||"/kb/"+(o||"articles")+(i?"/"+i:""))&&(t+=(t.indexOf("?")>0?"&":"?")+"ts="+Date.now(),this._openPopup({anchor:a,route:"kb:show",routeParams:{path:t}})))},_popupHandler:function(e){e.preventDefault();var t=$jq(e.currentTarget).data("reamaze-lightbox-title"),n=$jq(e.currentTarget).data("reamaze-lightbox-width")||550,r=$jq(e.currentTarget).data("reamaze-lightbox-height")||600,i=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored"),o=$jq(e.currentTarget).data("reamaze-lightbox-contact-mode")||null,a=$jq(e.currentTarget).data("reamaze-lightbox-disable-chat")||!1,s=$jq(e.currentTarget).data("reamaze-lightbox-channel")||null,p=$jq(e.currentTarget).data("reamaze-lightbox-placeholder")||null,c=$jq(e.currentTarget).data("reamaze-lightbox-subject")||null,l=null;return $jq(e.currentTarget).data("reamaze-lightbox")&&"default"!=$jq(e.currentTarget).data("reamaze-lightbox")&&(l=$jq(e.currentTarget).data("reamaze-lightbox")),this._openPopup({anchor:i,title:t,width:n,height:r,mode:l,disableChat:a,contactMode:o,category:s,override_placeholder:p,subject:c}),!1},_popupTriggerHandler:function(e){return this._openPopup(),e.preventDefault(),!1},_getPusher:function(){if(!Reamaze.Pusher)throw"Pusher No Conflict Mode: Pusher not ready.";return this.pusher||(this.pusher=new Reamaze.Pusher(this.props.pusherAppKey,{authTransport:"buffered",authDelay:200,authEndpoint:this.props.baseUrl+"/data/pusher/buffered_auth",encrypted:!0,activityTimeout:6e4,pongTimeout:15e3,auth:function(e){var t={params:{}};return t.params.ssos=$jq.param(e.ssoData()),t.params.url=window.location.href,t}.bind(this,this.state.currentUser)})),this.pusher},_restoreState:function(){if(!this.state.appContext._preview){var e=JSON.parse(Reamaze.localStorage.getItem("messageTemplate.lastAction")||"{}"),t=!1;Object.keys(e).length&&e.name.indexOf("article")>-1&&(t=!!e.timestamp&&Date.now()-parseInt(e.timestamp)<1e4);var n,r,i=Reamaze.localStorage.getItem("route"),o=Reamaze.localStorage.getItem("popup.minimized")||this.state.appContext.fullScreen||t;try{n=JSON.parse(Reamaze.localStorage.getItem("routeParams"))||{}}catch(a){n=null}try{r=JSON.parse(Reamaze.localStorage.getItem("messagePrompts.state"))||{}}catch(a){r={}}"conversations:new"==i||"conversations:index"==i||"hub:index"==i?(i=null,n={}):"kb:index"==i&&"kb"!=this.props.popupOpts.mode&&(i="conversations:new",n={}),this.state=_route(this.state,i,n),this.setState({appContext:this.state.appContext,messagePrompts:r},function(){if(this.state.appContext.route?this._openPopup({minimized:!!o}):this.state.currentUser.isIdentified()&&this.setTimeout(function(){this._openPopup({minimized:!this.state.appContext.shoutbox.open})}.bind(this),6e4*Math.random()+3e3),this.refs.notifications){var e=this.getNotifications();e&&e.length>0&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:e})}}.bind(this))}},getNotifications:function(){var notifications=[],outboundConversations=this.state.outboundConversations.getOutboundConversations();return this.state.messagePrompts&&0!=Object.keys(this.state.messagePrompts).length||0!=Object.keys(outboundConversations).length?(Object.keys(this.state.messagePrompts).forEach(function(e){var t=this.notificationFromMessagePrompt(this.state.messagePrompts[e]);t&&notifications.push(t)}.bind(this)),Object.keys(outboundConversations).forEach(function(k){var notification=outboundConversations[k];notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this),notification.sound=!1,notifications.push(notification)}.bind(this)),notifications):notifications},notificationFromMessagePrompt:function(e){if(e.user.displayAsStaff){var t=document.createElement("div");t.innerHTML=e.body;var n=t.textContent||t.innerText||"";return{id:"c-"+e.conversation.id,message:n,size:"preview",user:{avatarUrls:[e.user.avatarUrl],name:e.user.name},timestamp:new Date(e.createdAt).getTime(),type:"message",sound:!1,onClick:function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.VIEW_CONVERSATION,payload:{slug:e.conversation.slug}})}.bind(this)}}},render:function(){var e={};return this.props.widgetOpts&&this.props.widgetOpts.position?(this.props.widgetOpts.position.top?e.top=parseInt(this.props.widgetOpts.position.top,10)+parseInt(this.props.widgetOpts.size,10):this.props.widgetOpts.position.bottom&&(e.bottom=parseInt(this.props.widgetOpts.position.bottom,10)+parseInt(this.props.widgetOpts.size,10)),this.props.widgetOpts.position.left?e.left=this.props.widgetOpts.position.left:this.props.widgetOpts.position.right&&(e.right=this.props.widgetOpts.position.right)):e={bottom:20,right:20},React.createElement("div",{id:"reamaze-widget-container",style:{font:this.props.font,display:this.state.hide?"none":"block"}},this.audioSupported&&React.createElement("audio",{ref:"newMessageSound",preload:"none"},React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.mp3",type:"audio/mpeg"}),React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.ogg",type:"audio/ogg"})),!!Reamaze.Pusher&&!(this.state.appContext.fullScreen&&this.state.notificationCount>0)&&this.getWidget(),!!Reamaze.Pusher&&this.getPopup(),React.createElement(Reamaze.Notifications.App,{anchor:e,playSound:this.playSound,updateNotificationCount:function(e){this.setState({notificationCount:e})}.bind(this),ref:"notifications",appContext:this.state.appContext,outboundConversations:this.state.outboundConversations}),this.props.pushNotifications&&React.createElement(Reamaze.PushAgent,{subscribed:!0===this.props.pushNotifications||1==this.props.pushNotifications.subscribed||"undefined"==typeof this.props.pushNotifications.subscribed,appContext:this.state.appContext,currentUser:this.state.currentUser}),React.createElement(Reamaze.Outbounds.App,{currentUser:this.props.currentUser,outbounds:this.state.outbounds||[],outboundConversations:this.state.outboundConversations,appContext:this.state.appContext}),React.createElement(Reamaze.Live.App,{currentUser:this.state.currentUser,appContext:this.state.appContext}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.RectSpinner=n({displayName:"Reamaze.RectSpinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{className:"reamaze-rect-spinner"}," "))},getStyleTag:function(){return t.createElement("style",null,"\n          .reamaze-rect-spinner,\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            background: "+this.props.xColor+";\n            -webkit-animation: load1 1s infinite ease-in-out;\n            animation: load1 1s infinite ease-in-out;\n            width: "+parseInt(this.props.style.width)/4+"px;\n            height: "+.8*parseInt(this.props.style.height)+"px;\n          }\n          .reamaze-rect-spinner {\n            color: "+this.props.xColor+";\n            text-indent: -9999em;\n            margin: 0;\n            position: relative;\n            font-size: 11px;\n            -webkit-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n            -webkit-animation-delay: -0.16s;\n            animation-delay: -0.16s;\n          }\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            position: absolute;\n            top: 0;\n            content: '';\n          }\n          .reamaze-rect-spinner:before {\n            left: -"+parseInt(this.props.style.width)/2.5+"px;\n            -webkit-animation-delay: -0.32s;\n            animation-delay: -0.32s;\n          }\n          .reamaze-rect-spinner:after {\n            left: "+parseInt(this.props.style.width)/2.5+"px;\n          }\n          @-webkit-keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px;\n            }\n          }\n          @keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px\n            }\n          }\n\n        ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},reamaze,_support;!function(e,t,n,r){e.namespace("Reamaze");ReactTransitionGroup.CSSTransitionGroup;Reamaze.Shoutbox=n({displayName:"Reamaze.Shoutbox",propTypes:{ping:r.object,conversations:r.object,conversationsFetched:r.bool,enableKb:r.bool,currentUser:r.object,closePopup:r.func,popupOptions:r.shape({zIndex:r.number,width:r.oneOfType([r.string,r.number]),height:r.oneOfType([r.string,r.number]),xColor:r.string,anchor:r.any,mode:r.string,supportsFullScreen:r.bool,disableChat:r.bool,category:r.string,contactMode:r.string}),label:r.object,appContext:r.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{appMounted:!this.props.popupOptions.anchor}},getApps:function(){return this.props.appContext.route?[t.createElement(Reamaze.Hub.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("hub:")&&!this.props.popupOptions.path,key:"hub",contactHeader:this.props.popupOptions.title,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched}),t.createElement(Reamaze.Conversations.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),contactMode:this.props.popupOptions.contactMode||this.props.appContext.contactMode,enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("conversations:")&&!this.props.popupOptions.path,key:"conversations",contactHeader:this.props.popupOptions.title,conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},popupOptions:this.props.popupOptions||{}}),t.createElement(Reamaze.KB.App,{enableKb:this.props.enableKb,currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("kb:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"kb",conversations:this.props.conversations,appContext:this.props.appContext}),t.createElement(Reamaze.Status.App,{currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("status:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"status",conversations:this.props.conversations,appContext:this.props.appContext})]:null},onAppMounted:function(){this.setState({appMounted:!0})},render:function(){var e=this.getApps(),n=this.props.popupOptions,r=n.height,i=_objectWithoutProperties(n,["height"]);return r||(r=650),e?t.createElement("div",null,t.createElement("style",null,"\n              .rmz-shoutbox-popup-container .rmz-shoutbox-frame-container {\n                opacity: 0;\n                -webkit-transition: opacity 200ms ease-in;\n                -moz-transition: opacity 200ms ease-in;\n                -o-transition: opacity 200ms ease-in;\n                -ms-transition: opacity 200ms ease-in;\n                transition: opacity 200ms ease-in;\n              }\n            "),t.createElement("div",{className:"rmz-shoutbox-popup-container"},t.createElement(Reamaze.Popup.Popup,_extends({key:"popup",ref:"popup"},i,{maxHeight:r,height:r,minHeight:200,appContext:this.props.appContext}),!this.state.appMounted&&t.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:this.props.appContext.brand.styles.widgetColor}),t.createElement(Reamaze.Popup.BrandedFrame,{ping:this.props.ping,hidden:!this.state.appMounted,closePopup:this.props.closePopup,appContext:this.props.appContext},t.createElement(Reamaze.ShoutboxInit,{closePopup:this.props.closePopup,appContext:this.props.appContext}),e),t.createElement(Reamaze.Popup.CloseX,{ref:"popupCloseX",onClick:this.props.closePopup,color:this.props.appContext.brand.styles.headerFontColor,fontSize:"25px",height:"50px",width:"64px",textAlign:"right",padding:"18px 12px 12px 12px",top:"0",right:"5px"})))):null}}),Reamaze.ShoutboxInit=n({displayName:"Reamaze.ShoutboxInit",contextTypes:{window:r.object},componentDidMount:function(){e(this.context.window).on("keyup",this.keyHandler)},keyHandler:function(t){e(t.target).is(":input")||27==t.which&&this.props.closePopup()},render:function(){var e=this.props.appContext.fullScreen?"36px":"52px",n=this.props.appContext.brand.styles,r=Reamaze.Utils.pSBC(.95,n.headerBgColor)||"#fafafa";Reamaze.Utils.pSBC(.55,n.headerBgColor);return t.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        #header #secondary-header {\n          text-align: center;\n          font-size: "+(this.props.appContext.fullScreen?"0.9em":"1em")+";\n          margin: 1em 1em 0 1em;\n        }\n        #header #secondary-header .staff-avatars {\n          margin-bottom: 0.8em;\n          height: "+e+";\n        }\n        #header .staff-avatars {\n          height: "+e+";\n        }\n        #header #secondary-header .staff-avatars img,\n        #header .staff-avatars img {\n          width: "+e+";\n          height: "+e+";\n          border-radius: "+e+";\n          margin-left: -10px;\n          background: #fff;\n          border: 1px solid #fff;\n          display: inline-block;\n          color: #0000;\n        }\n        #header #secondary-header .staff-avatars img:first-child {\n          margin-left: 0;\n        }\n        #header #secondary-header .availability {\n          font-size: 0.9em;\n        }\n        #header #secondary-header a {\n          margin: 0 15px;\n        }\n        #secondary-header #misc-channels,\n        #secondary-header #chat-actions {\n          margin: 0.8em 2em 0 2em;\n          padding-top: 0.8em;\n          border-top: 1px solid rgba(255,255,255,0.5);\n        }\n        @media screen and (max-width: 480px) {\n          #secondary-header #misc-channels,\n          #secondary-header #chat-actions {\n            margin: 0.8em 0 0 0;\n          }\n        }\n        #secondary-header #misc-channels a {\n          margin: 0 15px;\n          display: inline-block;\n          font-size: 1.4em;\n        }\n        #secondary-header #misc-channels.misc-channels-smaller a {\n          margin: 0 10px;\n          display: inline-block;\n          font-size: 1.1em;\n        }\n        .rmz-fade {\n          transition: opacity 250ms ease-in;\n          opacity: 0.01\n        }\n        .rmz-fade.in {\n          opacity: 1;\n        }\n\n        .card:last-child {\n          margin-bottom: 0;\n        }\n        .card {\n          margin: 0 20px 20px 20px;\n          padding: 15px 20px;\n          box-shadow: 0 3px 20px 0 rgba(0,0,0,.07), 0 0px 1px 0 rgba(0,0,0,.2);\n          background: "+r+";\n          border-radius: 0 5px;\n          overflow: hidden;\n          border-bottom: 1px solid "+n.headerBgColor+";\n        }\n        .card .card-header {\n          font-weight: bold;\n          color: #666;\n          margin-bottom: 10px;\n        }\n        .card .card-body {\n          position: relative;\n        }\n        .card .card-body.full {\n          margin: 0 -20px;\n        }\n        .card .card-footer {\n          margin-top: 10px;\n        }\n        .card input, .card textarea {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        .card input:focus, .card textarea:focus {\n          opacity: 1;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.Spinner=n({displayName:"Reamaze.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return e.position="relative",t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{className:"reamaze-spinner"}," "))},getStyleTag:function(){var e=this.props.bgColor||"white",n=this.props.xColor;return t.createElement("style",null,"\n          .reamaze-spinner,\n          .reamaze-spinner:before,\n          .reamaze-spinner:after {\n            border-radius: 50%;\n          }\n          .reamaze-spinner {\n            color: "+n+";\n            font-size: 11px;\n            position: relative;\n            width: 30px;\n            height: 30px;\n            box-shadow: inset 0 0 0 2px;\n            -webkit-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n          }\n          .reamaze-spinner:before,\n          .reamaze-spinner:after {\n            position: absolute;\n            content: '';\n          }\n          .reamaze-spinner:before {\n            width: 14px;\n            height: 30px;\n            background: "+e+";\n            border-radius: 30px 0 0 30px;\n            top: 0;\n            left: 0;\n            -webkit-transform-origin: 15px 15px;\n            transform-origin: 15px 15px;\n            -webkit-animation: load2 2s infinite ease 1.5s;\n            animation: load2 2s infinite ease 1.5s;\n          }\n          .reamaze-spinner:after {\n            width: 16px;\n            height: 30px;\n            background: "+e+";\n            border-radius: 0 30px 30px 0;\n            top: 0;\n            left: 15px;\n            -webkit-transform-origin: 0px 15px;\n            transform-origin: 0px 15px;\n            -webkit-animation: load2 2s infinite ease;\n            animation: load2 2s infinite ease;\n          }\n          @-webkit-keyframes load2 {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }\n          @keyframes load2 {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }\n        ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Widget"),Reamaze.Widget.Widget=n({displayName:"Reamaze.Widget.Widget",mixins:[TimerMixin],propTypes:{img:r.string,icon:r.string,size:r.oneOfType([r.string,r.number]),label:r.any,position:r.object.isRequired,color:r.string,iconColor:r.string,zindex:r.number,openPopupFunc:r.func,closePopupFunc:r.func,unreadCount:r.number,hideLabel:r.bool,appContext:r.object.isRequired,conversations:r.object,enableBrowserTabAlerting:r.bool},getDefaultProps:function(){return{icon:"reamaze",color:Reamaze.Styles["default"].widgetColor,iconColor:Reamaze.Styles["default"].widgetIconColor,zindex:2147483647,unreadCount:0}},previousDocumentTitle:null,interval:null,getInitialState:function(){var e=this.props.label&&this.props.label.mode?this.props.label.mode:"prompt-3";return{unreadCount:this.props.unreadCount,hideLabel:this.props.hideLabel||-1!==e.indexOf("prompt")&&!!Reamaze.sessionStorage.getItem("seenLabel")&&!this.props.appContext._preview,hideWhoop:!!Reamaze.sessionStorage.getItem("hideWhoop"),latestMessageId:null}},componentWillReceiveProps:function(e){var t={unreadCount:e.unreadCount||0};!this.props.hideLabel&&e.hideLabel&&(t.hideLabel=!0,Reamaze.sessionStorage.setItem("seenLabel","true")),this.setState(t)},componentDidMount:function(){this.previousDocumentTitle=document.title,this.props.label&&"object"==typeof this.props.label&&"notification"==this.props.label.mode&&this.props.label.text&&this.setTimeout(function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces);this.props.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[{id:"rmz-label",user:this.props.appContext.brand&&this.props.appContext.brand.name?{name:this.props.appContext.brand.name,avatarUrls:e.map(function(e){return e.avatarUrl})}:null,sound:!!this.props.label.sound,message:this.props.label.text,onClick:function(){this.props.openPopupFunc(),Reamaze.Analytics.track("Shoutbox Prompt Clicked",this.props.label.text)}.bind(this),size:"small","transient":!0,duration:this.props.label.duration}]})}.bind(this),1e3*(this.props.label.delay||0)),this.props.hideLabel&&Reamaze.sessionStorage.setItem("seenLabel","true")},componentDidUpdate:function(e,t){var n=this.getLatestUnreadMessage(),r=!!n&&n.id!=this.state.latestMessageId;if(this.props.enableBrowserTabAlerting&&(t.unreadCount!=this.state.unreadCount||r)&&this.previousDocumentTitle)if(this.state.unreadCount>0){var i="("+this.state.unreadCount+") - "+this.previousDocumentTitle;if(n){var o=document.createElement("span");o.innerHTML=n.body,i=(i="("+this.state.unreadCount+") - "+(o.textContent||o.innerText)).trim().replace(/(\r\n|\n|\r)/gm," ").replace(/\s{2,}/g," ")}this.interval&&this.clearInterval(this.interval);var a=this.setInterval(function(){document.title==i?document.title=this.previousDocumentTitle:document.title=i}.bind(this),2e3);this.interval=a,n&&this.setState({latestMessageId:n.id})}else this.interval&&(document.title=this.previousDocumentTitle,clearInterval(this.interval))},getLatestUnreadMessage:function(){var e=null;return this.props.conversations&&Object.keys(this.props.conversations).forEach(function(t){this.props.conversations[t].unread&&this.props.conversations[t].messages&&this.props.conversations[t].messages.forEach(function(t){(!e||t&&Date.parse(t.createdAt)>Date.parse(e.createdAt))&&(e=t)}.bind(this))}.bind(this)),e},render:function(){var e;if(this.props.appContext.shoutbox.open)e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},t.createElement("g",{transform:"scale("+this.props.size/30+")"},t.createElement("path",{style:{stroke:this.props.iconColor,fill:"rgba(0,0,0,0)",strokeWidth:1},d:"M 10,10 L 20,20 M 20,10 L 10,20"})));else if(this.props.img)e=t.createElement("img",{src:this.props.img});else{e=t.createElement("svg",null);var n="M17.328,24.371h-2.707v-2.596h2.707V24.371zM17.328,19.003v0.858h-2.707v-1.057c0-3.19,3.63-3.696,3.63-5.963c0-1.034-0.924-1.826-2.134-1.826c-1.254,0-2.354,0.924-2.354,0.924l-1.541-1.915c0,0,1.519-1.584,4.137-1.584c2.487,0,4.796,1.54,4.796,4.136C21.156,16.208,17.328,16.627,17.328,19.003z",r="M15.985,5.972c-7.563,0-13.695,4.077-13.695,9.106c0,2.877,2.013,5.44,5.147,7.108c-0.446,1.479-1.336,3.117-3.056,4.566c0,0,4.015-0.266,6.851-3.143c0.163,0.04,0.332,0.07,0.497,0.107c-0.155-0.462-0.246-0.943-0.246-1.443c0-3.393,3.776-6.05,8.599-6.05c3.464,0,6.379,1.376,7.751,3.406c1.168-1.34,1.847-2.892,1.847-4.552C29.68,10.049,23.548,5.972,15.985,5.972zM27.68,22.274c0-2.79-3.401-5.053-7.599-5.053c-4.196,0-7.599,2.263-7.599,5.053c0,2.791,3.403,5.053,7.599,5.053c0.929,0,1.814-0.116,2.637-0.319c1.573,1.597,3.801,1.744,3.801,1.744c-0.954-0.804-1.447-1.713-1.695-2.534C26.562,25.293,27.68,23.871,27.68,22.274z";if("help"==this.props.icon)e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},t.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},t.createElement("path",{fill:this.props.iconColor,style:{fill:this.props.iconColor},d:n})));else if("chat"==this.props.icon)e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},t.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},t.createElement("g",{transform:"scale(0.75) translate(5.625, 5.625)"},t.createElement("path",{fill:this.props.iconColor,style:{fill:this.props.iconColor},d:r}))));else{var i="rmz-svg-a",o="url('"+window.location.href.split("#")[0]+"#"+i+"')";e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"},viewBox:"0 0 1500 1500"},t.createElement("defs",null,t.createElement("filter",{id:i,colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodColor:"rgb(0,0,0)",floodOpacity:".078431",result:"flood"}),t.createElement("feComposite",{"in":"flood",in2:"SourceGraphic",operator:"in",result:"composite1"}),t.createElement("feGaussianBlur",{"in":"composite1",result:"blur"}),t.createElement("feOffset",{dx:"0",dy:"100",result:"offset"}),t.createElement("feComposite",{"in":"SourceGraphic",in2:"offset",result:"composite2"}))),t.createElement("g",{transform:"scale(0.69) translate(310, 420) matrix(1.25,0,0,-1.25,0,1500)",fill:this.props.iconColor},t.createElement("path",{transform:"matrix(.8 0 0 -.8 0 1200)",d:"m200.99 120.33c0 506.74 136.92 826.31 603.08 826.31 340.98 0 560.73 133.73 560.73 370.28 0 2.7488-1.1973-337.77-1.1973-665.21 0-378.91-246.9-531.38-721.76-531.38-169.36 0-433.51-0.0125-440.86 0zm348.26 281.17h499.32c21.899 0 39.529 17.63 39.529 39.529v39.529c0 21.899-17.63 39.527-39.529 39.527h-499.32c-21.899 0-39.529-17.628-39.529-39.527v-39.529c0-21.899 17.63-39.529 39.529-39.529zm68.633 190.29h436.95c18.468 0 33.336 14.868 33.336 33.336v43.738c0 18.468-14.868 33.336-33.336 33.336h-436.95c-18.468 0-33.336-14.868-33.336-33.336v-43.738c0-18.468 14.868-33.336 33.336-33.336z",filter:o}),t.createElement("path",{transform:"matrix(1 0 0 -1 -43.403 681.12)",d:"m612.5 346.19c-297.15 0-461.08-216.47-461.08-471.36-0.4161 61.018 1.6005 269.08 1.6005 269.08 0 163.78 118.75 379.67 461.33 379.67 109.55 0 142.69-0.9614 407.33-0.9614 0-110.17-118.67-176.43-409.18-176.43z",fillOpacity:".6",filter:o})))}}var a=!1;if(!this.state.hideWhoop){var s=!0;this.props.label&&"default"!==this.props.label.mode&&"notification"!==this.props.label.mode&&0===parseInt(this.props.label.delay||0,10)&&(s=!1),a=s&&null!==Reamaze.sessionStorage.setItem("hideWhoop","1")}var p=this.getStyleTag(a),c=this.getStyles(),l=this.props.label,u="rmz-chat-bubble";this.props.label&&"object"==typeof this.props.label&&("default"==this.props.label.mode?(l=this.props.label.text,u="rmz-static"):(l=null,"notification"==this.props.label.mode&&(u="rmz-notification")));var d=t.createElement("div",{className:"rmz-label-text",dangerouslySetInnerHTML:{__html:l}});return t.createElement("span",{onClick:this._triggerPopup},t.createElement("div",{id:"reamaze-widget",style:c.widget,className:"whoop "+u+" "+(this.props.img?"rmz-custom":"")},p,t.createElement("span",{id:"reamaze-widget-icon"},e),"rmz-static"==u&&t.createElement("span",{id:"reamaze-widget-label-container"},t.createElement("div",{id:"reamaze-widget-label"},d)),this.state.unreadCount>0&&t.createElement("span",{style:c.unreadPill,onClick:this._triggerPopup},this.state.unreadCount>99?"99+":this.state.unreadCount)),"rmz-chat-bubble"==u&&this.props.label&&!this.state.hideLabel&&t.createElement("div",{style:{zIndex:this.props.zindex,position:"relative",cursor:"pointer"}},t.createElement(Reamaze.Widget.Label,{size:this.props.size,label:this.props.label,position:this.props.position,color:this.props.color,iconColor:this.props.iconColor})))},getStyleTag:function(e){var n=Math.min(this.props.size/2,16)+"px",r="\n        #reamaze-widget:hover {\n          opacity: 1;\n          transform: translate3d(0, -4px, 0);\n          box-shadow: 0 2px 0px rgba(0,0,0,.09),0 4px 10px rgba(0,0,0,.24) !important;\n        }\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n\n        .rmz-label-text {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+n+";\n          line-height: "+this.props.size+"px;\n        }\n\n        #reamaze-widget-label {\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+n+";\n          margin-right: 0;\n        }\n        #reamaze-widget-icon img {\n          width: 100%;\n          height: 100%;\n          background: transparent;\n          opacity: 1;\n          display: inline-block;\n        }\n        #reamaze-widget #reamaze-widget-icon {\n          display: block;\n          overflow: hidden;\n          width: "+this.props.size+"px;\n          height: "+this.props.size+"px;\n          border-radius: "+this.props.size+"px;\n        }\n        #reamaze-widget.rmz-static {\n          max-width: calc(100vw - 40px);\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          display: flex;\n        }\n        #reamaze-widget.rmz-custom.rmz-static #reamaze-widget-icon {\n          margin-right: 10px;\n        }\n        #reamaze-widget.rmz-static #reamaze-widget-icon {\n          display: inline-block;\n          border-radius: "+this.props.size+"px;\n          -webkit-flex-shrink: 0;\n          -moz-flex-shrink: 0;\n          -ms-flex: 0 1 auto;\n          flex-shrink: 0;\n        }\n        #reamaze-widget.rmz-static .rmz-label-text {\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n        #reamaze-widget.rmz-static #rmz-widget-label {\n          display: block;\n        }\n      ";if(e){var i=function(e){return"            -webkit-transform: scale("+e+");            transform: scale("+e+");          "},o=function(e){return"            -moz-animation: "+e+";            -webkit-animation: "+e+";            animation: "+e+";          "},a=function(e,t){return"            @-moz-keyframes "+e+" {"+t+"}            @-webkit-keyframes "+e+" {"+t+"}            @keyframes "+e+" {"+t+"}          "},s="          0% {"+i(0)+"}          50% {"+i(1.3)+"}          100% {"+i(1)+"}        ",p="          0% { opacity: 0; }          40% { opacity: 0; }          100% { opacity: 1; }        ";r+="          .whoop { "+o("0.4s whoop 0s")+"}          .whoop #reamaze-widget-icon { "+o("0.6s toothpaste 0s")+"}        ",r+=a("whoop",s)+a("toothpaste",p)}return t.createElement("style",{dangerouslySetInnerHTML:{__html:r}})},getStyles:function(){var e=this.props.color;this.props.gradient&&(e="linear-gradient(135deg, "+e+" 0%, "+(Reamaze.Utils.pSBC(.3,e)||e)+" 100%)");var t={widget:{position:"fixed",height:this.props.size+"px",cursor:"pointer",opacity:.95,zIndex:this.props.zindex,background:e,borderRadius:this.props.size+"px",
boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.2)",perspective:"1000px",backfaceVisibility:"hidden",transition:"all 0.2s ease-in-out"},unreadPill:{position:"absolute",top:"-5px",right:"-5px",padding:"5px 7px 4px",minWidth:"12px",borderRadius:"20px",fontSize:"11px",lineHeight:"11px",textAlign:"center",backgroundColor:"#F00",fontFamily:"Nunito, Helvetica, Arial, sans-serif",color:"#fdfdfd",boxShadow:"0 0 1px #b00"}};for(var n in this.props.position)t.widget[n]=this.props.position[n];return t},_triggerPopup:function(){this.props.label&&(-1!==(this.props.label.mode?this.props.label.mode:"prompt-3").indexOf("prompt")&&this.setState({hideLabel:!0}));if(this.props.appContext.shoutbox.open)this.props.closePopupFunc(e);else{var e={source:"widget"};Reamaze.Analytics.track("Shoutbox Trigger Clicked"),this.props.openPopupFunc(e)}}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){var i=ReactTransitionGroup.CSSTransitionGroup;Reamaze.Widget.Label=n({displayName:"Reamaze.Widget.Label",mixins:[TimerMixin],propTypes:{size:r.number,position:r.object,label:r.shape({text:r.string,mode:r.oneOf(["default","slideout","fadein","prompt-1","prompt-2","prompt-3"]),delay:r.number,duration:r.number}),color:r.string,iconColor:r.string},getInitialState:function(){return{visible:!1}},componentDidMount:function(){if(this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.delay,10)),e>0?this.setTimeout(function(){this.isMounted()&&this.showLabel()}.bind(this),1e3*e):this.showLabel()}},componentDidUpdate:function(e,t){!t.visible&&this.state.visible&&Reamaze.Analytics.track("Shoutbox Prompt Shown",this.props.label.text,undefined,!0)},render:function(){if(this.props.label){var e=this.getStyleTag(),n=this.props.label.text,r=this.props.label.mode?this.props.label.mode:"prompt-3",o="rmz-label-"+r,a=o;this.state.hover&&(a+=" rmz-hover");var s=t.createElement("div",{className:"rmz-label-text",dangerouslySetInnerHTML:{__html:n}}),p=null;return this.state.visible&&n&&(p=t.createElement("span",{key:"label",id:"reamaze-widget-label",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,className:a},-1!==r.indexOf("prompt")&&t.createElement("span",{className:"rmz-closeX",onClick:this.hideLabel},String.fromCharCode(215)),s)),t.createElement("span",{id:"reamaze-widget-label-container"},e,t.createElement(i,{transitionName:o,transitionEnterTimeout:750,transitionLeaveTimeout:750},p))}return null},getStyleTag:function(){var e=Math.min(this.props.size/2,16)+"px",n={__html:"\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n        #reamaze-widget-label {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+e+";\n          line-height: "+this.props.size+"px;\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+e+";\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter {\n          float: right;\n          margin-right: -1000px;\n          -webkit-transition: margin-right 0.75s ease-out;\n          -moz-transition: margin-right 0.75s ease-out;\n          -o-transition: margin-right 0.75s ease-out;\n          transition: margin-right 0.75s ease-out;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter-active {\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter {\n          opacity: 0;\n          -webkit-transition: opacity 0.75s;\n          -moz-transition: opacity 0.75s;\n          -o-transition: opacity 0.75s;\n          transition: opacity 0.75s;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter-active {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt] {\n          position: fixed;\n          background: "+this.props.color+";\n          padding: 10px 15px;\n          border-radius: 5px;\n          color: #fff;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          line-height: 1.5em;\n          -webkit-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -moz-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -o-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt],\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter.rmz-label-prompt-2-enter-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.left?"left: "+parseInt(this.props.position.left,10)+"px;":"")+"\n          "+(this.props.position.right?"right: "+parseInt(this.props.position.right,10)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt]:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 100%;\n          "+(this.props.position.left?"left":"right")+": 10px;\n          border-"+(this.props.position.top?"bottom":"top")+": 5px solid "+this.props.color+";\n          border-left: 5px solid transparent;\n          border-right: 5px solid transparent;\n        }\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter,\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+this.props.size/2)+"px;":"")+"\n        }\n\n        #reamaze-widget-label .rmz-label-text {\n          line-height: 1.5em;\n          font-size: 14px;\n          color: #585858;\n        }\n\n        #reamaze-widget-label.rmz-label-prompt-3 {\n          position: fixed;\n          background: white;\n          padding: 10px 15px;\n          border-radius: 5px;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          -webkit-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -moz-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -o-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          transition: left 0.4s, right 0.4s, opacity 0.75s;\n          box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.2);\n          border: 1px solid rgb(195, 195, 195)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter.rmz-label-prompt-3-enter-active,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n        }\n        #reamaze-widget-label.rmz-label-prompt-3:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 39%;\n          "+(this.props.position.left?"left":"right")+": -5px;\n          box-shadow: "+(this.props.position.left?"-1px -1px":"1px 1px")+" 0px #D6D6D6;\n          width: 10px;\n          height: 10px;\n          background: white;\n          border: none;\n          transform: rotate(-45deg)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter {\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+this.props.size/2)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter] {\n          opacity: 0;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter-active] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave-active] {\n          opacity: 0;\n        }\n        #reamaze-widget-label .rmz-closeX {\n          position: absolute;\n          width: 1em;\n          height: 1em;\n          line-height: 0.9;\n          font-size: 13px;\n          display: none;\n          top: -9px;\n          right: -9px;\n          text-align: center;\n          background: rgba(0, 0, 0, 0.5);\n          border-radius: 20px;\n          color: white;\n          padding: 3px;\n          box-sizing: content-box;\n        }\n        #reamaze-widget-label.rmz-hover .rmz-closeX {\n          display: block;\n        }\n      "};return t.createElement("style",{dangerouslySetInnerHTML:n})},mouseOver:function(){this.setState({hover:!0})},mouseOut:function(){this.setState({hover:!1})},showLabel:function(){this.setState({visible:!0},function(){if(Reamaze.sessionStorage.setItem("seenLabel","true"),this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.duration,10)),e>0&&this.setTimeout(function(){this.isMounted()&&this.hideLabel()}.bind(this),1e3*e)}}.bind(this))},hideLabel:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.setState({visible:!1})}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Shared"),Reamaze.Shared.Card=r({mixins:[TimerMixin],displayName:"Reamaze.Shared.Card",propTypes:{appContext:i.object.isRequired,id:i.string.isRequired,loading:i.bool},contextTypes:{window:i.object},getDefaultProps:function(){return{}},render:function(){var e=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.95,e.headerBgColor)||"#fafafa";return t.createElement("div",{id:this.props.id,className:"card"},this.props.loading&&t.createElement(Reamaze.Spinner,{xColor:e.widgetColor,bgColor:n,style:{margin:"1em auto",width:"30px",transform:"scale(0.8)"}}),t.createElement("div",{style:{display:this.props.loading?"none":"block"}},this.props.children))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Shared"),Reamaze.Shared.Header=r({mixins:[TimerMixin],displayName:"Reamaze.Shared.Header",propTypes:{enableKb:i.bool,appContext:i.object.isRequired,chatIsLive:i.bool,backButton:i.bool,onBackButtonClicked:i.func,header:i.any,secondaryHeader:i.any},contextTypes:{window:i.object},getDefaultProps:function(){return{header:!1,secondaryHeader:!1}},getHeader:function(){var e=!1!==this.props.header?this.props.header&&this.props.header:this.props.appContext.brand.preferences.trans_popup_header;return this.props.allowHtmlHeader&&"string"==typeof e?t.createElement("div",{id:"nav-c-header",dangerouslySetInnerHTML:{__html:e}}):t.createElement("div",{id:"nav-c-header"},e)},getSecondaryHeader:function(){if(!1!==this.props.secondaryHeader)return this.props.secondaryHeader&&t.createElement("div",{id:"secondary-header"},this.props.secondaryHeader);var e=this.props.appContext.brand.facebook.show_facebook_messenger||this.props.appContext.brand.facebook.show_facebook_page||this.props.appContext.brand.twitter||this.props.appContext.brand.instagram||this.props.appContext.brand.voice||this.props.appContext.brand.whatsapp||this.props.appContext.fullScreen&&this.props.appContext.brand.sms,n=this.props.enableKb&&this.props.appContext.brand.kb,r=this.props.appContext.brand.activeIncidents.length>0,i=!!e||n,o=[];i&&(this.props.appContext.brand.facebook.show_facebook_messenger&&o.push(t.createElement("a",{href:"https://m.me/"+this.props.appContext.brand.facebook.messenger_slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook Messenger"},t.createElement("i",{className:"fab rmzfa rmzfa-facebook-messenger"}))),this.props.appContext.brand.facebook.show_facebook_page&&o.push(t.createElement("a",{href:"https://facebook.com/"+this.props.appContext.brand.facebook.slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook"},t.createElement("i",{className:"fab rmzfa rmzfa-facebook"}))),this.props.appContext.brand.twitter&&o.push(t.createElement("a",{href:"https://www.twitter.com/"+this.props.appContext.brand.twitter,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Twitter"),title:"Twitter"},t.createElement("i",{className:"fab rmzfa rmzfa-twitter"}))),this.props.appContext.brand.instagram&&o.push(t.createElement("a",{href:"https://www.instagram.com/"+this.props.appContext.brand.instagram,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Instagram"),title:"Instagram"},t.createElement("i",{className:"fab rmzfa rmzfa-instagram"}))),this.props.appContext.brand.voice&&o.push(t.createElement("a",{href:"tel:"+this.props.appContext.brand.voice,className:"anim-btn",onClick:this.onChannelClick.bind(this,"Phone")},t.createElement("i",{className:"fas rmzfa rmzfa-phone",style:{fontSize:"0.9em"}}))),this.props.appContext.brand.sms&&this.props.appContext.fullScreen&&o.push(t.createElement("a",{href:"sms:"+this.props.appContext.brand.sms,className:"anim-btn",title:"SMS",onClick:this.onChannelClick.bind(this,"SMS")},t.createElement("i",{className:"fas rmzfa rmzfa-sms"}))),this.props.appContext.brand.whatsapp&&o.push(t.createElement("a",{href:"https://wa.me/"+this.props.appContext.brand.whatsapp.replace("+",""),className:"anim-btn",target:"_blank",onClick:this.onChannelClick.bind(this,"WhatsApp")},t.createElement("i",{className:"fab rmzfa rmzfa-whatsapp"}))),n&&o.push(t.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToKB,title:"FAQ"},t.createElement("i",{className:"fas rmzfa rmzfa-question-circle"}))),r&&o.push(t.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToStatusPage,title:"Status"},t.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"}))));var a=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces);return t.createElement("div",{id:"secondary-header"},a.length&&t.createElement("div",{className:"staff-avatars"},a.map(function(e,n){return t.createElement("img",{key:n,title:e.name,src:e.avatarUrl,style:{position:"relative",zIndex:3-n}})}.bind(this))),t.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.props.chatIsLive,brand:this.props.appContext.brand}),i&&t.createElement("div",{id:"misc-channels",className:"misc-channels-"+(o.length>6?"smaller":"larger")},o))},onChannelClick:function(e){Reamaze.Analytics.track("Channel Link Clicked",e)},_goToKB:function(){this.onChannelClick("FAQ"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index"}})},_goToStatusPage:function(){this.onChannelClick("Status Page"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})},render:function(){return t.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"15px",paddingRight:"15px",position:"relative",zIndex:"1"}},t.createElement("div",{style:{display:"table",width:"100%"}},t.createElement("div",{style:{display:"table-row"}},t.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons",style:{position:"relative"}},this.props.backButton?[t.createElement("div",{key:"stub",style:{width:"35px",height:"1px"}}),t.createElement("div",{key:"hleft",style:{width:"35px",position:"absolute",top:0,bottom:0}},t.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.props.onBackButtonClicked,className:"anim-btn"},t.createElement("i",{className:"fas rmzfa rmzfa-chevron-left"})))]:t.createElement("div",{style:{width:"35px",height:"1px"}})),t.createElement("div",{className:"nav-c",style:{width:"100%"}},this.getHeader()),t.createElement("div",{className:"nav-c-r"}))),this.getSecondaryHeader())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Status"),Reamaze.Status.App=r({propTypes:{enableKb:i.bool,currentUser:i.object,active:i.bool,popupOptions:i.object,onAppMounted:i.func,conversations:i.object,appContext:i.object.isRequired,chatIsLive:i.bool},contextTypes:{window:i.object},getDefaultProps:function(){return{}},getInitialState:function(){return{statusLoaded:!1}},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getHeader:function(){return t.createElement("div",{id:"nav-c-header"},this.props.appContext.brand.preferences.trans_status_header)},getContent:function(){var n,r=e.param({sso:this.props.currentUser.ssoData(),popup:1}),i=this.getPath();n=(i=i+(i.indexOf("?")>0?"&":"?")+r).match(/^http/)?i:this.props.appContext.baseUrl+"/status"+i;var o={width:"100%",height:"100%",overflowY:"hidden"},a={position:"relative"};return t.createElement("div",{style:o},!this.state.statusLoaded&&t.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),t.createElement("iframe",{style:a,src:n,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({statusLoaded:!0})}.bind(this)}))},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement("style",null,"\n          #content {\n            margin-right: 0;\n          }\n        "),t.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},t.createElement("div",{style:{display:"table",width:"100%"}},t.createElement("div",{style:{display:"table-row"}},t.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},t.createElement("div",null,function(){if(this.props.conversations&&Object.keys(this.props.conversations).length>0){var e=0;for(var n in this.props.conversations)this.props.conversations[n].unread&&e++;return t.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations},t.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),e>0&&t.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return t.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked},t.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),t.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),t.createElement("div",{className:"nav-c-r"})))),t.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),t.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid #f0f0f0",background:"#fff"}})),t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.extend(Reamaze,{Analytics:{track:function(e,t,n,r){var i="Reamaze";if("function"==typeof window.ga)t||(t=undefined),"number"!=typeof n&&(n=undefined),window.ga(function(o){var a=o;a||(a=window.ga.getAll()[0]),a&&a.send("event",i,e,t,n,{nonInteraction:!!r})});else if("function"==typeof window.gtag){var o={event_category:i,non_interaction:!!r};t&&(o.event_label=t),"number"==typeof n&&(o.event_value=n),window.gtag("event",e,o)}else window._gaq&&window._gaq.push&&("number"!=typeof n&&(n=undefined),window._gaq.push(["_trackEvent",i,e,t,n,!!r]));if(Reamaze._callbacks&&"function"==typeof Reamaze._callbacks.analytics_track_callback){var a={category:i,name:e,nonInteraction:!!r};t&&(a.label=t),"number"==typeof n&&(a.value=n),Reamaze._callbacks.analytics_track_callback(a)}}}}),jQuery(document).on("Reamaze.init",function(e,t){window.InstantClick&&t&&window.InstantClick.on("change",function(e){e||Reamaze&&Reamaze.reload&&Reamaze.reload()})}),jQuery.extend(Reamaze,{ec:function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,o,a,s){return t(n(t(t(r,e),t(o,s)),a),i)}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function p(e,n){var r,p,c,l,u;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var d=1732584193,h=-271733879,f=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)p=d,c=h,l=f,u=m,h=s(h=s(h=s(h=s(h=a(h=a(h=a(h=a(h=o(h=o(h=o(h=o(h=i(h=i(h=i(h=i(h,f=i(f,m=i(m,d=i(d,h,f,m,e[r],7,-680876936),h,f,e[r+1],12,-389564586),d,h,e[r+2],17,606105819),m,d,e[r+3],22,-1044525330),f=i(f,m=i(m,d=i(d,h,f,m,e[r+4],7,-176418897),h,f,e[r+5],12,1200080426),d,h,e[r+6],17,-1473231341),m,d,e[r+7],22,-45705983),f=i(f,m=i(m,d=i(d,h,f,m,e[r+8],7,1770035416),h,f,e[r+9],12,-1958414417),d,h,e[r+10],17,-42063),m,d,e[r+11],22,-1990404162),f=i(f,m=i(m,d=i(d,h,f,m,e[r+12],7,1804603682),h,f,e[r+13],12,-40341101),d,h,e[r+14],17,-1502002290),m,d,e[r+15],22,1236535329),f=o(f,m=o(m,d=o(d,h,f,m,e[r+1],5,-165796510),h,f,e[r+6],9,-1069501632),d,h,e[r+11],14,643717713),m,d,e[r],20,-373897302),f=o(f,m=o(m,d=o(d,h,f,m,e[r+5],5,-701558691),h,f,e[r+10],9,38016083),d,h,e[r+15],14,-660478335),m,d,e[r+4],20,-405537848),f=o(f,m=o(m,d=o(d,h,f,m,e[r+9],5,568446438),h,f,e[r+14],9,-1019803690),d,h,e[r+3],14,-187363961),m,d,e[r+8],20,1163531501),f=o(f,m=o(m,d=o(d,h,f,m,e[r+13],5,-1444681467),h,f,e[r+2],9,-51403784),d,h,e[r+7],14,1735328473),m,d,e[r+12],20,-1926607734),f=a(f,m=a(m,d=a(d,h,f,m,e[r+5],4,-378558),h,f,e[r+8],11,-2022574463),d,h,e[r+11],16,1839030562),m,d,e[r+14],23,-35309556),f=a(f,m=a(m,d=a(d,h,f,m,e[r+1],4,-1530992060),h,f,e[r+4],11,1272893353),d,h,e[r+7],16,-155497632),m,d,e[r+10],23,-1094730640),f=a(f,m=a(m,d=a(d,h,f,m,e[r+13],4,681279174),h,f,e[r],11,-358537222),d,h,e[r+3],16,-722521979),m,d,e[r+6],23,76029189),f=a(f,m=a(m,d=a(d,h,f,m,e[r+9],4,-640364487),h,f,e[r+12],11,-421815835),d,h,e[r+15],16,530742520),m,d,e[r+2],23,-995338651),f=s(f,m=s(m,d=s(d,h,f,m,e[r],6,-198630844),h,f,e[r+7],10,1126891415),d,h,e[r+14],15,-1416354905),m,d,e[r+5],21,-57434055),f=s(f,m=s(m,d=s(d,h,f,m,e[r+12],6,1700485571),h,f,e[r+3],10,-1894986606),d,h,e[r+10],15,-1051523),m,d,e[r+1],21,-2054922799),f=s(f,m=s(m,d=s(d,h,f,m,e[r+8],6,1873313359),h,f,e[r+15],10,-30611744),d,h,e[r+6],15,-1560198380),m,d,e[r+13],21,1309151649),f=s(f,m=s(m,d=s(d,h,f,m,e[r+4],6,-145523070),h,f,e[r+11],10,-1120210379),d,h,e[r+2],15,718787259),m,d,e[r+9],21,-343485551),d=t(d,p),h=t(h,c),f=t(f,l),m=t(m,u);return[d,h,f,m]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=undefined,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return c(p(l(e),8*e.length))}function d(e,t){var n,r,i=l(e),o=[],a=[];for(o[15]=a[15]=undefined,i.length>16&&(i=p(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=p(o.concat(l(t)),512+8*t.length),c(p(a.concat(r),640))}function h(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function f(e){return unescape(encodeURIComponent(e))}function m(e){return u(f(e))}function g(e){return h(m(e))}function y(e,t){return d(f(e),f(t))}function b(e,t){return h(y(e,t))}function v(e,t,n){return t?n?y(t,e):b(t,e):n?m(e):g(e)}return v(e+"f34c9278042a")}}),function(e,t,n){e.extend(Reamaze,{seq_id:0,embed:function(r,i,o,a){var s=this.seq_id++,p=(a=a||{},{sso:this._visitor.ssoData(),framed:1}),c="undefined"==typeof a.trackHistory||a.trackHistory;p=e.extend(p,{no_subject:!1===o||a.hideSubject?1:0}),p=a.channel?e.extend(p,{category_id:a.channel}):e.extend(p,{category_id:""}),o&&(p=e.extend(p,{conversation:{subject:o}}));var l=function(){var t="/";"contact"==i?t="/conversations/new":"conversations"==i?t="/conversations":a.path&&(t=a.path);var n=new RegExp("^#reamaze#"+s+"#"),r=new RegExp("^#reamaze%23"+s+"%23");c&&(window.location.hash.match(n)?t=window.location.hash.substring(n.toString().length-3):window.location.hash.match(r)?(t=window.location.hash.substring(r.toString().length-3),t=decodeURIComponent(t)):window.location.hash.match(/^#!/)&&(t=window.location.hash.substring(2)));var o=(t+=(t.indexOf("?")>-1?"&":"?")+e.param(p)).match(/(\#.*)(\?)/);return o&&o.length&&(t=t.replace(o[1],""),t+=o[1]),t},u=function(){var e=l();return e.match(/^http/)?e:this._baseUrl+e}.bind(this),d=function(t){var n=t.match(/(\#.*)(\?|$)/);n&&n.length&&e("iframe").each(function(t,r){var i={_command:"reamaze:getAnchorHeight",_anchor:n[1]};e.postMessage(i,r.src,r.contentWindow)})}.bind(this);e(window).on("Reamaze.anchorHeight",function(t,n){if(e("iframe[name="+n._name+"]").length){var r=document.querySelector("iframe[name="+n._name+"]").getBoundingClientRect().top;window.scrollTo(0,r+parseInt(n._anchorHeight))}});var h=e(r).data("embed-ele");if(e(r).length>0&&!h){var f={width:"100%",src:u(),scrolling:"no",frameborder:"0",allowtransparency:"true",name:"_embed_"+s,allowfullscreen:"true"};/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(f.style="width:1px;min-width:100%;*width:100%;"),h=e("<iframe/>").attr(f),e(r).empty();var m=e('<div class="rmz-embed-container" style="width: 100%; position: relative;"></div>'),g=e('<span class="reamaze-rect-spinner-container"></span>');m.append(g),e(r).html(m),n.render(t.createElement(Reamaze.RectSpinner,{xColor:a.loadingColor||Reamaze.styles.widgetColor||"#ccc",style:{position:"absolute",width:"15px",height:"20px",top:"50%",left:"50%",marginLeft:"-10px",marginTop:"-13px"}}),g.get(0)),m.append(h),e(r).data("embed-ele",h),h[0].onload=function(){d(l())}.bind(this);var y;e(document).on("Reamaze.resize",function(t,r){r._height&&r._name=="_embed_"+s&&(e(h).height(r._height),n.unmountComponentAtNode(g.get(0)))}),e(document).on("Reamaze.navigate",function(t,n){n._url&&n._name=="_embed_"+s&&c&&(y=n._url,window.location.replace(window.location.pathname+window.location.search+"#reamaze#"+s+"#"+n._url)),n._height&&n._name=="_embed_"+s&&e(h).height(n._height),window.location.hash&&-1!=window.location.hash.indexOf("#reamaze#"+s+"#")&&window.scrollTo(0,e(h).offset().top<350?0:e(h).offset().top)}),e(window).on("hashchange",function(){if(!window.location.hash||0===window.location.hash.indexOf("#!")||0===window.location.hash.indexOf("#reamaze#"+s+"#")){var e=u(),t=window.location.hash.split("#reamaze#"+s+"#")[1];y!=t&&(h[0].contentWindow.location.replace(e),y=t)}})}else h&&(h[0].src=u());if(h&&(this._contactCustomFields||this._customFields)&&"contact"===i){var b=l();if(!b.match(/^http/)){var v=new Reamaze._iframeform(u(),h),x=this._contactCustomFields||this._customFields;x=this._contactCustomFields&&a.formId?x["rmz_form_id_"+a.formId]:x,v.addParameter("sparams",e.param({sso:this._visitor.ssoData(),custom_fields:x,framed:1})),v.addParameter("destination",b),v.send()}}},_registerEmbedListeners:function(){var t=this;this._ui.embed&&this._ui.embed.container&&this.embed(e(this._ui.embed.container),this._ui.embed.mode,this._ui.embed.subject),e("[data-reamaze-embed]").each(function(n,r){t.embed(e(r),e(r).data("reamaze-embed"),e(r).data("reamaze-embed-subject"),{path:e(r).data("reamaze-embed-path"),trackHistory:"off"!==e(r).data("reamaze-embed-track-history"),channel:e(r).data("reamaze-embed-channel"),allowfullscreen:!!e(r).data("reamaze-embed-allowfullscreen"),loadingColor:e(r).data("reamaze-embed-loading-color")||"#ccc",formId:e(r).data("reamaze-embed-form-id"),hideSubject:!!e(r).data("reamaze-embed-disable-subject")})})}}),e(document).on("Reamaze.init",function(){Reamaze.seq_id=0,Reamaze._registerEmbedListeners()})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e){e.extend(Reamaze,{event:function(t){var n={sso:this._visitor.ssoData(),event:t};e.ajax(this._baseDataUrl+"/data/events.json",{type:"POST",dataType:"json",data:e.param(n)})}})}(jQuery),function(e){e.extend(Reamaze,{notify:function(t){setTimeout(function(){e(window).trigger("Reamaze.notify",[t])},0)},cue:function(t){e(document).trigger("Reamaze.Outbounds.new",t)},removeCue:function(t){e(document).trigger("Reamaze.Outbounds.remove",t)},removeAllCues:function(){e(document).trigger("Reamaze.Outbounds.removeAll")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e){e.extend(Reamaze,{closePopup:function(){e(document).trigger("Reamaze.closePopup")},popup:function(t,n,r){e(document).trigger("Reamaze.openPopup",[e.extend({},r,{path:t,minimized:!1,anchor:n})])}})}(jQuery),jQuery.extend(Reamaze,{eligibleForPushPrompt:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"default"==Notification.permission},promptPushPermissions:function(){return new Promise(function(e,t){if(Reamaze.eligibleForPushPrompt()){var n=Notification.requestPermission(function(t){e(t)});n&&n.then(e,t)}else e("denied")})}}),function(e){e.extend(Reamaze,{setupPusher:function(t){Reamaze.Pusher||(Reamaze.Pusher=t,function(e){function t(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function n(e,t,n){var r=0,i="&socket_id="+encodeURIComponent(t);for(var o in e)i+="&channel_name["+r+"]="+encodeURIComponent(o),r++;for(var a in n.params)i+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n.params[a]);return i}function r(t,r,i,o,a){var s=e.Runtime.createXHR();s.open("POST",o,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var p=i;for(var c in"function"==typeof i&&(p=i()),p.headers)s.setRequestHeader(c,p.headers[c]);s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var e,t=!1;try{e=JSON.parse(s.responseText),t=!0}catch(n){a(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+s.responseText)}t&&a(!1,e)}else a(!0,s.status)},s.send(n(t,r,p))}var i=function(e){this.options=e,this.authOptions=e.authOptions||{},this.requests={},this.setRequestTimeout()};i.prototype.add=function(e,t){this.requests[e]=t,this.requestTimeout||this.setRequestTimeout()},i.prototype.setRequestTimeout=function(){clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(function(){Object.keys(this.requests).length?(this.executeRequests(),this.setRequestTimeout()):this.requestTimeout=null}.bind(this),this.options.authDelay||0)},i.prototype.executeRequests=function(){var e=this.requests;this.requests={},r(e,this.options.socketId,this.authOptions,this.options.authEndpoint,function(n,r){t(e,n?function(e){e(!0,r)}:function(e,t){r[t]?r[t].status&&200!==r[t].status?e(!0,r[t].status):e(null,r[t].data):e(!0,404)})})};var o={},a=function(e,t,n){var r=this.options.authEndpoint,a=t+":"+r,s=o[a]
;s||(s=o[a]=new i({socketId:t,authEndpoint:r,authDelay:this.options.authDelay,authOptions:this.options.auth})),s.add(this.channel.name,n)},s=e.Runtime.getAuthorizers();e.Runtime.getAuthorizers=function(){return s.buffered=a,s}}(Reamaze.Pusher),e(window).trigger("Reamaze.pusherSetupComplete"))}}),e(document).on("Reamaze.init",function(){Reamaze.Pusher=undefined})}(jQuery),function(e){LS_KEY_PREFIX="rmz.",e.extend(Reamaze,{localStorage:{getItem:function(e){try{return localStorage.getItem(LS_KEY_PREFIX+e)}catch(t){return null}},setItem:function(e,t){try{return localStorage.setItem(LS_KEY_PREFIX+e,t)}catch(n){return null}},removeItem:function(e){try{return localStorage.removeItem(LS_KEY_PREFIX+e)}catch(t){return null}},reset:function(){try{var e=Object.keys(localStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&localStorage.removeItem(n)}}catch(r){}}},sessionStorage:{getItem:function(e){try{return sessionStorage.getItem(LS_KEY_PREFIX+e)}catch(t){return null}},setItem:function(e,t){try{return sessionStorage.setItem(LS_KEY_PREFIX+e,t)}catch(n){return null}},removeItem:function(e){try{return sessionStorage.removeItem(LS_KEY_PREFIX+e)}catch(t){return null}},reset:function(){try{var e=Object.keys(sessionStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&sessionStorage.removeItem(n)}}catch(r){}}}})}(jQuery),function(e){var t="_vd",n=function(n,r,i,o,a){n=n||{},this.preview=!!o,this.isSetup=!!a,function(){try{this._data=JSON.parse(Reamaze.localStorage.getItem(t)),this._session=Reamaze.sessionStorage.getItem(t)}catch(e){return!0}if(!this._data)return!0;if(this._data&&this._data.ts&&(new Date).getTime()>parseInt(this._data.ts)+6048e5)return!0;if(n.id){if(this.getExternalRefId()!=n.id)return!0}else if(this.getExternalRefId())return!0;return!1}.bind(this)()&&(this.reset(),Reamaze.reset()),this._data=e.extend(this._data,n),this.cache(),this.set("parent_url",window.location.href);var s=!1;if(n.data){var p=function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r}(e.param(n.data));s=this.get("ud_fp")!=p,this.set("ud_fp",p)}if(n.id&&(s||!this._session)){var c={};return this._session||(c.session="_new"),c.sso=this.ssoData(),c.sso.data=n.data,e.ajax(r+"/data/users.json",{type:"POST",data:e.param(c),success:function(e){this._session=1,Reamaze.sessionStorage.setItem(t,this._session),this.set("_id",e.id),i&&window.setTimeout(i,0)}.bind(this),error:function(){this.reset(),i&&window.setTimeout(i,0)}.bind(this)}),this}return i&&window.setTimeout(i,0),this};n.prototype.getExternalRefId=function(){return this.get("id")},n.prototype.isIdentified=function(){return this.get("_id")||this.get("email")||this.getExternalRefId()},n.prototype.getAnonymousId=function(){return this.get("anon_id")},n.prototype.setAnonymousId=function(e){return this.set("anon_id",e)},n.prototype.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()},n.prototype.getConversationTokens=function(){return this.get("cts")||[]},n.prototype.setConversationTokens=function(e){return this.set("cts",e||null)},n.prototype.get=function(e){return this._data[e]},n.prototype.set=function(e,t){(!this.isSSOUser()||"email"!=e&&"id"!=e)&&(this._data[e]=t,this.cache())},n.prototype.isSSOUser=function(){return this.get("authkey")&&this.getExternalRefId()&&this.get("email")},n.prototype.cache=function(){this._data.visits=this._data.visits||1,this._data.ts&&(new Date).getTime()-this._data.ts>36e5&&this._data.visits++,this._data.ts=(new Date).getTime();var e={id:this.getExternalRefId(),email:this._data.email,anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,ts:this._data.ts,ud_fp:this._data.ud_fp,cts:this.getConversationTokens(),visits:this._data.visits};this._data.shop&&(e.shop=this._data.shop),this._data.phone&&(e.phone=this._data.phone),Reamaze.localStorage.setItem(t,JSON.stringify(e))},n.prototype.ssoData=function(){var e=this._data.avatar;e&&"/"==e[0]&&(e="https://"+window.location.hostname+e);var t={id:this.getExternalRefId(),anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,name:this._data.name,avatar:e,email:this._data.email,authkey:this._data.authkey,parent_url:this._data.parent_url,tz_offset:this.getTimezoneOffset(),cts:this.getConversationTokens()};return this.preview&&(t.preview=1),this.isSetup&&(t.setup=1),this._data.shop&&(t.shop=this._data.shop),this._data.phone&&(t.phone=this._data.phone),t},n.prototype.reset=function(){Reamaze.localStorage.removeItem(t),Reamaze.sessionStorage.removeItem(t),this._session=null;var e=new Date;this._data={first_seen:e.toISOString?e.toISOString():e.toUTCString()},this.set("parent_url",window.location.href),this.cache()},Reamaze.Visitor=n}(jQuery),function(e,t,n){e.extend(Reamaze,{_registerWidgetListeners:function(){var r=document.getElementById("reamazejs-container");r?n.unmountComponentAtNode(r):r=e('<div id="reamazejs-container"></div>').appendTo(document.body)[0];var i=!1;this._ui.widget&&("undefined"==typeof(i=e.extend(!0,{},this._ui.widget)).label&&(this._ui.popup&&"kb"==this._ui.popup.mode?i.label={text:"Find help here!",delay:3,duration:30}:i.label={text:"Ask us a question!",delay:3,duration:30}),"string"==typeof i.label&&(i.label={text:i.label,delay:0,duration:0,mode:"default"}),i.size||(i.size=58),i.position&&"bottom-right"!=i.position?"bottom-left"==i.position&&(i.position={bottom:"22px",left:"22px"}):i.position={bottom:"22px",right:"22px"});var o={widgetOpts:i,popupOpts:this._ui.popup,baseUrl:this._baseUrl,baseDataUrl:this._baseDataUrl,account:this._settings.account,appDomain:"reamaze.com",cdnDomain:"cdn.reamaze.com",pusherAppKey:this._pusherAppKey,currentUser:this._visitor,customFields:this._customFields,trans:this._translations,contactMode:this._ui.contactMode||"default",faces:this._ui.faces.filter(function(e){return!!e})||[],enableKb:this._ui.enableKb,enableBrowserTabAlerting:this._ui.enableBrowserTabAlerting,pushNotifications:this._ui.pushNotifications,unreadCallbackFunc:Reamaze._callbacks.unread_callback,route:this._settings._route,routeParams:this._settings._routeParams,styles:this.styles,outbounds:this.outbounds||[],apps:this.apps||{},_preview:this._preview,disableAudio:this._ui.disableAudio},a=function(){n.render(t.createElement(Reamaze.ReamazeJS,o),r),this._settings.openPopup&&e(window).trigger("Reamaze.openPopup")}.bind(this);e.ajax({url:"https://"+this._settings.cdn_domain+"/data/brands/"+this._settings.account+"/ping",success:function(e){o.brandData=e}.bind(this),complete:a})}}),e(document).on("Reamaze.init",function(){Reamaze._registerWidgetListeners()})}(jQuery,React,ReactDOM,createReactClass,PropTypes),window["export"]=window._original_export,window.exports=window._original_exports,window.require=window._original_require,window.requirejs=window._original_requirejs,window.module=window._original_module,window.define=window._original_define,window._original_export=window._original_require=window._original_requirejs=window._original_module=window._original_define=undefined,function(e){var t=function(){_support.ui=_support.ui||{};var e,t={account:_support.account,app_domain:"reamaze.com",data_domain:"reamaze.io",cdn_domain:"cdn.reamaze.com",protocol:"https://",pusherAppKey:"4ad5621db51f93f2100f",ui:{popup:_support.ui.popup||{zIndex:_support.ui.zIndex,width:_support.ui.width,height:_support.ui.height,trigger:_support.ui.trigger,category:_support.ui.mailbox,mode:_support.ui.lightbox_mode},embed:_support.ui.embed||{container:_support.ui.container,mode:_support.ui.mode,subject:_support.ui.subject},bar:_support.ui.bar||"bar"==_support.ui.extension,widget:_support.ui.widget||!1,contactMode:_support.ui.contactMode||_support.ui.anonymousMode||"default",faces:_support.ui.faces||[],styles:_support.ui.styles||{},pushNotifications:_support.ui.pushNotifications||"undefined"==typeof _support.ui.pushNotifications||!0===_support.ui.pushNotifications,enableKb:"undefined"==typeof _support.ui.enableKb||!0===_support.ui.enableKb||"true"==_support.ui.enableKb,enableBrowserTabAlerting:"undefined"==typeof _support.ui.enableBrowserTabAlerting||!0===_support.ui.enableBrowserTabAlerting||"true"==_support.ui.enableBrowserTabAlerting,disableAudio:!0===_support.ui.disableAudio||"true"==_support.ui.disableAudio},translations:_support.translations||{messagePrompt:{reply:"Reply",close:"Close"}},_preview:_support._preview,_setup:_support._setup,openPopup:_support.openPopup,_route:_support._route,_routeParams:_support._routeParams||{},outbounds:_support.outbounds,apps:_support.apps};t.ui.popup&&!t.ui.popup.mode&&(t.ui.popup.mode=_support.ui.lightbox_mode),_support.user&&_support.user.email&&(e=_support.user),!e&&(_support.email||_support.authkey||_support.id)&&(e={id:_support.id,authkey:_support.authkey,email:_support.email,name:_support.name,avatar:_support.avatar,created:_support.created,data:_support.data});var n={};n.widget=_support.custom_fields||null,n.contact=_support.contact_custom_fields||null;var r=_support.callbacks||{unread_callback:_support.unread_callback,analytics_track_callback:_support.analytics_track_callback};Reamaze.initialize(t,e,n,r)};reamaze?Reamaze=reamaze:(reamaze=Reamaze,e(function(){Reamaze.jQuery=e,(_support=_support||{account:"democentral",ui:{}}).outbounds||(_support.outbounds=[]);var n=_support.outbounds.push;_support.outbounds.push=function(t){n.apply(_support.outbounds,t),e(document).trigger("Reamaze.Outbounds.new",t)};var r=e.throttle(300,t);r(),Reamaze.reload=r}))}(jQuery.noConflict(!0)),Reamaze.React=window.React,Reamaze.ReactDOM=window.ReactDOM,Reamaze.createReactClass=window.createReactClass,Reamaze.PropTypes=window.PropTypes,window.React=window._ReactOriginal,window.ReactDOM=window._ReactDOMOriginal,window.createReactClass=window._createReactClassOriginal,window.PropTypes=window._PropTypesOriginal,delete window._ReactOriginal,delete window._ReactDOMOriginal,delete window._createReactClassOriginal,delete window._PropTypesOriginal;